try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="96c00f0e-8c1c-4e90-ab39-94577270f846",e._sentryDebugIdIdentifier="sentry-dbid-96c00f0e-8c1c-4e90-ab39-94577270f846")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4514],{1511:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(72226);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.default=function(e,t){if(Array.isArray(e)||e&&("function"==typeof e||"object"===o(e))&&!(e instanceof Date)||null===e)return e;if(t===String)return null==e?e:e.toString();if(t===Number||t===n.SimpleSchema.Integer){if("string"==typeof e&&e.length>0){var r=Number(e);if(!isNaN(r))return r}return e}if(t===Date){if("string"==typeof e){var a=Date.parse(e);if(!1===isNaN(a))return new Date(a)}if("number"==typeof e)return new Date(e)}if(t===Boolean){if("string"==typeof e){if("true"===e.toLowerCase())return!0;if("false"===e.toLowerCase())return!1}else if("number"==typeof e&&!isNaN(e))return!!e}return t===Array?[e]:e},e.exports=t.default,e.exports.default=t.default},4217:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(35951)),o=r(60374);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e,t){var r=e.getInfoForKey(t)||{};return{isSet:void 0!==r.value,value:r.value,operator:r.operator||null}}t.default=function(){var e;function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");this.options=e,this.doneKeys=[]}return e=[{key:"runForPosition",value:function(e){var t=e.key,r=e.operator,u=e.position,s=e.value,l=this.options,f=l.closestSubschemaFieldName,p=l.extendedAutoValueContext,y=l.func,d=l.isModifier,h=l.isUpsert,v=l.mongoObject;if(!this.doneKeys.includes(t)){var b=(0,o.getParentOfKey)(t,!0),m=c(v,b.slice(0,-1)),g=!1;if(!(Array.isArray(m.value)&&isNaN(t.split(".").slice(-1).pop()))){var O=y.call(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,o,a;n=e,o=t,a=r[t],o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({closestSubschemaFieldName:f.length?f:null,field:function(e){return c(v,f+e)},isModifier:d,isUpsert:h,isSet:void 0!==s,key:t,operator:r,parentField:function(){return m},siblingField:function(e){return c(v,b+e)},unset:function(){g=!0},value:s},p||{}),v.getObject());if(this.doneKeys.push(t),g&&u&&v.removeValueForPosition(u),void 0!==O){if(d){if(O&&"object"===a(O)){var _,j,E=Object.keys(O).find(function(e){return"$"===e.substring(0,1)});E&&(_=E,j=O[E])}if(_||"$"===u.slice(0,1)||(_="$set",j=O),_){v.removeValueForPosition(u),v.setValueForPosition("".concat(_,"[").concat(t,"]"),(0,n.default)(j));return}}v.setValueForPosition(u,(0,n.default)(O))}}}}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),t}(),e.exports=t.default,e.exports.default=t.default},4339:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(41878)),o=a(r(55905));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e;function t(e,r){var n=this;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");this.name=r,this._simpleSchema=e,this._schema=e.schema(),this._schemaKeys=Object.keys(this._schema),this._validationErrors=[],this._deps={};var o=e._constructorOptions.tracker;o&&(this._depsAny=new o.Dependency,this._schemaKeys.forEach(function(e){n._deps[e]=new o.Dependency}))}return e=[{key:"_markKeyChanged",value:function(e){var t=n.default.makeKeyGeneric(e);Object.prototype.hasOwnProperty.call(this._deps,t)&&this._deps[t].changed()}},{key:"_markKeysChanged",value:function(e){var t=this;e&&Array.isArray(e)&&e.length&&(e.forEach(function(e){return t._markKeyChanged(e)}),this._depsAny&&this._depsAny.changed())}},{key:"setValidationErrors",value:function(e){var t=this._validationErrors.map(function(e){return e.name}),r=e.map(function(e){return e.name});this._validationErrors=e;var n=t.concat(r);this._markKeysChanged(n)}},{key:"addValidationErrors",value:function(e){var t=this,r=e.map(function(e){return e.name});e.forEach(function(e){return t._validationErrors.push(e)}),this._markKeysChanged(r)}},{key:"reset",value:function(){this.setValidationErrors([])}},{key:"getErrorForKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.default.makeKeyGeneric(e),r=this._validationErrors,o=r.find(function(t){return t.name===e});return o||r.find(function(e){return e.name===t})}},{key:"_keyIsInvalid",value:function(e,t){return!!this.getErrorForKey(e,t)}},{key:"keyIsInvalid",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.default.makeKeyGeneric(e);return Object.prototype.hasOwnProperty.call(this._deps,t)&&this._deps[t].depend(),this._keyIsInvalid(e,t)}},{key:"keyErrorMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.default.makeKeyGeneric(e);Object.prototype.hasOwnProperty.call(this._deps,t)&&this._deps[t].depend();var r=this.getErrorForKey(e,t);return r?this._simpleSchema.messageForError(r):""}},{key:"validate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.extendedCustomContext,n=t.ignore,a=t.keys,i=t.modifier,c=t.mongoObject,u=t.upsert,s=(0,o.default)({extendedCustomContext:void 0===r?{}:r,ignoreTypes:void 0===n?[]:n,isModifier:void 0!==i&&i,isUpsert:void 0!==u&&u,keysToValidate:a,mongoObject:c,obj:e,schema:this._simpleSchema,validationContext:this});if(a){var l=!0,f=!1,p=void 0;try{for(var y,d=this._validationErrors[Symbol.iterator]();!(l=(y=d.next()).done);l=!0)!function(){var e=y.value;a.some(function(t){return t===e.name||e.name.startsWith("".concat(t,"."))})||s.push(e)}()}catch(e){f=!0,p=e}finally{try{l||null==d.return||d.return()}finally{if(f)throw p}}}return this.setValidationErrors(s),!s.length}},{key:"isValid",value:function(){return this._depsAny&&this._depsAny.depend(),0===this._validationErrors.length}},{key:"validationErrors",value:function(){return this._depsAny&&this._depsAny.depend(),this._validationErrors}},{key:"clean",value:function(){var e;return(e=this._simpleSchema).clean.apply(e,arguments)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),t}(),e.exports=t.default,e.exports.default=t.default},4864:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(81898)),o=[{exp:n.default.Email,msg:"must be a valid email address"},{exp:n.default.EmailWithTLD,msg:"must be a valid email address"},{exp:n.default.Domain,msg:"must be a valid domain"},{exp:n.default.WeakDomain,msg:"must be a valid domain"},{exp:n.default.IP,msg:"must be a valid IPv4 or IPv6 address"},{exp:n.default.IPv4,msg:"must be a valid IPv4 address"},{exp:n.default.IPv6,msg:"must be a valid IPv6 address"},{exp:n.default.Url,msg:"must be a valid URL"},{exp:n.default.Id,msg:"must be a valid alphanumeric ID"},{exp:n.default.ZipCode,msg:"must be a valid ZIP code"},{exp:n.default.Phone,msg:"must be a valid phone number"}];t.default={initialLanguage:"en",messages:{en:{required:"{{{label}}} is required",minString:"{{{label}}} must be at least {{min}} characters",maxString:"{{{label}}} cannot exceed {{max}} characters",minNumber:"{{{label}}} must be at least {{min}}",maxNumber:"{{{label}}} cannot exceed {{max}}",minNumberExclusive:"{{{label}}} must be greater than {{min}}",maxNumberExclusive:"{{{label}}} must be less than {{max}}",minDate:"{{{label}}} must be on or after {{min}}",maxDate:"{{{label}}} cannot be after {{max}}",badDate:"{{{label}}} is not a valid date",minCount:"You must specify at least {{minCount}} values",maxCount:"You cannot specify more than {{maxCount}} values",noDecimal:"{{{label}}} must be an integer",notAllowed:"{{{value}}} is not an allowed value",expectedType:"{{{label}}} must be of type {{dataType}}",regEx:function(e){var t,r=e.label,n=e.regExp;n&&(t=o.find(function(e){return e.exp&&e.exp.toString()===n}));var a=t?t.msg:"failed regular expression validation";return"".concat(r," ").concat(a)},keyNotInSchema:"{{name}} is not allowed by the schema"}}},e.exports=t.default,e.exports.default=t.default},6476:(e,t,r)=>{e=r.nmd(e);var n=r(53685),o=r(72489),a=1/0,i="[object Arguments]",c="[object Error]",u="[object Function]",s="[object Object]",l=/\b__p \+= '';/g,f=/\b(__p \+=) '' \+/g,p=/(__e\(.*?\)|\b__t\)) \+\n'';/g,y=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,d=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,v=/($^)/,b=/['\n\r\u2028\u2029\\]/g,m={};m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m[i]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object Boolean]"]=m["[object DataView]"]=m["[object Date]"]=m[c]=m[u]=m["[object Map]"]=m["[object Number]"]=m[s]=m["[object RegExp]"]=m["[object Set]"]=m["[object String]"]=m["[object WeakMap]"]=!1;var g={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},O="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,_="object"==typeof self&&self&&self.Object===Object&&self,j=O||_||Function("return this")(),E=t&&!t.nodeType&&t,S=E&&e&&!e.nodeType&&e,x=S&&S.exports===E,P=x&&O.process,k=function(){try{var e=S&&S.require&&S.require("util").types;if(e)return e;return P&&P.binding&&P.binding("util")}catch(e){}}(),A=k&&k.isTypedArray;function w(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function K(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}function T(e){return"\\"+g[e]}function I(e,t){return function(r){return e(t(r))}}var D=Function.prototype,N=Object.prototype,M=j["__core-js_shared__"],$=D.toString,C=N.hasOwnProperty,F=function(){var e=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),V=N.toString,R=$.call(Object),L=RegExp("^"+$.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=x?j.Buffer:void 0,G=j.Symbol,B=I(Object.getPrototypeOf,Object),z=N.propertyIsEnumerable,W=G?G.toStringTag:void 0,X=function(){try{var e=function(e,t){var r,n=null==e?void 0:e[t];return!(!em(n)||(r=n,F&&F in r))&&(ev(n)?L:d).test(function(e){if(null!=e){try{return $.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(n))?n:void 0}(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),q=U?U.isBuffer:void 0,Y=I(Object.keys,Object),Z=Math.max,Q=Date.now,H=G?G.prototype:void 0,J=H?H.toString:void 0;function ee(e,t){var r=ep(e),n=!r&&ef(e),o=!r&&!n&&ed(e),a=!r&&!n&&!o&&eO(e),i=r||n||o||a,c=i?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],u=c.length;for(var s in e)(t||C.call(e,s))&&!(i&&("length"==s||o&&("offset"==s||"parent"==s)||a&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||ei(s,u)))&&c.push(s);return c}function et(e,t,r){"__proto__"==t&&X?X(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function er(e){var t;return null==e?void 0===e?"[object Undefined]":"[object Null]":W&&W in Object(e)?function(e){var t=C.call(e,W),r=e[W];try{e[W]=void 0;var n=!0}catch(e){}var o=V.call(e);return n&&(t?e[W]=r:delete e[W]),o}(e):(t=e,V.call(t))}function en(e){return eg(e)&&er(e)==i}function eo(e,t){var r,n,o;return es((r=e,n=t,o=eE,n=Z(void 0===n?r.length-1:n,0),function(){for(var e=arguments,t=-1,a=Z(e.length-n,0),i=Array(a);++t<a;)i[t]=e[n+t];t=-1;for(var c=Array(n+1);++t<n;)c[t]=e[t];return c[n]=o(i),w(r,this,c)}),e+"")}function ea(e,t,r,n){return void 0===e||el(e,N[r])&&!C.call(n,r)?t:e}function ei(e,t){var r=typeof e;return!!(t=null==t?0x1fffffffffffff:t)&&("number"==r||"symbol"!=r&&h.test(e))&&e>-1&&e%1==0&&e<t}function ec(e,t,r){if(!em(r))return!1;var n=typeof t;return("number"==n?!!(ey(r)&&ei(t,r.length)):"string"==n&&t in r)&&el(r[t],e)}function eu(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||N)}var es=function(e){var t=0,r=0;return function(){var n=Q(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(X?function(e,t){var r;return X(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0})}:eE);function el(e,t){return e===t||e!=e&&t!=t}var ef=en(function(){return arguments}())?en:function(e){return eg(e)&&C.call(e,"callee")&&!z.call(e,"callee")},ep=Array.isArray;function ey(e){return null!=e&&eb(e.length)&&!ev(e)}var ed=q||function(){return!1};function eh(e){if(!eg(e))return!1;var t=er(e);return t==c||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!function(e){if(!eg(e)||er(e)!=s)return!1;var t=B(e);if(null===t)return!0;var r=C.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&$.call(r)==R}(e)}function ev(e){if(!em(e))return!1;var t=er(e);return t==u||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function eb(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff}function em(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function eg(e){return null!=e&&"object"==typeof e}var eO=A?function(e){return A(e)}:function(e){return eg(e)&&eb(e.length)&&!!m[er(e)]},e_=function(e){return eo(function(t,r){var n=-1,o=r.length,a=o>1?r[o-1]:void 0,i=o>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,i&&ec(r[0],r[1],i)&&(a=o<3?void 0:a,o=1),t=Object(t);++n<o;){var c=r[n];c&&e(t,c,n,a)}return t})}(function(e,t,r,n){var o;!function(e,t,r,n){var o=!r;r||(r={});for(var a=-1,i=t.length;++a<i;){var c=t[a],u=n?n(r[c],e[c],c,r,e):void 0;void 0===u&&(u=e[c]),o?et(r,c,u):function(e,t,r){var n=e[t];C.call(e,t)&&el(n,r)&&(void 0!==r||t in e)||et(e,t,r)}(r,c,u)}}(t,ey(o=t)?ee(o,!0):function(e){if(!em(e)){var t=e,r=[];if(null!=t)for(var n in Object(t))r.push(n);return r}var o=eu(e),a=[];for(var i in e)"constructor"==i&&(o||!C.call(e,i))||a.push(i);return a}(o),e,n)}),ej=eo(function(e,t){try{return w(e,void 0,t)}catch(e){return eh(e)?e:Error(e)}});function eE(e){return e}e.exports=function(e,t,r){var i=o.imports._.templateSettings||o;r&&ec(e,t,r)&&(t=void 0),e=null==(c=e)?"":function e(t){if("string"==typeof t)return t;if(ep(t))return K(t,e)+"";if("symbol"==typeof(r=t)||eg(r)&&"[object Symbol]"==er(r))return J?J.call(t):"";var r,n=t+"";return"0"==n&&1/t==-a?"-0":n}(c),t=e_({},t,i,ea);var c,u,s,d=e_({},t.imports,i.imports,ea),h=ey(d)?ee(d):function(e){if(!eu(e))return Y(e);var t=[];for(var r in Object(e))C.call(e,r)&&"constructor"!=r&&t.push(r);return t}(d),m=K(h,function(e){return d[e]}),g=0,O=t.interpolate||v,_="__p += '",j=RegExp((t.escape||v).source+"|"+O.source+"|"+(O===n?y:v).source+"|"+(t.evaluate||v).source+"|$","g"),E=C.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/[\r\n]/g," ")+"\n":"";e.replace(j,function(t,r,n,o,a,i){return n||(n=o),_+=e.slice(g,i).replace(b,T),r&&(u=!0,_+="' +\n__e("+r+") +\n'"),a&&(s=!0,_+="';\n"+a+";\n__p += '"),n&&(_+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),g=i+t.length,t}),_+="';\n";var S=C.call(t,"variable")&&t.variable;S||(_="with (obj) {\n"+_+"\n}\n"),_=(s?_.replace(l,""):_).replace(f,"$1").replace(p,"$1;"),_="function("+(S||"obj")+") {\n"+(S?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+_+"return __p\n}";var x=ej(function(){return Function(h,E+"return "+_).apply(void 0,m)});if(x.source=_,eh(x))throw x;return x}},7821:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(this.valueShouldBeChecked){var e=this.definition.allowedValues;if(e)return!!("function"==typeof Set&&e instanceof Set?e.has(this.value):e.includes(this.value))||n.SimpleSchema.ErrorTypes.VALUE_NOT_ALLOWED}};var n=r(72226);e.exports=t.default,e.exports.default=t.default},12290:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(this.valueShouldBeChecked){var e=this.definition,t=e.type,r=this.value,u=this.operator;if(t===String)return(0,i.default)(e,r);if(t===Number)return(0,a.default)(e,r,u,!1);if(t===n.SimpleSchema.Integer)return(0,a.default)(e,r,u,!0);if(t===Boolean){if("boolean"==typeof r)return;return{type:n.SimpleSchema.ErrorTypes.EXPECTED_TYPE,dataType:"Boolean"}}if(t===Object||n.SimpleSchema.isSimpleSchema(t)){if(r===Object(r)&&"function"!=typeof r[Symbol.iterator]&&!(r instanceof Date))return;return{type:n.SimpleSchema.ErrorTypes.EXPECTED_TYPE,dataType:"Object"}}if(t===Array)return(0,c.default)(e,r);if(t instanceof Function){if(!(r instanceof t))return{type:n.SimpleSchema.ErrorTypes.EXPECTED_TYPE,dataType:t.name};if(t===Date)return(0,o.default)(e,r)}}};var n=r(72226),o=u(r(31890)),a=u(r(22079)),i=u(r(72271)),c=u(r(45257));function u(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},19393:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SUGGESTED_EVALUATE=t.DEFAULT_ESCAPE=t.DEFAULT_INTERPOLATE=void 0;var n=a(r(6476)),o=a(r(95111));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=t.DEFAULT_INTERPOLATE=/{{{([^{}#][\s\S]+?)}}}/g,f=t.DEFAULT_ESCAPE=/{{([^{}#][\s\S]+?)}}/g;t.SUGGESTED_EVALUATE=/{{#([^{}].*?)}}/g;var p=function(){var e,t;function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.escape,n=e.evaluate,o=e.initialLanguage,a=e.interpolate,i=e.messages,c=e.tracker;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");this.language=o||r.language||"en",this.messageList=i||{},c&&(this.tracker=c,this.trackerDep=new c.Dependency),this.interpolate=a||r.interpolate||l,this.evaluate=n||r.evaluate,this.escape=t||r.escape||f}return e=[{key:"clone",value:function(){var e=new r({escape:this.escape,evaluate:this.evaluate,initialLanguage:this.language,interpolate:this.interpolate,tracker:this.tracker});return e.messages(this.messageList),e}},{key:"getMessages",value:function(e){!e&&(e=this.language,this.trackerDep&&this.trackerDep.depend());var t=r.messages[e],n=this.messageList[e];if(n?t&&(n=(0,o.default)({},t,n)):n=t,!n)throw Error('No messages found for language "'.concat(e,'"'));return{messages:n,language:e}}},{key:"message",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.context,a=t.language;if(e.message)return e.message;var u=e.name,l=r.makeNameGeneric(u),f=this.getMessages(a).messages[e.type],p=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({genericName:l},o,{},e);return(f&&"object"===i(f)&&(f=f[l]||f._default),"string"==typeof f&&(f=(0,n.default)(f,{interpolate:this.interpolate,evaluate:this.evaluate,escape:this.escape})),"function"!=typeof f)?"".concat(u," is invalid"):f(p)}},{key:"messages",value:function(e){(0,o.default)(this.messageList,e)}},{key:"setLanguage",value:function(e){this.language=e,this.trackerDep&&this.trackerDep.changed()}}],t=[{key:"makeNameGeneric",value:function(e){return"string"!=typeof e?null:e.replace(/\.[0-9]+(?=\.|$)/g,".$")}},{key:"defaults",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.escape,n=e.evaluate,a=e.initialLanguage,i=e.interpolate,c=e.messages;"string"==typeof a&&(r.language=a),i instanceof RegExp&&(r.interpolate=i),n instanceof RegExp&&(r.evaluate=n),t instanceof RegExp&&(r.escape=t),c&&(r.messages||(r.messages={}),(0,o.default)(r.messages,c))}}],e&&u(r.prototype,e),t&&u(r,t),r}();s(p,"messages",{}),t.default=p},20758:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){var t,r,n,o;return(o=(o=(o=e=(e=((e=(e=(e=(e=e||"").toString()).trim()).replace((r=(t=e).lastIndexOf("."),n=t.substring(r,t.length),-1===r?"":n),""))||"").toString().trim().replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()).replace(/[\W_]+/g," "))||"").trim())[0]&&(o=o[0].toUpperCase()+o.substr(1).toLowerCase()),o=(o=o.replace(/\bid\b/g,"ID")).replace(/\bId\b/g,"ID")},e.exports=t.default,e.exports.default=t.default},22079:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,o){return"number"!=typeof t||isNaN(t)?{type:n.SimpleSchema.ErrorTypes.EXPECTED_TYPE,dataType:o?"Integer":"Number"}:"$inc"!==r&&null!==e.max&&(e.exclusiveMax?e.max<=t:e.max<t)?{type:e.exclusiveMax?n.SimpleSchema.ErrorTypes.MAX_NUMBER_EXCLUSIVE:n.SimpleSchema.ErrorTypes.MAX_NUMBER,max:e.max}:"$inc"!==r&&null!==e.min&&(e.exclusiveMin?e.min>=t:e.min>t)?{type:e.exclusiveMin?n.SimpleSchema.ErrorTypes.MIN_NUMBER_EXCLUSIVE:n.SimpleSchema.ErrorTypes.MIN_NUMBER,min:e.min}:o&&!Number.isInteger(t)?{type:n.SimpleSchema.ErrorTypes.MUST_BE_INTEGER}:void 0};var n=r(72226);Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},e.exports=t.default,e.exports.default=t.default},28029:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r="",n="".concat(t,".");return 0===e.indexOf(n)&&(r=e.replace(n,"")).startsWith("$.")&&(r=r.slice(2)),r},e.exports=t.default,e.exports.default=t.default},31008:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){try{if(e!==Object(e)||e instanceof Date||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)return!1}catch(e){return!1}return!0},e.exports=t.default,e.exports.default=t.default},31890:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return isNaN(t.getTime())?{type:n.SimpleSchema.ErrorTypes.BAD_DATE}:e.min&&"function"==typeof e.min.getTime&&e.min.getTime()>t.getTime()?{type:n.SimpleSchema.ErrorTypes.MIN_DATE,min:(0,o.dateToDateString)(e.min)}:e.max&&"function"==typeof e.max.getTime&&e.max.getTime()<t.getTime()?{type:n.SimpleSchema.ErrorTypes.MAX_DATE,max:(0,o.dateToDateString)(e.max)}:void 0};var n=r(72226),o=r(60374);e.exports=t.default,e.exports.default=t.default},35951:(e,t,r)=>{var n=r(81029).hp,o=function(){"use strict";var e,t,r;function o(e,t){return null!=t&&e instanceof t}try{e=Map}catch(t){e=function(){}}try{t=Set}catch(e){t=function(){}}try{r=Promise}catch(e){r=function(){}}function a(i,u,s,l,f){"object"==typeof u&&(s=u.depth,l=u.prototype,f=u.includeNonEnumerable,u=u.circular);var p=[],y=[],d=void 0!==n;return void 0===u&&(u=!0),void 0===s&&(s=1/0),function i(s,h){if(null===s)return null;if(0===h||"object"!=typeof s)return s;if(o(s,e))v=new e;else if(o(s,t))v=new t;else if(o(s,r))v=new r(function(e,t){s.then(function(t){e(i(t,h-1))},function(e){t(i(e,h-1))})});else if(a.__isArray(s))v=[];else if(a.__isRegExp(s))v=new RegExp(s.source,c(s)),s.lastIndex&&(v.lastIndex=s.lastIndex);else if(a.__isDate(s))v=new Date(s.getTime());else{if(d&&n.isBuffer(s))return v=n.allocUnsafe?n.allocUnsafe(s.length):new n(s.length),s.copy(v),v;o(s,Error)?v=Object.create(s):void 0===l?v=Object.create(b=Object.getPrototypeOf(s)):(v=Object.create(l),b=l)}if(u){var v,b,m,g=p.indexOf(s);if(-1!=g)return y[g];p.push(s),y.push(v)}for(var O in o(s,e)&&s.forEach(function(e,t){var r=i(t,h-1),n=i(e,h-1);v.set(r,n)}),o(s,t)&&s.forEach(function(e){var t=i(e,h-1);v.add(t)}),s)b&&(m=Object.getOwnPropertyDescriptor(b,O)),m&&null==m.set||(v[O]=i(s[O],h-1));if(Object.getOwnPropertySymbols)for(var _=Object.getOwnPropertySymbols(s),O=0;O<_.length;O++){var j=_[O],E=Object.getOwnPropertyDescriptor(s,j);(!E||E.enumerable||f)&&(v[j]=i(s[j],h-1),E.enumerable||Object.defineProperty(v,j,{enumerable:!1}))}if(f)for(var S=Object.getOwnPropertyNames(s),O=0;O<S.length;O++){var x=S[O],E=Object.getOwnPropertyDescriptor(s,x);E&&E.enumerable||(v[x]=i(s[x],h-1),Object.defineProperty(v,x,{enumerable:!1}))}return v}(i,s)}function i(e){return Object.prototype.toString.call(e)}function c(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return a.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},a.__objToStr=i,a.__isDate=function(e){return"object"==typeof e&&"[object Date]"===i(e)},a.__isArray=function(e){return"object"==typeof e&&"[object Array]"===i(e)},a.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===i(e)},a.__getRegExpFlags=c,a}();e.exports&&(e.exports=o)},41878:(e,t)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="______MONGO_OBJECT_REMOVED______";function i(e,t){return"$each"===t?e:e?"".concat(e,".").concat(t):t}function c(e){var t=e.slice(0,e.indexOf("["));return"$"===t.substring(0,1)?t:null}function u(e){if(null==e)return!0;if(Array.isArray(e)||"string"==typeof e)return!e.length;var t,r=Object.prototype.toString.call(e);if("[object Map]"===r||"[object Set]"===r)return!e.size;if(t=e&&e.constructor,e===("function"==typeof t&&t.prototype||Object.prototype))return!Object.keys(e).length;for(var n in e)if(hasOwnProperty.call(e,n))return!1;return!0}function s(e){var t=r(e);return null!=e&&("object"===t||"function"===t)}t.default=function(){var e,t;function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!(this instanceof r))throw TypeError("Cannot call a class as a function");this._obj=e,this._blackboxKeys=t,this._reParseObj()}return e=[{key:"_reParseObj",value:function(){var e=this._blackboxKeys;this._affectedKeys={},this._genericAffectedKeys={},this._positionsByGenericKey={},this._positionsThatCreateGenericKey={},this._parentPositions=[],this._positionsInsideArrays=[],this._objectPositions=[],this._arrayItemPositions=[],!function t(n,o,a,c,s,l,f){!s&&c&&"$"===c.substring(0,1)&&(s=c,c=null);var p=!1,y=!1;if(c){l||("$push"===s||"$addToSet"===s||"$pop"===s?(r.isBasicObject(o)&&"$each"in o?(o=o.$each,a="".concat(a,"[$each]")):c="".concat(c,".0"),l=!0):"$pull"===s&&(c="".concat(c,".0"),r.isBasicObject(o)&&(y=!0),l=!0));var d=r.makeKeyGeneric(c);if(p=e.indexOf(d)>-1,a){n._affectedKeys[a]=c,n._genericAffectedKeys[a]=d;var h={key:c,operator:s||null,position:a};n._positionsByGenericKey[d]||(n._positionsByGenericKey[d]=[]),n._positionsByGenericKey[d].push(h),s&&"$unset"!==s&&r.objectsThatGenericKeyWillCreate(d).forEach(function(e){n._positionsThatCreateGenericKey[e]||(n._positionsThatCreateGenericKey[e]=[]),n._positionsThatCreateGenericKey[e].push(h)}),f&&n._positionsInsideArrays.push(a)}}!y&&(Array.isArray(o)&&o.length>0?(a&&n._parentPositions.push(a),o.forEach(function(e,r){a&&n._arrayItemPositions.push("".concat(a,"[").concat(r,"]")),t(n,e,a?"".concat(a,"[").concat(r,"]"):r,"".concat(c,".").concat(r),s,l,!0)})):(!r.isBasicObject(o)||p)&&a||(a&&!u(o)&&(n._parentPositions.push(a),n._objectPositions.push(a)),Object.keys(o).forEach(function(e){var r=o[e];void 0===r?delete o[e]:"$slice"!==e&&t(n,r,a?"".concat(a,"[").concat(e,"]"):e,i(c,e),s,l,f)})))}(this,this._obj)}},{key:"forEachNode",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.endPointsOnly,o=void 0===n||n;if("function"!=typeof e)throw Error("filter requires a loop function");var a={};Object.keys(this._affectedKeys).forEach(function(r){o&&t._parentPositions.indexOf(r)>-1||e.call({value:t.getValueForPosition(r),isArrayItem:t._arrayItemPositions.indexOf(r)>-1,operator:c(r),position:r,key:t._affectedKeys[r],genericKey:t._genericAffectedKeys[r],updateValue:function(e){a[r]=e},remove:function(){a[r]=void 0}})}),Object.keys(a).forEach(function(e){t.setValueForPosition(e,a[e])})}},{key:"getValueForPosition",value:function(e){for(var t=e.split("["),n=this._obj,o=t.length,i=0;i<o;i++){var c=t[i];if("]"===c.slice(-1)&&(c=c.slice(0,-1)),!Array.isArray(n=n[c])&&!r.isBasicObject(n)&&i<o-1)return}if(n!==a)return n}},{key:"setValueForPosition",value:function(e,t){for(var n=e.split("["),o=this._obj,c=n.length,u=!1,s="",l=0;l<c;l++){var f=n[l];if("]"===f.slice(-1)&&(f=f.slice(0,-1)),f&&"$"!==f.substring(0,1)&&(s=i(s,f)),l===c-1)void 0===t?Array.isArray(o)?o[f]=a:delete o[f]:o[f]=t,this._affectedKeys[e]=s;else{if(void 0===o[f]&&void 0!==t){var p=n[l+1];p=parseInt(p,10),o[f]=Number.isNaN(p)?{}:[],u=!0}if(!Array.isArray(o=o[f])&&!r.isBasicObject(o)&&l<c-1)return}}(u||Array.isArray(t)||r.isBasicObject(t))&&this._reParseObj()}},{key:"removeValueForPosition",value:function(e){this.setValueForPosition(e,void 0)}},{key:"getKeyForPosition",value:function(e){return this._affectedKeys[e]}},{key:"getGenericKeyForPosition",value:function(e){return this._genericAffectedKeys[e]}},{key:"getInfoForKey",value:function(e){var t=this.getPositionForKey(e);if(t)return{value:this.getValueForPosition(t),operator:c(t)};for(var r=this.getPositionsForGenericKey("".concat(e,".$")),n=0;n<r.length;n++){var o=r[n],a=this.getValueForPosition(o);if(void 0===a){var i=o.slice(0,o.lastIndexOf("["));a=this.getValueForPosition(i)}if(void 0!==a)return{value:a,operator:c(o)}}}},{key:"getPositionForKey",value:function(e){for(var t=Object.getOwnPropertyNames(this._affectedKeys),r=0;r<t.length;r++){var n=t[r];if(this._affectedKeys[n]===e)return n}}},{key:"getPositionsForGenericKey",value:function(e){return this.getPositionsInfoForGenericKey(e).map(function(e){return e.position})}},{key:"getPositionsInfoForGenericKey",value:function(e){var t=this,r=this._positionsByGenericKey[e];return r&&0!==r.length||(r=this._positionsByGenericKey["".concat(e,".$")]),r&&0!==r.length||(r=[]),r.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){var n,o,a;n=e,o=t,a=r[t],o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({value:t.getValueForPosition(e.position)},e)})}},{key:"getPositionsThatCreateGenericKey",value:function(e){return this._positionsThatCreateGenericKey[e]||[]}},{key:"getValueForKey",value:function(e){var t=this.getPositionForKey(e);if(t)return this.getValueForPosition(t)}},{key:"addKey",value:function(e,t,n){var o=n?"".concat(n,"[").concat(e,"]"):r._keyToPosition(e);this.setValueForPosition(o,t)}},{key:"removeGenericKeys",value:function(e){var t=this;Object.getOwnPropertyNames(this._genericAffectedKeys).forEach(function(r){e.indexOf(t._genericAffectedKeys[r])>-1&&t.removeValueForPosition(r)})}},{key:"removeGenericKey",value:function(e){var t=this;Object.getOwnPropertyNames(this._genericAffectedKeys).forEach(function(r){t._genericAffectedKeys[r]===e&&t.removeValueForPosition(r)})}},{key:"removeKey",value:function(e){var t=this;Object.getOwnPropertyNames(this._affectedKeys).forEach(function(r){t._affectedKeys[r]===e&&t.removeValueForPosition(r)})}},{key:"removeKeys",value:function(e){var t=this;e.forEach(function(e){return t.removeKey(e)})}},{key:"filterGenericKeys",value:function(e){var t=this,r=[],n=[];Object.getOwnPropertyNames(this._genericAffectedKeys).forEach(function(o){var a=t._genericAffectedKeys[o];-1===r.indexOf(a)&&(r.push(a),a&&!e(a)&&n.push(a))}),n.forEach(function(e){return t.removeGenericKey(e)})}},{key:"setValueForKey",value:function(e,t){var r=this;Object.getOwnPropertyNames(this._affectedKeys).forEach(function(n){r._affectedKeys[n]===e&&r.setValueForPosition(n,t)})}},{key:"setValueForGenericKey",value:function(e,t){var r=this;Object.getOwnPropertyNames(this._genericAffectedKeys).forEach(function(n){r._genericAffectedKeys[n]===e&&r.setValueForPosition(n,t)})}},{key:"removeArrayItems",value:function(){!function e(t){!function(e,t){if(null!=e){if(Array.isArray(e))return e.forEach(t);var r,n=Object(e);if(!(null!=e&&"function"!=typeof e&&"number"==typeof(r=e.length)&&r>-1&&r%1==0&&r<=0x1fffffffffffff))return Object.keys(n).forEach(function(e){return t(n[e],e,n)});for(var o=-1;++o<e.length&&!1!==t(n[o],o,n););}}(t,function(n,o){var i=t[o];r.isBasicObject(i)?e(i):Array.isArray(i)&&(t[o]=i.filter(function(e){return e!==a}),e(t[o]))})}(this._obj)}},{key:"getObject",value:function(){return this._obj}},{key:"getFlatObject",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.keepArrays,n=void 0!==r&&r,o={};return Object.keys(this._affectedKeys).forEach(function(t){var r=e._affectedKeys[t];"string"==typeof r&&(!0===n&&-1===e._positionsInsideArrays.indexOf(t)&&-1===e._objectPositions.indexOf(t)||!0!==n&&-1===e._parentPositions.indexOf(t))&&(o[r]=e.getValueForPosition(t))}),o}},{key:"affectsKey",value:function(e){return!!this.getPositionForKey(e)}},{key:"affectsGenericKey",value:function(e){for(var t=Object.getOwnPropertyNames(this._genericAffectedKeys),r=0;r<t.length;r++){var n=t[r];if(this._genericAffectedKeys[n]===e)return!0}return!1}},{key:"affectsGenericKeyImplicit",value:function(e){for(var t=Object.getOwnPropertyNames(this._genericAffectedKeys),r=0;r<t.length;r++){var n,o,a=t[r];if(n=e,(o=this._genericAffectedKeys[a])===n||o.substring(0,n.length+1)==="".concat(n,".")||".$"===n.slice(-2)&&n.slice(0,-2)===o)return!0}return!1}}],t=[{key:"makeKeyGeneric",value:function(e){return"string"!=typeof e?null:e.replace(/\.[0-9]+(?=\.|$)/g,".$")}},{key:"expandKey",value:function(e,t,r){for(var n=t.split("["),o=r,a=0,i=n.length;a<i;a++){var c=n[a];if("]"===c.slice(-1)&&(c=c.slice(0,-1)),a===i-1)o[c]=e,void 0===e&&delete o[c];else{var u=n[a+1];u=parseInt(u,10),o[c]||(o[c]=Number.isNaN(u)?{}:[])}o=o[c]}}},{key:"_keyToPosition",value:function(e,t){var r="";return e.split(".").forEach(function(e,n){0!==n||t?r+="[".concat(e,"]"):r+=e}),r}},{key:"_positionToKey",value:function(e){var t=new r({});return t.setValueForPosition(e,1),t.getKeyForPosition(e)}},{key:"cleanNulls",value:function(e,t,n){var o=t?[]:{};return Object.keys(e).forEach(function(t){var a,i=e[t];!Array.isArray(i)&&r.isBasicObject(i)?u(i=r.cleanNulls(i,!1,n))||(o[t]=i):Array.isArray(i)?u(i=r.cleanNulls(i,!0,n))||(o[t]=i):null==(a=i)||"string"==typeof a&&0===a.length?n&&"string"==typeof i&&0===i.length&&(o[t]=i):o[t]=i}),o}},{key:"reportNulls",value:function(e,t){var n={};return Object.keys(e).forEach(function(o){var a=e[o];(null==a||!t&&"string"==typeof a&&0===a.length||Array.isArray(a)&&0===r.cleanNulls(a,!0,t).length)&&(n[o]="")}),n}},{key:"docToModifier",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.keepArrays,o=t.keepEmptyStrings,a=void 0!==o&&o,i=new r(e).getFlatObject({keepArrays:void 0!==n&&n}),c=r.reportNulls(i,a);i=r.cleanNulls(i,!1,a);var s={};return u(i)||(s.$set=i),u(c)||(s.$unset=c),s}},{key:"isBasicObject",value:function(e){return e===Object(e)&&Object.getPrototypeOf(e)===Object.prototype}},{key:"objAffectsKey",value:function(e,t){return new r(e).affectsKey(t)}},{key:"objectsThatGenericKeyWillCreate",value:function(e){var t=[];do{var r=e.lastIndexOf(".");(e=-1===r?"":e.slice(0,r)).length&&!e.endsWith(".$")&&t.push(e)}while(e.length);return t}},{key:"expandObj",value:function(e){var t={};return Object.keys(e).forEach(function(r){for(var n=e[r],o=r.split("."),a=o.length,i=t,c=0;c<a;c++){var u=o[c];if(void 0!==i[u]&&!s(i[u]))break;if(c===a-1)i[u]=n;else{var l=o[c+1];Number.isNaN(l=parseInt(l,10))&&!s(i[u])?i[u]={}:Number.isNaN(l)||Array.isArray(i[u])||(i[u]=[])}i=i[u]}}),t}}],e&&o(r.prototype,e),t&&o(r,t),r}(),e.exports=t.default,e.exports.default=t.default},45257:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return Array.isArray(t)?null!==e.minCount&&t.length<e.minCount?{type:n.SimpleSchema.ErrorTypes.MIN_COUNT,minCount:e.minCount}:null!==e.maxCount&&t.length>e.maxCount?{type:n.SimpleSchema.ErrorTypes.MAX_COUNT,maxCount:e.maxCount}:void 0:{type:n.SimpleSchema.ErrorTypes.EXPECTED_TYPE,dataType:"Array"}};var n=r(72226);e.exports=t.default,e.exports.default=t.default},47338:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,n=e;do if(-1!==(r=n.lastIndexOf("."))){n=n.slice(0,r);var o=e.slice(n.length+1);t(n,o)}while(-1!==r)},e.exports=t.default,e.exports.default=t.default},47870:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getUTCMonth()+1;t<10&&(t="0".concat(t));var r=e.getUTCDate();return r<10&&(r="0".concat(r)),"".concat(e.getUTCFullYear(),"-").concat(t,"-").concat(r)},e.exports=t.default,e.exports.default=t.default},53310:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=e.lastIndexOf(".");return -1===r?"":e.slice(0,r+Number(!!t))},e.exports=t.default,e.exports.default=t.default},53685:e=>{e.exports=/<%=([\s\S]+?)%>/g},55905:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(41878)),o=r(72226),a=r(60374),i=s(r(12290)),c=s(r(66682)),u=s(r(7821));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance")}()}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){var n,o,a;n=e,o=t,a=r[t],o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.default=function(e){var t=e.extendedCustomContext,r=e.ignoreTypes,s=e.isModifier,f=e.isUpsert,d=e.keysToValidate,h=e.mongoObject,v=e.obj,b=e.schema,m=e.validationContext;if(!v||"object"!==y(v)&&"function"!=typeof v)throw Error("The first argument of validate() must be an object");if(!s&&(0,a.looksLikeModifier)(v))throw Error("When the validation object contains mongo operators, you must set the modifier option to true");function g(e){h||(h=new n.default(v,b.blackboxKeys()));var t=h.getInfoForKey(e)||{};return{isSet:void 0!==t.value,value:t.value,operator:t.operator||null}}var O=[];function _(e){var r,f,h=e.val,j=e.affectedKey,E=e.operator,S=e.isInArrayItemObject,x=void 0!==S&&S,P=e.isInSubObject,k=void 0!==P&&P;if(j){if(b.keyIsInBlackBox(j))return;r=n.default.makeKeyGeneric(j);var A=!d||d.some(function(e){return e===j||e===r||j.startsWith("".concat(e,"."))||r.startsWith("".concat(e,"."))}),w=(0,a.getParentOfKey)(j,!0),K=w.slice(0,-1),T=p({field:function(e){return g(e)},genericKey:r,isInArrayItemObject:x,isInSubObject:k,isModifier:s,isSet:void 0!==h,key:j,obj:v,operator:E,parentField:function(){return g(K)},siblingField:function(e){return g(w+e)},validationContext:m,value:h},t||{});f=b.getDefinition(j,null,T),A&&function(e,r,n,l,f,d,h){if(!l){if("$unset"===f)return;O.push({name:r,type:o.SimpleSchema.ErrorTypes.KEY_NOT_IN_SCHEMA,value:e});return}if("$rename"===f&&!b.allowsKey(e))return O.push({name:e,type:o.SimpleSchema.ErrorTypes.KEY_NOT_IN_SCHEMA,value:null});var _=(0,a.getParentOfKey)(r,!0),j=_.slice(0,-1),E=[],S=p({addValidationErrors:function(e){e.forEach(function(e){return E.push(e)})},field:function(e){return g(e)},genericKey:n,isInArrayItemObject:d,isInSubObject:h,isModifier:s,isSet:void 0!==e,key:r,obj:v,operator:f,parentField:function(){return g(j)},siblingField:function(e){return g(_+e)},validationContext:m,value:e,valueShouldBeChecked:"$unset"!==f&&"$rename"!==f&&(null!=e||".$"===n.slice(-2)&&null===e&&!l.optional)},t||{}),x=[c.default,i.default,u.default],P=x.concat(b._validators).concat(o.SimpleSchema._validators);l.type.some(function(t){if(t===o.SimpleSchema.Any)return!0;l.type;var n=p({},S,{definition:p({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(l,["type"]),{},t)}),a=P.slice(0);return"function"==typeof t.custom&&a.splice(x.length,0,t.custom),a.every(function(t){var o=t.call(n);return"string"==typeof o?(E.push({name:r,type:o,value:e}),!1):"object"===y(o)&&null!==o?(E.push(p({name:r,value:e},o)),!1):!1!==o})})||(O=O.concat(E))}(h,j,r,f,E,x,k)}var I=b.objectKeys(r);if(null==h&&(!f||!f.optional&&I&&I.length>0)&&(h={}),Array.isArray(h))h.forEach(function(e,t){_({val:e,affectedKey:"".concat(j,".").concat(t),operator:E})});else if((0,a.isObjectWeShouldTraverse)(h)&&(!f||!b._blackboxKeys.has(j))){var D=Object.keys(h);x=r&&".$"===r.slice(-2);for(var N=[],M=0,$=[].concat(l(D),l(I));M<$.length;M++){var C=$[M];-1===N.indexOf(C)&&(N.push(C),_({val:h[C],affectedKey:(0,a.appendAffectedKey)(j,C),operator:E,isInArrayItemObject:x,isInSubObject:!0}))}}}s?Object.keys(v).forEach(function(e){var t=v[e];if("$"!==e.slice(0,1))throw Error("Expected '".concat(e,"' to be a modifier operator like '$set'"));if(function(e){if("$pushAll"===e)throw Error("$pushAll is not supported; use $push + $each");return -1===["$pull","$pullAll","$pop","$slice"].indexOf(e)}(e)){if(f&&("$set"===e||"$setOnInsert"===e)){var r=Object.keys(t);b.objectKeys().forEach(function(t){r.includes(t)||_({val:void 0,affectedKey:t,operator:e})})}Object.keys(t).forEach(function(r){var n=t[r];("$push"===e||"$addToSet"===e)&&("object"===y(n)&&"$each"in n?n=n.$each:r="".concat(r,".0")),_({val:n,affectedKey:r,operator:e})})}}):_({val:v});var j=b._docValidators.concat(o.SimpleSchema._docValidators),E=p({ignoreTypes:r,isModifier:s,isUpsert:f,keysToValidate:d,mongoObject:h,obj:v,schema:b,validationContext:m},t||{});j.forEach(function(e){var t=e.call(E,v);if(!Array.isArray(t))throw Error("Custom doc validator must return an array of error objects");t.length&&(O=O.concat(t))});var S=[];return O=O.filter(function(e){return!(r.includes(e.type)||S.includes(e.name))&&(S.push(e.name),!0)})},e.exports=t.default,e.exports.default=t.default},56414:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.forEach(function(r){Object.keys(r).forEach(function(n){"__proto__"!==n&&(r[n]&&r[n].constructor&&r[n].constructor===Object?(t[n]&&t[n].constructor&&t[n].constructor===Object||(t[n]={}),e(t[n],r[n])):t[n]=r[n])})}),t},e.exports=t.default,e.exports.default=t.default},58364:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.fieldName,r=e.isModifier,a=e.mongoObject,i=a.getPositionsInfoForGenericKey(t);if(r&&a.getPositionsThatCreateGenericKey(t).length>0)return i;if(-1===t.indexOf(".")&&0===i.length)return i.push({key:t,value:void 0,operator:r?"$set":null,position:r?"$set[".concat(t,"]"):t}),i;var c=(0,o.getParentOfKey)(t),u=(0,o.getLastPartOfKey)(t,c),s=u.replace(/\./g,"]["),l=a.getPositionsInfoForGenericKey(c);return l.length?l.forEach(function(e){var t="".concat(e.position,"[").concat(s,"]");i.find(function(e){return e.position===t})||i.push({key:"".concat(e.key,".").concat(u),value:void 0,operator:e.operator,position:t})}):".$"!==c.slice(-2)&&a.getPositionsThatCreateGenericKey(c).forEach(function(e){var r=e.operator,a=e.position;if(r){for(var u,s,l=a.slice(a.indexOf("[")+1,a.indexOf("]")).split("."),f=[];l.length&&s!==c;)f.push(l.shift()),s=f.join(".");s="".concat(s,".").concat(t.slice(s.length+1)),u="$set[".concat(s,"]")}else{var p=(0,o.getLastPartOfKey)(t,c).replace(/\./g,"][");u="".concat(a.slice(0,a.lastIndexOf("[")),"[").concat(p,"]")}i.find(function(e){return e.position===u})||i.push({key:n.default._positionToKey(u),value:void 0,operator:r?"$set":null,position:u})}),i};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(41878)),o=r(60374);e.exports=t.default,e.exports.default=t.default},60374:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"appendAffectedKey",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"dateToDateString",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"forEachKeyAncestor",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"getKeysWithValueInObj",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"getLastPartOfKey",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"getParentOfKey",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"isEmptyObject",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"isObjectWeShouldTraverse",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"looksLikeModifier",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"merge",{enumerable:!0,get:function(){return p.default}});var n=y(r(60957)),o=y(r(47870)),a=y(r(47338)),i=y(r(94601)),c=y(r(28029)),u=y(r(53310)),s=y(r(69628)),l=y(r(31008)),f=y(r(70560)),p=y(r(56414));function y(e){return e&&e.__esModule?e:{default:e}}},60957:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return"$each"===t?e:e?"".concat(e,".").concat(t):t},e.exports=t.default,e.exports.default=t.default},66682:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this.definition,t=this.isInArrayItemObject,r=this.isInSubObject,a=this.key,i=this.obj,c=this.operator,u=this.value;if(e.optional)return;if(null===u||"$unset"===c||"$rename"===c)return n.SimpleSchema.ErrorTypes.REQUIRED;if(void 0===u){if(!c)return n.SimpleSchema.ErrorTypes.REQUIRED;if(!(0,o.getKeysWithValueInObj)(i.$set,a).length&&!(0,o.getKeysWithValueInObj)(i.$setOnInsert,a).length){var s=this.field(a);if((!s.isSet||null===s.value)&&(t||r||"$set"===c||"$setOnInsert"===c))return n.SimpleSchema.ErrorTypes.REQUIRED}}};var n=r(72226),o=r(60374);e.exports=t.default,e.exports.default=t.default},69628:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},e.exports=t.default,e.exports.default=t.default},70560:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return!!Object.keys(e||{}).find(function(e){return"$"===e.substring(0,1)})},e.exports=t.default,e.exports.default=t.default},72226:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ValidationContext",{enumerable:!0,get:function(){return c.default}}),t.SimpleSchema=t.schemaDefinitionOptions=void 0;var n=d(r(35951)),o=d(r(19393)),a=d(r(41878)),i=d(r(20758)),c=d(r(4339)),u=d(r(82461)),s=d(r(81898)),l=d(r(89540)),f=d(r(75350)),p=r(60374),y=d(r(4864));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r){return(h=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&v(o,r.prototype),o}:Reflect.construct).apply(null,arguments)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance")}()}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=["type","label","optional","required","autoValue","defaultValue"];t.schemaDefinitionOptions=j;var E=["type","min","max","minCount","maxCount","allowedValues","exclusiveMin","exclusiveMax","regEx","custom","blackbox","trim"],S=["label","optional","min","max","minCount","maxCount","allowedValues","exclusiveMin","exclusiveMax","regEx"],x=function(){var e,t;function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof r))throw TypeError("Cannot call a class as a function");_(this,"pick",k("pick")),_(this,"omit",k("omit")),this._constructorOptions=g({},r._constructorOptionDefaults,{},t),delete this._constructorOptions.clean,this._cleanOptions=g({},r._constructorOptionDefaults.clean,{},t.clean||{}),this._validators=[],this._docValidators=[],this._validationContexts={},this._schema={},this._depsLabels={},this.extend(e),this.messageBox=new o.default((0,n.default)(y.default)),this.version=r.version}return e=[{key:"forEachAncestorSimpleSchema",value:function(e,t){var n=this,o=a.default.makeKeyGeneric(e);(0,p.forEachKeyAncestor)(o,function(e){var a=n._schema[e];a&&a.type.definitions.forEach(function(n){r.isSimpleSchema(n.type)&&t(n.type,e,o.slice(e.length+1))})})}},{key:"reactiveLabelDependency",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._constructorOptions.tracker;if(e&&t){var r=a.default.makeKeyGeneric(e);if(this._schema[r]){this._depsLabels[r]||(this._depsLabels[r]=new t.Dependency),this._depsLabels[r].depend();return}this.forEachAncestorSimpleSchema(e,function(e,r,n){e.reactiveLabelDependency(n,t)})}}},{key:"nearestSimpleSchemaInstance",value:function(e){if(!e)return[null,null];var t,r,n=a.default.makeKeyGeneric(e);return this._schema[n]?[this,n]:(this.forEachAncestorSimpleSchema(e,function(e,n,o){!r&&e._schema[o]&&(r=e,t=o)}),t?[r,t]:[null,null])}},{key:"schema",value:function(e){if(!e)return this._schema;var t=a.default.makeKeyGeneric(e),r=this._schema[t];if(!r){var n=!1;this.forEachAncestorSimpleSchema(e,function(e,t,o){n||(r=e.schema(o)),r&&(n=!0)})}return r}},{key:"mergedSchema",value:function(){var e=this,t={};return this._schemaKeys.forEach(function(n){var o=e._schema[n];t[n]=o,o.type.definitions.forEach(function(e){if(r.isSimpleSchema(e.type)){var o=e.type.mergedSchema();Object.keys(o).forEach(function(e){t["".concat(n,".").concat(e)]=o[e]})}})}),t}},{key:"getDefinition",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.schema(e);if(o){var a=function(o,a){return function(i){if(!Array.isArray(t)||t.includes(i)){var c=o[i];S.indexOf(i)>-1&&"function"==typeof c?(a[i]=c.call(g({key:e},n)),"label"===i&&"string"!=typeof a[i]&&(a[i]=P(e,r._constructorOptions.humanizeAutoLabels))):a[i]=c}}},i={};return Object.keys(o).forEach(a(o,i)),o.type&&(i.type=o.type.definitions.map(function(e){var t={};return Object.keys(e).forEach(a(e,t)),t})),i}}},{key:"getQuickTypeForKey",value:function(e){var t,n=this.schema(e);if(n){var o=n.type.singleType;if(o===String)t="string";else if(o===Number||o===r.Integer)t="number";else if(o===Boolean)t="boolean";else if(o===Date)t="date";else if(o===Array){var a=this.schema("".concat(e,".$"));if(!a)return;var i=a.type.singleType;i===String?t="stringArray":i===Number||i===r.Integer?t="numberArray":i===Boolean?t="booleanArray":i===Date?t="dateArray":(i===Object||r.isSimpleSchema(i))&&(t="objectArray")}else o===Object&&(t="object");return t}}},{key:"getObjectSchema",value:function(e){var t={},r=a.default.makeKeyGeneric(e),n="".concat(r,"."),o=this.mergedSchema();return Object.keys(o).forEach(function(e){0===e.indexOf(n)&&(t[e.slice(n.length)]=o[e])}),this._copyWithSchema(t)}},{key:"autoValueFunctions",value:function(){var e=this,t=[].concat(this._autoValues);return this._schemaKeys.forEach(function(n){e._schema[n].type.definitions.forEach(function(e){r.isSimpleSchema(e.type)&&(t=t.concat(e.type.autoValueFunctions().map(function(e){var t=e.func,r=e.fieldName,o=e.closestSubschemaFieldName;return{func:t,fieldName:"".concat(n,".").concat(r),closestSubschemaFieldName:o.length?"".concat(n,".").concat(o):n}})))})}),t}},{key:"blackboxKeys",value:function(){var e=this,t=new Set(this._blackboxKeys);return this._schemaKeys.forEach(function(n){e._schema[n].type.definitions.forEach(function(e){r.isSimpleSchema(e.type)&&e.type.blackboxKeys().forEach(function(e){t.add("".concat(n,".").concat(e))})})}),Array.from(t)}},{key:"keyIsInBlackBox",value:function(e){var t=this,n=!1;return(0,p.forEachKeyAncestor)(a.default.makeKeyGeneric(e),function(e,o){if(t._blackboxKeys.has(e))n=!0;else{var a=t.schema(e);a&&a.type.definitions.forEach(function(e){r.isSimpleSchema(e.type)&&e.type.keyIsInBlackBox(o)&&(n=!0)})}}),n}},{key:"allowsKey",value:function(e){var t=this;return this._schemaKeys.some(function(n){if(n===e)return!0;var o=t.schema(n),a=e.slice(0,n.length+2);if(a.slice(0,-1)!=="".concat(n,"."))return!1;if(t._blackboxKeys.has(n))return a!=="".concat(n,".$");var i=!1,c=e.slice(n.length+1);return o.type.definitions.forEach(function(e){r.isSimpleSchema(e.type)&&e.type.allowsKey(c)&&(i=!0)}),i})}},{key:"objectKeys",value:function(e){return e?this._objectKeys["".concat(e,".")]||[]:this._firstLevelSchemaKeys}},{key:"_copyWithSchema",value:function(e){var t=new r(e,g({},this._constructorOptions));return t._cleanOptions=this._cleanOptions,t.messageBox=this.messageBox.clone(),t}},{key:"clone",value:function(){return this._copyWithSchema(this._schema)}},{key:"extend",value:function(){var e,t,n=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Array.isArray(o))throw Error("You may not pass an array of schemas to the SimpleSchema constructor or to extend()");r.isSimpleSchema(o)?(t=o._schema,this._validators=this._validators.concat(o._validators),this._docValidators=this._docValidators.concat(o._docValidators),Object.assign(this._cleanOptions,o._cleanOptions),Object.assign(this._constructorOptions,o._constructorOptions)):t=(0,f.default)(o);var a=Object.keys(t),i=new Set([].concat(b(Object.keys(this._schema)),b(a)));return a.forEach(function(e){var r=function(e){var t=Object.keys(e).reduce(function(t,r){return E.includes(r)||(t[r]=e[r]),t},{});if(e.type&&e.type instanceof u.default)t.type=e.type.clone();else{var r=Object.keys(e).reduce(function(t,r){return E.includes(r)&&(t[r]=e[r]),t},{});t.type=new u.default(r)}return t}(t[e]);if(n._schema[e]){if(!Object.prototype.hasOwnProperty.call(n._schema,e))throw Error("".concat(e," key is actually the name of a method on Object, please rename it"));r.type;var o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(r,["type"]);n._schema[e]=g({},n._schema[e],{},o),r.type&&n._schema[e].type.extend(r.type)}else n._schema[e]=r;!function(e,t,r,n){if(!t.type)throw Error("".concat(e,' key is missing "type"'));Object.keys(t).forEach(function(t){if(-1===j.indexOf(t))throw Error("Invalid definition for ".concat(e,' field: "').concat(t,'" is not a supported property'))});var o,a=!1;if(t.type.definitions.forEach(function(t){var r=t.type;if(!r)throw Error("Invalid definition for ".concat(e,' field: "type" option is required'));if(Array.isArray(r))throw Error("Invalid definition for ".concat(e,' field: "type" may not be an array. Change it to Array.'));if(r.constructor===Object&&(0,p.isEmptyObject)(r))throw Error("Invalid definition for ".concat(e,' field: "type" may not be an object. Change it to Object'));r===Array&&(a=!0),x.isSimpleSchema(r)&&Object.keys(r._schema).forEach(function(t){var r="".concat(e,".").concat(t);if(n.has(r))throw Error('The type for "'.concat(e,'" is set to a SimpleSchema instance that defines "').concat(r,'", but the parent SimpleSchema instance also tries to define "').concat(r,'"'))})}),a&&!n.has("".concat(e,".$")))throw Error('"'.concat(e,'" is Array type but the schema does not include a "').concat(e,'.$" definition for the array items"'));if("defaultValue"in t)if("autoValue"in t&&!t.autoValue.isDefault)console.warn('SimpleSchema: Found both autoValue and defaultValue options for "'.concat(e,'". Ignoring defaultValue.'));else{if(e.endsWith(".$"))throw Error('An array item field (one that ends with ".$") cannot have defaultValue.');o=t.defaultValue,t.autoValue=function(){if(!this.isSet){if(null===this.operator)return o;if("$pull"!==this.operator){if("$push"===this.operator||this.parentField().isSet)return o;if(this.isUpsert)return{$setOnInsert:o}}}},t.autoValue.isDefault=!0}e.endsWith(".$")?t.optional=!0:Object.prototype.hasOwnProperty.call(t,"optional")||(Object.prototype.hasOwnProperty.call(t,"required")?"function"==typeof t.required?t.optional=function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return!t.required.apply(this,r)}:t.optional=!t.required:t.optional=!1===r.requiredByDefault),delete t.required,Object.prototype.hasOwnProperty.call(t,"label")||(r.defaultLabel?t.label=r.defaultLabel:x.defaultLabel?t.label=x.defaultLabel:t.label=P(e,r.humanizeAutoLabels))}(e,n._schema[e],n._constructorOptions,i)}),Object.keys(e=this._schema).forEach(function(t){var r=e[t];if(!r.type)throw Error("".concat(t,' key is missing "type"'));r.type.definitions.forEach(function(r){x.isSimpleSchema(r.type)&&Object.keys(r.type._schema).forEach(function(r){var n="".concat(t,".").concat(r);if(Object.prototype.hasOwnProperty.call(e,n))throw Error('The type for "'.concat(t,'" is set to a SimpleSchema instance that defines "').concat(t,".").concat(r,'", but the parent SimpleSchema instance also tries to define "').concat(t,".").concat(r,'"'))})})}),this._schemaKeys=Object.keys(this._schema),this._autoValues=[],this._blackboxKeys=new Set,this._firstLevelSchemaKeys=[],this._objectKeys={},this._schemaKeys.forEach(function(e){if(e.indexOf(".")>-1){var t=e.slice(0,e.lastIndexOf("."));if(!Object.prototype.hasOwnProperty.call(n._schema,t))throw Error('"'.concat(e,'" is in the schema but "').concat(t,'" is not'))}var o=n._schema[e];-1===e.indexOf(".")&&n._firstLevelSchemaKeys.push(e);var a=!0,i=!1,c=void 0;try{for(var u,s=o.type.definitions[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var l=u.value;if(!0===l.blackbox||l.type===r.Any){n._blackboxKeys.add(e);break}}}catch(e){i=!0,c=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw c}}"function"==typeof o.autoValue&&n._autoValues.push({closestSubschemaFieldName:"",fieldName:e,func:o.autoValue})}),!function e(t,o){Object.keys(t).forEach(function(a){var i=t[a];if((a=o?"".concat(o,".").concat(a):a).indexOf(".")>-1&&".$"!==a.slice(-2)){var c=a.slice(0,a.lastIndexOf(".")),u="".concat(c,".");n._objectKeys[u]=n._objectKeys[u]||[],n._objectKeys[u].push(a.slice(a.lastIndexOf(".")+1))}i.type.definitions.forEach(function(t){var n=t.type;r.isSimpleSchema(n)&&e(n._schema,a)})})}(this._schema),this}},{key:"getAllowedValuesForKey",value:function(e){this.allowsKey("".concat(e,".$"))&&(e="".concat(e,".$"));var t=this.get(e,"allowedValues");return Array.isArray(t)||t instanceof Set?b(t):null}},{key:"newContext",value:function(){return new c.default(this)}},{key:"namedContext",value:function(e){return"string"!=typeof e&&(e="default"),this._validationContexts[e]||(this._validationContexts[e]=new c.default(this,e)),this._validationContexts[e]}},{key:"addValidator",value:function(e){this._validators.push(e)}},{key:"addDocValidator",value:function(e){this._docValidators.push(e)}},{key:"validate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.check||this._constructorOptions.check;if("function"==typeof o)try{o(e)}catch(e){}(Array.isArray(e)?e:[e]).forEach(function(e){var o=t.newContext();if(!o.validate(e,n)){var a=o.validationErrors(),i=Error(t.messageForError(a[0]));if(i.errorType="ClientError",i.name="ClientError",i.error="validation-error",i.details=a.map(function(e){return g({},e,{message:t.messageForError(e)})}),"function"==typeof r.validationErrorTransform)throw r.validationErrorTransform(i);throw i}})}},{key:"validateAndReturnErrorsPromise",value:function(e,t){var r=this,n=this.newContext();return n.validate(e,t)?Promise.resolve([]):Promise.resolve(n.validationErrors().map(function(e){return g({},e,{message:r.messageForError(e)})}))}},{key:"validator",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(r){var n=g({},t);return(!0===t.clean&&(n.mongoObject=new a.default(r,e.blackboxKeys()),e.clean(r,n)),t.returnErrorsPromise)?e.validateAndReturnErrorsPromise(r,n):e.validate(r,n)}}},{key:"getFormValidator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.validator(g({},e,{returnErrorsPromise:!0}))}},{key:"clean",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return l.default.apply(void 0,[this].concat(t))}},{key:"labels",value:function(e){var t=this;Object.keys(e).forEach(function(r){var n,o=e[r];if("string"==typeof o||"function"==typeof o){var a=function(e){if(Array.isArray(e))return e}(n=t.nearestSimpleSchemaInstance(r))||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance")}(),i=a[0],c=a[1];i&&(i._schema[c].label=o,i._depsLabels[c]&&i._depsLabels[c].changed())}})}},{key:"label",value:function(e){var t=this;if(null==e){var r={};return this._schemaKeys.forEach(function(e){r[e]=t.label(e)}),r}var n=this.get(e,"label");return n&&this.reactiveLabelDependency(e),n||null}},{key:"get",value:function(e,t,r){var n=this.getDefinition(e,["type",t],r);if(n)return j.includes(t)?n[t]:(n.type.find(function(e){return e[t]})||{})[t]}},{key:"defaultValue",value:function(e){return this.get(e,"defaultValue")}},{key:"messageForError",value:function(e){var t=e.name;return this.messageBox.message(e,{context:{key:t,label:this.label(t)}})}}],t=[{key:"isSimpleSchema",value:function(e){return e&&(e instanceof r||e._schema)}},{key:"extendOptions",value:function(e){Array.isArray(e)||(e=Object.keys(e)),e.forEach(function(e){j.push(e)})}},{key:"defineValidationErrorTransform",value:function(e){if("function"!=typeof e)throw Error("SimpleSchema.defineValidationErrorTransform must be passed a function that accepts an Error and returns an Error");r.validationErrorTransform=e}},{key:"validate",value:function(e,t,n){return r.isSimpleSchema(t)||(t=new r(t)),t.validate(e,n)}},{key:"oneOf",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return h(u.default,t)}},{key:"addValidator",value:function(e){r._validators.push(e)}},{key:"addDocValidator",value:function(e){r._docValidators.push(e)}},{key:"constructorOptionDefaults",value:function(e){if(!e)return r._constructorOptionDefaults;r._constructorOptionDefaults=g({},r._constructorOptionDefaults,{},e,{clean:g({},r._constructorOptionDefaults.clean,{},e.clean||{})})}}],e&&O(r.prototype,e),t&&O(r,t),r}();function P(e,t){var r,n=e.split(".");do r=n.pop();while("$"===r&&n.length);return t?(0,i.default)(r):r}function k(e){return function(){for(var t=this,r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];var a={};return this._schemaKeys.forEach(function(r){var o=n.some(function(e){return r===e||0===r.indexOf("".concat(e,"."))});(o&&"pick"===e||!o&&"omit"===e)&&(a[r]=t._schema[r])}),this._copyWithSchema(a)}}t.SimpleSchema=x,_(x,"version",2),_(x,"Any","___Any___"),_(x,"RegEx",s.default),_(x,"_validators",[]),_(x,"_docValidators",[]),_(x,"_constructorOptionDefaults",{clean:{autoConvert:!0,extendAutoValueContext:{},filter:!0,getAutoValues:!0,removeEmptyStrings:!0,removeNullsFromArrays:!1,trimStrings:!0},humanizeAutoLabels:!0,requiredByDefault:!0}),_(x,"ErrorTypes",{REQUIRED:"required",MIN_STRING:"minString",MAX_STRING:"maxString",MIN_NUMBER:"minNumber",MAX_NUMBER:"maxNumber",MIN_NUMBER_EXCLUSIVE:"minNumberExclusive",MAX_NUMBER_EXCLUSIVE:"maxNumberExclusive",MIN_DATE:"minDate",MAX_DATE:"maxDate",BAD_DATE:"badDate",MIN_COUNT:"minCount",MAX_COUNT:"maxCount",MUST_BE_INTEGER:"noDecimal",VALUE_NOT_ALLOWED:"notAllowed",EXPECTED_TYPE:"expectedType",FAILED_REGULAR_EXPRESSION:"regEx",KEY_NOT_IN_SCHEMA:"keyNotInSchema"}),_(x,"Integer","SimpleSchema.Integer"),_(x,"_makeGeneric",a.default.makeKeyGeneric),_(x,"ValidationContext",c.default),_(x,"setDefaultMessages",function(e){(0,p.merge)(y.default,e)})},72271:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"!=typeof t)return{type:n.SimpleSchema.ErrorTypes.EXPECTED_TYPE,dataType:"String"};if(null!==e.max&&e.max<t.length)return{type:n.SimpleSchema.ErrorTypes.MAX_STRING,max:e.max};if(null!==e.min&&e.min>t.length)return{type:n.SimpleSchema.ErrorTypes.MIN_STRING,min:e.min};if(e.regEx instanceof RegExp&&!e.regEx.test(t))return{type:n.SimpleSchema.ErrorTypes.FAILED_REGULAR_EXPRESSION,regExp:e.regEx.toString()};if(Array.isArray(e.regEx)){var r;if(e.regEx.every(function(e){return!!e.test(t)||(r={type:n.SimpleSchema.ErrorTypes.FAILED_REGULAR_EXPRESSION,regExp:e.toString()},!1)}),r)return r}};var n=r(72226);e.exports=t.default,e.exports.default=t.default},72362:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortAutoValueFunctions=i,t.default=void 0;var n=a(r(58364)),o=a(r(4217));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.reduce(function(e,t,r){return e[t.fieldName]=r,e},{});return e.sort(function(e,r){var n=e.fieldName.split(".").length-r.fieldName.split(".").length;return 0===n?t[e.fieldName]-t[r.fieldName]:n})}t.default=function(e,t,r,a,c){i(e).forEach(function(e){var i=e.func,u=e.fieldName,s=e.closestSubschemaFieldName,l=new o.default({closestSubschemaFieldName:s,extendedAutoValueContext:c,func:i,isModifier:r,isUpsert:a,mongoObject:t});(0,n.default)({fieldName:u,isModifier:r,mongoObject:t}).forEach(l.runForPosition.bind(l))})}},72489:(e,t,r)=>{var n=r(53685),o=1/0,a=/[&<>"']/g,i=RegExp(a.source),c="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,u="object"==typeof self&&self&&self.Object===Object&&self,s=c||u||Function("return this")(),l=function(e){return function(t){return null==e?void 0:e[t]}}({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),f=Object.prototype,p=f.hasOwnProperty,y=f.toString,d=s.Symbol,h=d?d.toStringTag:void 0,v=d?d.prototype:void 0,b=v?v.toString:void 0,m=Array.isArray;e.exports={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:n,variable:"",imports:{_:{escape:function(e){var t;return(e=null==(t=e)?"":function e(t){if("string"==typeof t)return t;if(m(t))return function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}(t,e)+"";if(function(e){var t;return"symbol"==typeof e||null!=e&&"object"==typeof e&&(null==e?void 0===e?"[object Undefined]":"[object Null]":h&&h in Object(e)?function(e){var t=p.call(e,h),r=e[h];try{e[h]=void 0;var n=!0}catch(e){}var o=y.call(e);return n&&(t?e[h]=r:delete e[h]),o}(e):(t=e,y.call(t)))=="[object Symbol]"}(t))return b?b.call(t):"";var r=t+"";return"0"==r&&1/t==-o?"-0":r}(t))&&i.test(e)?e.replace(a,l):e}}}}},75350:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(41878));function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.default=function(e){var t={};return Object.keys(e).forEach(function(r){var a=e[r];if(n.default.isBasicObject(a)){t[r]=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){var n,o,a;n=e,o=t,a=r[t],o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},a);return}if(Array.isArray(a)){if(Array.isArray(a[0]))throw Error("Array shorthand may only be used to one level of depth (".concat(r,")"));var i=a[0];t[r]={type:Array};var c="".concat(r,".$");if(e[c])throw Error("Array shorthand used for ".concat(r," field but ").concat(r,".$ key is already in the schema"));i instanceof RegExp?t[c]={type:String,regEx:i}:t[c]={type:i};return}if(a instanceof RegExp){t[r]={type:String,regEx:a};return}t[r]={type:a}}),t},e.exports=t.default,e.exports.default=t.default},81898:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r="(?:(?:[0-1]?\\d{1,2}|2[0-4]\\d|25[0-5])(?:\\.|$)){4}",n="(?:(?:[\\dA-Fa-f]{1,4}(?::|$)){8}|(?=(?:[^:\\s]|:[^:\\s])*::(?:[^:\\s]|:[^:\\s])*$)[\\dA-Fa-f]{0,4}(?:::?(?:[\\dA-Fa-f]{1,4}|$)){1,6})",o="(?:".concat(["(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?(?:\\.|$))+",r,n].join("|"),")"),a=function(e,t){return!e||Number.isSafeInteger(e)&&e>t},i=function(e,t){var r;if(!a(e,0))throw Error("Expected a non-negative safe integer, got ".concat(e));if(!a(t,e))throw Error("Expected a non-negative safe integer greater than 1 and greater than min, got ".concat(t));if(e&&t)r="".concat(e,",").concat(t);else if(e&&null===t)r="".concat(e,",");else if(e&&!t)r="".concat(e);else if(e||t)throw Error("Unexpected state for min (".concat(e,") and max (").concat(t,")"));else r="0,";return new RegExp("^[23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz]{".concat(r,"}$"))};t.default={Email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,EmailWithTLD:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Domain:new RegExp("^".concat("(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z](?:[a-z-]*[a-z])?","$")),WeakDomain:new RegExp("^".concat(o,"$")),IP:new RegExp("^(?:".concat(r,"|").concat(n,")$")),IPv4:new RegExp("^".concat(r,"$")),IPv6:new RegExp("^".concat(n,"$")),Url:/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,Id:i(17),idOfLength:i,ZipCode:/^\d{5}(?:[-\s]\d{4})?$/,Phone:/^[0-9---]{2}$|^[+]*(?:[-x-- ().\[\]/~*]*[0-9---]){3,}[-x-- ().\[\]/~0-9---]*(?:;ext=([0-9---]{1,7})|[ \t,]*(?:e?xt(?:ensi(?:o?|))?n?|??|[,x#~]|int|anexo|)[:\.]?[ \t,-]*([0-9---]{1,7})#?|[- ]+([0-9---]{1,5})#)?$/i},e.exports=t.default,e.exports.default=t.default},82461:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(41878));function o(e,t,r){return(o=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&a(o,r.prototype),o}:Reflect.construct).apply(null,arguments)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,o,a;n=e,o=t,a=r[t],o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}t.default=function(){var e;function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];this.definitions=r.map(function(e){return n.default.isBasicObject(e)?c({},e):e instanceof RegExp?{type:String,regEx:e}:{type:e}})}return e=[{key:"clone",value:function(){var e;return o(t,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e=this.definitions)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance")}())}},{key:"extend",value:function(e){this.definitions=this.definitions.map(function(t,r){var n=e.definitions[r];return n?c({},t,{},n):t})}},{key:"singleType",get:function(){return this.definitions[0].type}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),t}(),e.exports=t.default,e.exports.default=t.default},89540:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(35951)),o=l(r(41878)),a=r(60374),i=r(72226),c=l(r(1511)),u=l(r(72362)),s=l(r(12290));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=(r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){var n,o,a;n=e,o=t,a=r[t],o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({isModifier:(0,a.looksLikeModifier)(t),isUpsert:!1},e._cleanOptions,{},r)).mutate?t:(0,n.default)(t),y=r.mongoObject||new o.default(l,e.blackboxKeys());if(r.filter||r.autoConvert||r.removeEmptyStrings||r.trimStrings){var d=[];y.forEachNode(function(){if("$unset"!==this.operator){var t,n=this.genericKey;if(n){var o=this.value;if(void 0!==o){if(r.filter&&!e.allowsKey(n)||r.removeNullsFromArrays&&this.isArrayItem&&null===o){"[$each]"===this.position.slice(-7)?(y.removeValueForPosition(this.position.slice(0,-7)),d.push(this.position.slice(0,-7))):(this.remove(),d.push(this.position)),i.SimpleSchema.debug&&console.info('SimpleSchema.clean: filtered out value that would have affected key "'.concat(n,'", which is not allowed by the schema'));return}var a=e.schema(n),u=a&&a.type.definitions,l=u&&u[0];if(r.autoConvert&&l&&!u.some(function(e){return void 0===s.default.call({valueShouldBeChecked:!0,definition:e,value:o})})){var p=(0,c.default)(o,l.type);void 0!==p&&p!==o&&(i.SimpleSchema.debug&&console.info("SimpleSchema.clean: autoconverted value ".concat(o," from ").concat(f(o)," to ").concat(f(p)," for ").concat(n)),o=p,this.updateValue(p))}r.trimStrings&&(!l||!1!==l.trim)&&"string"==typeof o&&(o=o.trim(),this.updateValue(o)),r.removeEmptyStrings&&(!this.operator||"$set"===this.operator)&&"string"==typeof o&&!o.length&&(this.remove(),"$set"===this.operator&&this.position.match(/\[.+?\]/g).length<2&&(t=this.position.replace("$set","$unset"),y.setValueForPosition(t,"")))}}}},{endPointsOnly:!1}),d.forEach(function(e){var t=e.lastIndexOf("[");if(-1!==t){var r=e.slice(0,t),n=y.getValueForPosition(r);(0,a.isEmptyObject)(n)&&y.removeValueForPosition(r)}}),y.removeArrayItems()}return r.getAutoValues&&(0,u.default)(e.autoValueFunctions(),y,r.isModifier,r.isUpsert,r.extendAutoValueContext),r.isModifier&&Object.keys(l||{}).forEach(function(e){var t=l[e];"object"===f(t)&&null!==t&&(0,a.isEmptyObject)(t)&&delete l[e]}),l},e.exports=t.default,e.exports.default=t.default},94514:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(72226);r(89540),n.SimpleSchema.ValidationContext=n.ValidationContext,t.default=n.SimpleSchema,e.exports=t.default,e.exports.default=t.default},94601:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=[],n="".concat(t,".");return Object.keys(e||{}).forEach(function(o){null!=e[o]&&o.slice(0,t.length+1)===n&&r.push(o)}),r},e.exports=t.default,e.exports.default=t.default},95111:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.forEach(function(r){Object.keys(r).forEach(function(n){r[n]&&r[n].constructor&&r[n].constructor===Object?(t[n]&&t[n].constructor&&t[n].constructor===Object||(t[n]={}),e(t[n],r[n])):t[n]=r[n]})}),t}}}]);
//# sourceMappingURL=4514-b3ef4dad60c98847.js.map
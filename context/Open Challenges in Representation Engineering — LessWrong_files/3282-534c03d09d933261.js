try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="8be3f1a9-3a2e-4ac8-a960-91f14d647fd4",e._sentryDebugIdIdentifier="sentry-dbid-8be3f1a9-3a2e-4ac8-a960-91f14d647fd4")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3282],{1800:(e,t,n)=>{n.d(t,{A:()=>g});var a=n(95155),i=n(12115),l=n(88262),o=n(28203),s=n(51897),r=n(34297),c=n(83401),d=n(70704),p=n(213),u=n(53109),h=n(64504);let m=(0,p.ro)(s.pH),g=(0,l.N)("LocalEventMarker",e=>{var t,n,l,s;let{event:p,handleMarkerClick:g,handleInfoWindowClose:x,infoOpen:v,location:f,classes:b}=e;if(!(null==f||null==(n=f.geometry)||null==(t=n.location)?void 0:t.lat)||!(null==f||null==(s=f.geometry)||null==(l=s.location)?void 0:l.lng))return null;let{geometry:{location:{lat:j,lng:y}}}=f,{htmlHighlight:k=""}=p.contents||{};return(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(m,{latitude:j,longitude:y,offsetLeft:-7,offsetTop:-25,children:(0,a.jsx)("span",{onClick:()=>g(p._id),children:(0,a.jsx)(()=>(0,d.m8j)()?(0,a.jsx)(c.A,{className:b.eaIcon}):(0,a.jsx)(r._e,{className:b.icon}),{})})}),v&&(0,a.jsx)(h.A,{lat:j,lng:y,link:(0,o.lz)(p),title:" [Event] ".concat(p.title," "),metaInfo:p.contactInfo,cornerLinks:(0,a.jsx)(u.Ay,{document:p}),onClose:()=>x(p._id),offsetTop:-25,children:(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:k}})})]})},{styles:e=>({icon:{width:15,height:15,fill:e.palette.event,opacity:.8},eaIcon:{width:20,height:20,fill:e.palette.event,opacity:.8}})})},3282:(e,t,n)=>{n.d(t,{Ay:()=>W,Jb:()=>A});var a=n(95155),i=n(12115),l=n(88262),o=n(53768),s=n(5501),r=n(51897),c=n(6083),d=n(22299),p=n.n(d),u=n(213),h=n(99892),m=n(34587),g=n.n(m),x=n(80940),v=n.n(x),f=n(81360),b=n(64579),j=n(1800),y=n(38209),k=n(64504),N=n(19518),w=n(65180),S=n(97885);let L=(0,S.J)("\n  query multiUserCommunityMapQuery($selector: UserSelector, $limit: Int, $enableTotal: Boolean) {\n    users(selector: $selector, limit: $limit, enableTotal: $enableTotal) {\n      results {\n        ...UsersMapEntry\n      }\n      totalCount\n    }\n  }\n"),C=(0,S.J)("\n  query multiLocalgroupCommunityMapQuery($selector: LocalgroupSelector, $limit: Int, $enableTotal: Boolean) {\n    localgroups(selector: $selector, limit: $limit, enableTotal: $enableTotal) {\n      results {\n        ...localGroupsHomeFragment\n      }\n      totalCount\n    }\n  }\n"),I=(0,S.J)("\n  query multiPostCommunityMapQuery($selector: PostSelector, $limit: Int, $enableTotal: Boolean) {\n    posts(selector: $selector, limit: $limit, enableTotal: $enableTotal) {\n      results {\n        ...PostsList\n      }\n      totalCount\n    }\n  }\n"),T=(0,u.ro)(r.pH),A={lat:39.5,lng:-43.636047},M=(0,l.N)("PersonalMapLocationMarkers",e=>{let{users:t,handleClick:n,handleClose:l,openWindows:s,classes:r}=e,d=function(e,t){let n=v()(e,e=>{let{lat:t,lng:n,data:a}=e;return"".concat(t,",").concat(n)}),a=[];for(let e of Object.keys(n)){let i=n[e];if(i.length>1)for(let e of function(e){let t=1e-4*e.length;return e.map((n,a)=>{let{lat:i,lng:l,data:o}=n,s=-(2*Math.PI)*(a/e.length)-Math.PI/4;return{lat:i+Math.cos(s)*t,lng:l+Math.sin(s)*t,data:o}})}(g()(i,e=>t(e.data))))a.push(e);else 1===i.length&&a.push(i[0])}return a}((0,h.BN)(t.map(e=>{let t=e.mapLocationLatLng;if(!t)return null;let{lat:n,lng:a}=t;return"number"!=typeof n||"number"!=typeof a?null:{lat:n,lng:a,data:e}})),e=>e.displayName);return(0,a.jsx)(i.Fragment,{children:d.map(e=>{var t;let{lat:d,lng:p,data:u}=e,h={__html:null!=(t=u.htmlMapMarkerText)?t:""};return(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(T,{latitude:d,longitude:p,offsetLeft:-8,offsetTop:-20,children:(0,a.jsx)("span",{onClick:()=>n(u._id),children:(0,a.jsx)(c.A,{className:r.icon})})}),s.includes(u._id)&&(0,a.jsx)(k.A,{lat:d,lng:p,link:(0,o.sh)(u),title:" [User] ".concat((0,o.Jl)(u)," "),onClose:()=>l(u._id),children:(0,a.jsx)("div",{dangerouslySetInnerHTML:h})})]},u._id)})})},{styles:e=>({icon:{height:20,width:20,fill:e.palette.individual,opacity:.8}})}),F=e=>{let{events:t,handleClick:n,handleClose:i,openWindows:l}=e;return(0,a.jsx)(a.Fragment,{children:t.map(e=>(0,a.jsx)(j.A,{event:e,handleMarkerClick:n,handleInfoWindowClose:i,infoOpen:l.includes(e._id),location:e.googleLocation},e._id))})},B=e=>{let{groups:t,handleClick:n,handleClose:i,openWindows:l}=e;return(0,a.jsx)(a.Fragment,{children:t.map(e=>(0,a.jsx)(y.A,{group:e,handleMarkerClick:n,handleInfoWindowClose:i,infoOpen:l.includes(e._id),location:e.googleLocation},e._id))})},W=(0,l.N)("CommunityMap",e=>{var t,n,l;let{groupTerms:o,eventTerms:r,keywordSearch:c,initialOpenWindows:d=[],center:u=A,zoom:h=2,classes:m,className:g="",showGroupsByDefault:x,showUsersByDefault:v,showHideMap:j=!1,hideLegend:y}=e,{query:k}=(0,s.zy)(),S=o||{view:"all",filters:(null==k?void 0:k.filters)||[],includeInactive:(null==k?void 0:k.includeInactive)==="true"},[T,W]=(0,i.useState)(d),E=(0,i.useCallback)(e=>W([e]),[]),D=(0,i.useCallback)(e=>W(T.filter(t=>t!==e)),[T]),[_,z]=(0,i.useState)(!0),[R,$]=(0,i.useState)(!!x),[H,G]=(0,i.useState)(!!v),[P,V]=(0,i.useState)(!0),[O,U]=(0,i.useState)({latitude:u.lat,longitude:u.lng,zoom:h});(0,i.useEffect)(()=>{U({latitude:u.lat,longitude:u.lng,zoom:h})},[u.lat,u.lng,h]);let{view:J,...q}=r||{view:"events"},{data:Y}=(0,w.IT)(I,{variables:{selector:{[J]:q},limit:500,enableTotal:!1},skip:!r,notifyOnNetworkStatusChange:!0}),Z=(0,i.useMemo)(()=>{var e,t;return null!=(t=null==Y||null==(e=Y.posts)?void 0:e.results)?t:[]},[null==Y||null==(t=Y.posts)?void 0:t.results]),{view:K,limit:X,...Q}=S,{data:ee}=(0,w.IT)(C,{variables:{selector:{[K]:Q},limit:500,enableTotal:!1},skip:!R,notifyOnNetworkStatusChange:!0}),et=(0,i.useMemo)(()=>{var e,t;return null!=(t=null==ee||null==(e=ee.localgroups)?void 0:e.results)?t:[]},[null==ee||null==(n=ee.localgroups)?void 0:n.results]),en=et;c&&(en=et.filter(e=>{var t;return"".concat(e.name.toLowerCase()," ").concat(null==(t=e.location)?void 0:t.toLowerCase()).includes(c.toLowerCase())}));let{data:ea}=(0,w.IT)(L,{variables:{selector:{usersMapLocations:{}},limit:5e3,enableTotal:!1},skip:!H,notifyOnNetworkStatusChange:!0}),ei=(0,i.useMemo)(()=>{var e,t;return null!=(t=null==ea||null==(e=ea.users)?void 0:e.results)?t:[]},[null==ea||null==(l=ea.users)?void 0:l.results]);(0,f.p)();let el=(0,i.useMemo)(()=>(0,a.jsxs)(i.Fragment,{children:[_&&(0,a.jsx)(F,{events:Z,handleClick:E,handleClose:D,openWindows:T}),R&&(0,a.jsx)(B,{groups:en,handleClick:E,handleClose:D,openWindows:T}),H&&(0,a.jsx)(M,{users:ei,handleClick:E,handleClose:D,openWindows:T}),!y&&(0,a.jsx)("div",{className:m.mapButtons,children:(0,a.jsx)(b.A,{showHideMap:j,toggleEvents:()=>z(!_),showEvents:_,toggleGroups:()=>$(!R),showGroups:R,toggleIndividuals:()=>G(!H),showIndividuals:H,setShowMap:V})})]}),[_,Z,E,D,T,R,en,H,ei,m.mapButtons,j,y]);return P?(0,a.jsx)("div",{className:p()(m.root,{[g]:g}),children:(0,a.jsx)(N.C,{...O,width:"100%",height:"100%",onViewportChange:e=>U(e),children:el})}):null},{styles:e=>({root:{width:"100%",height:440,marginTop:-50,[e.breakpoints.down("sm")]:{marginTop:0,marginLeft:-8},position:"relative",boxShadow:e.palette.boxShadow.default,"& .mapboxgl-popup-content":{background:e.palette.panelBackground.default},"& .StyledMapPopup-markerPageLink":{color:e.palette.text.normal}},communityMap:{},mapButton:{padding:10,display:"flex",alignItems:"center",cursor:"pointer",borderRadius:2,width:120,marginBottom:e.spacing.unit},hideMap:{width:34,padding:5},mapButtons:{alignItems:"flex-end",position:"absolute",top:e.isFriendlyUI?40:10,right:10,display:"flex",flexDirection:"column",[e.breakpoints.down("md")]:{top:24}},filters:{width:100}})})},19518:(e,t,n)=>{n.d(t,{C:()=>d});var a=n(95155);n(12115);var i=n(213),l=n(63670),o=n(51897),s=n(81360),r=n(70704);let c=(0,i.ro)(o.Ay),d=e=>{var t;let n=(0,s.p)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.m,{name:"mapbox",children:(0,a.jsx)("link",{href:"https://api.tiles.mapbox.com/mapbox-gl-js/v1.3.1/mapbox-gl.css",rel:"stylesheet"})}),(0,a.jsx)(c,{...e,mapStyle:n,mapboxApiAccessToken:null!=(t=r.j6f.get())?t:void 0})]})}},33805:(e,t,n)=>{n.d(t,{A:()=>L,g:()=>S});var a=n(95155),i=n(12115),l=n(88262),o=n(16604),s=n(82325),r=n(44597),c=n(48884),d=n(87118),p=n(45855),u=n(87007),h=n(61055),m=n(52880),g=n(16058),x=n(49831),v=n(83941),f=n(70704),b=n(98482),j=n.n(b),y=n(41645),k=n(96973),N=n(80458),w=n(44914);let S=e=>({removeButton:{color:e.palette.error.main,marginRight:"auto",marginLeft:-4},submitButton:{color:e.palette.secondary.main,textTransform:"uppercase"},actions:{...e.typography.commentStyle,marginTop:24},geoSuggest:{marginTop:16,marginBottom:16,width:400,maxWidth:"100%",...j()((0,v.i5)(e),{"& .geosuggest__suggests":{...e.typography.commentStyle},"& .geosuggest__input":{padding:".5em 1em 0.5em 0em !important",width:"100%",fontSize:13}})}}),L=(0,l.N)("EventNotificationsDialog",e=>{let{onClose:t,classes:n}=e,l=(0,s.iZ)(),{nearbyEventsNotificationsLocation:b,mapLocation:j,googleLocation:S,nearbyEventsNotificationsRadius:L,nearbyPeopleNotificationThreshold:C}=l||{},[I]=(0,v._Y)(),[T,A]=(0,i.useState)(b||j||S),[M,F]=(0,i.useState)((null==b?void 0:b.formatted_address)||(null==j?void 0:j.formatted_address)||(null==S?void 0:S.formatted_address)),[B,W]=(0,i.useState)(L||50),[E,D]=(0,i.useState)(C||10),[_,z]=(0,i.useState)(!!C),R=(0,o.H)(),$=(0,a.jsx)(h.A,{className:n.peopleInput,value:E,margin:"dense",onChange:e=>D(parseFloat(e.target.value))});return(0,a.jsxs)(w.A,{open:!0,onClose:t,children:[(0,a.jsx)(p.L,{children:(null==l?void 0:l.nearbyEventsNotifications)?"Edit Notifications":"Sign up for Notifications"}),(0,a.jsxs)(d.C,{children:[(0,a.jsx)(N.o,{variant:"body2",children:(0,a.jsx)("p",{children:"Notify me of events and new groups in this location"})}),(0,a.jsx)("div",{className:n.geoSuggest,children:I?(0,a.jsx)(r.A,{placeholder:"Location",onSuggestSelect:e=>{A((e=>e?e.gmaps:null)(e)),F(null==e?void 0:e.label)},initialValue:M}):(0,a.jsx)(k.default,{})}),(0,a.jsx)(g.A,{className:n.distanceHeader,component:"legend",children:"Notification Radius"}),(0,a.jsxs)("div",{className:n.distanceSection,children:[(0,a.jsx)(u.A,{className:n.slider,value:B,step:5,min:0,max:300,onChange:(e,t)=>W(t),"aria-labelledby":"input-slider"}),(0,a.jsx)(h.A,{className:n.input,value:B,margin:"dense",onChange:e=>W(parseFloat(e.target.value)),endAdornment:(0,a.jsx)(m.A,{disableTypography:!0,className:n.inputAdornment,position:"end",children:"km"}),onBlur:()=>W(B>300?300:B<0?0:B),inputProps:{step:5,min:0,max:300,type:"number","aria-labelledby":"input-slider"}})]}),!(0,f.m8j)()&&(0,a.jsx)("div",{className:n.peopleThreshold,children:(0,a.jsxs)(y.A,{className:n.peopleThresholdText,children:[(0,a.jsx)(x.A,{className:n.peopleThresholdCheckbox,checked:_,onChange:e=>z(!!e.target.checked)}),"Notify me when there are ",$," or more people in my area"]})}),(0,a.jsxs)(c.i,{className:n.actions,children:[(null==l?void 0:l.nearbyEventsNotifications)&&(0,a.jsx)("a",{className:n.removeButton,onClick:()=>{R({nearbyEventsNotifications:!1,nearbyEventsNotificationsLocation:null,nearbyEventsNotificationsRadius:null,nearbyPeopleNotificationThreshold:null}),t()},children:"Stop notifying me"}),(0,a.jsx)("a",{className:n.submitButton,onClick:()=>{R({nearbyEventsNotifications:!0,nearbyEventsNotificationsLocation:T,nearbyEventsNotificationsRadius:B,nearbyPeopleNotificationThreshold:_?E:null}),t()},children:"Submit"})]})]})]})},{styles:e=>({...S(e),distanceSection:{marginTop:30,display:"flex"},input:{marginLeft:"5%",position:"relative",top:-12},slider:{width:"80%"},inputAdornment:{marginLeft:0},distanceHeader:{marginTop:20},peopleThreshold:{display:"flex"},peopleThresholdText:{alignSelf:"center",position:"relative",top:2,color:e.palette.text.normal,cursor:"pointer"},peopleInput:{width:20},peopleThresholdCheckbox:{marginLeft:-12}})})},34297:(e,t,n)=>{n.d(t,{_e:()=>o,tm:()=>l,yB:()=>i});var a=n(95155);n(12115);let i=e=>{let{className:t}=e;return(0,a.jsx)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 89 89",enableBackground:"new 0 0 89 89",children:(0,a.jsxs)("g",{children:[(0,a.jsx)("circle",{cx:"47.524",cy:"31.433",r:"24.137"}),(0,a.jsx)("path",{d:"M81.585,77.203c5.604-8.077-5.123-17.235-17.482-22.193c-4.693,3.311-10.41,5.264-16.578,5.264   c-6.176,0-11.898-1.958-16.596-5.275c-12.371,4.955-23.121,14.12-17.514,22.205C23.13,91.205,71.87,91.205,81.585,77.203z"})]})})},l=e=>{let{className:t}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,version:"1.1",x:"0px",y:"0px",viewBox:"0 0 16 16",children:(0,a.jsxs)("g",{children:[(0,a.jsx)("g",{children:(0,a.jsx)("path",{d:"M15.707,7.293l-7-7c-0.391-0.391-1.023-0.391-1.414,0l-7,7c-0.391,0.391-0.391,1.023,0,1.414s1.023,0.391,1.414,0L2,8.414    C2,11.016,2,13.231,2,16h4v-6h4v6h4c0-2.769,0-4.984,0-7.586l0.293,0.293C14.488,8.902,14.744,9,15,9s0.512-0.098,0.707-0.293    C16.098,8.316,16.098,7.684,15.707,7.293z"})}),(0,a.jsx)("rect",{width:"16",height:"16",fill:"none"})]})})},o=e=>{let{className:t}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,version:"1.1",x:"0px",y:"0px",viewBox:"6 4 22 23",children:(0,a.jsx)("g",{children:(0,a.jsx)("g",{children:(0,a.jsx)("path",{d:"M 8.42,3.96 C 8.42,3.96 16.02,28.09 16.02,28.09 16.02,28.09 23.50,3.91 23.50,3.91 23.50,3.91 15.99,8.78 15.99,8.78 15.99,8.78 8.42,3.96 8.42,3.96 Z M 37.99,21.32"})})})})}},35521:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(95155),i=n(12115);let l=(0,n(59507).A)((0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),(0,a.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"})]}),"Add")},38209:(e,t,n)=>{n.d(t,{A:()=>m});var a=n(95155),i=n(12115),l=n(88262),o=n(34297),s=n(51897),r=n(70704),c=n(213),d=n(72561),p=n(64504),u=n(53109);let h=(0,c.ro)(s.pH),m=(0,l.N)("LocalGroupMarker",e=>{var t,n,l,s;let{group:c,handleMarkerClick:m,handleInfoWindowClose:g,infoOpen:x,location:v,classes:f}=e;if(!(null==v||null==(n=v.geometry)||null==(t=n.location)?void 0:t.lat)||!(null==v||null==(s=v.geometry)||null==(l=s.location)?void 0:l.lng))return null;let{geometry:{location:{lat:b,lng:j}}}=v,{html:y=""}=c.contents||{};return(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(h,{latitude:b,longitude:j,offsetLeft:-8,offsetTop:-15,children:(0,a.jsx)("span",{onClick:()=>m(c._id),children:(0,a.jsx)(()=>(0,r.m8j)()?(0,a.jsx)(d.A,{icon:"Star",className:f.eaIcon}):(0,a.jsx)(o.tm,{className:f.icon}),{})})}),x&&(0,a.jsx)(p.A,{lat:b,lng:j,link:"/groups/".concat(c._id),title:" [Group] ".concat(c.name),metaInfo:c.contactInfo,cornerLinks:(0,a.jsx)(u.Ay,{document:c}),onClose:()=>g(c._id),children:(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:y}})})]})},{styles:e=>({icon:{height:15,width:15,fill:e.palette.group,opacity:.8},eaIcon:{width:20,height:20,fill:e.palette.group,opacity:.8}})})},53109:(e,t,n)=>{n.d(t,{Ay:()=>v,ik:()=>u,ke:()=>g,s:()=>h,wC:()=>m});var a=n(95155);n(12115);var i=n(88262),l=n(70704),o=n(22299),s=n.n(o),r=n(10505),c=n(52370),d=n(34575),p=n(72561);let u=e=>(0,a.jsx)(r.A,{viewBox:"0 0 155.139 155.139",...e,children:(0,a.jsx)("path",{id:"f_1_",d:"M89.584,155.139V84.378h23.742l3.562-27.585H89.584V39.184 c0-7.984,2.208-13.425,13.67-13.425l14.595-0.006V1.08C115.325,0.752,106.661,0,96.577,0C75.52,0,61.104,12.853,61.104,36.452 v20.341H37.29v27.585h23.814v70.761H89.584z"})}),h=e=>(0,a.jsx)(r.A,{viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{d:"M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm3 8h-1.35c-.538 0-.65.221-.65.778v1.222h2l-.209 2h-1.791v7h-3v-7h-2v-2h2v-2.308c0-1.769.931-2.692 3.029-2.692h1.971v3z"})}),m=e=>(0,a.jsx)(r.A,{viewBox:"15 15 70 70",...e,children:(0,a.jsx)("path",{d:"M80.952,74.251c-0.74,0.802-1.917,1.41-3.104,1.721c-3.226,0.844-7.038-0.031-10.038-1.351 c-9.568-4.21-7.455-14.872-3.259-22.225c1.26-2.208,2.503-4.431,3.754-6.666c0.984-1.76,3.114-4.724,2.28-6.875 c-0.875-2.256-3.216-2.27-4.753-0.369c-1.479,1.829-2.726,4.454-3.746,6.584c-1.111,2.319-6.656,14.507-6.656,14.507 c-1.024,1.985-2.751,4.839-4.624,6.416c-1.397,1.177-3.95,1.522-5.629,0.303c-1.275-0.927-1.527-2.159-1.277-3.594 c1.156-6.625,11.204-22.04,4.274-23.125c-2.656-0.416-3.377,2.539-4.196,4.426c-1.354,3.116-2.386,6.361-3.834,9.441 c-1.664,3.536-2.939,7.219-3.813,11.02c-0.698,3.037-1.602,6.907-5.06,7.832c-9.465,2.531-12.341-3.718-12.341-3.719 c-1.545-4.916-0.08-9.338,1.408-14.066c1.15-3.652,1.837-7.419,3.293-10.973c2.598-6.336,5.187-19.556,14.549-18.711 c2.39,0.216,5.063,1.424,7.128,2.628c1.877,1.095,3.305,1.679,5.49,0.499c2.126-1.146,3.099-3.277,5.632-4.008 c2.715-0.783,4.5,0.376,6.53,2.009c2.846,2.288,3.156,1.254,5.504,0.653c1.947-0.499,4.208-0.73,6.342-0.365 c10.982,1.882,3.988,15.901,1.368,21.535c-1.705,3.665-9.844,18.404-2.633,20.385c2.175,0.597,4.979,0.325,6.79,1.885 C82.172,71.633,81.989,73.13,80.952,74.251z"})}),g=e=>(0,a.jsx)(r.A,{viewBox:"70 70 130 130",...e,children:(0,a.jsxs)("g",{children:[(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{d:"M99.4,151.2c0,7.1-5.8,12.9-12.9,12.9s-12.9-5.8-12.9-12.9c0-7.1,5.8-12.9,12.9-12.9h12.9V151.2z"}),(0,a.jsx)("path",{d:"M105.9,151.2c0-7.1,5.8-12.9,12.9-12.9s12.9,5.8,12.9,12.9v32.3c0,7.1-5.8,12.9-12.9,12.9s-12.9-5.8-12.9-12.9 C105.9,183.5,105.9,151.2,105.9,151.2z"})]}),(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{d:"M118.8,99.4c-7.1,0-12.9-5.8-12.9-12.9s5.8-12.9,12.9-12.9s12.9,5.8,12.9,12.9v12.9H118.8z"}),(0,a.jsx)("path",{d:"M118.8,105.9c7.1,0,12.9,5.8,12.9,12.9s-5.8,12.9-12.9,12.9H86.5c-7.1,0-12.9-5.8-12.9-12.9s5.8-12.9,12.9-12.9 C86.5,105.9,118.8,105.9,118.8,105.9z"})]}),(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{d:"M170.6,118.8c0-7.1,5.8-12.9,12.9-12.9c7.1,0,12.9,5.8,12.9,12.9s-5.8,12.9-12.9,12.9h-12.9V118.8z"}),(0,a.jsx)("path",{d:"M164.1,118.8c0,7.1-5.8,12.9-12.9,12.9c-7.1,0-12.9-5.8-12.9-12.9V86.5c0-7.1,5.8-12.9,12.9-12.9 c7.1,0,12.9,5.8,12.9,12.9V118.8z"})]}),(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{d:"M151.2,170.6c7.1,0,12.9,5.8,12.9,12.9c0,7.1-5.8,12.9-12.9,12.9c-7.1,0-12.9-5.8-12.9-12.9v-12.9H151.2z"}),(0,a.jsx)("path",{d:"M151.2,164.1c-7.1,0-12.9-5.8-12.9-12.9c0-7.1,5.8-12.9,12.9-12.9h32.3c7.1,0,12.9,5.8,12.9,12.9 c0,7.1-5.8,12.9-12.9,12.9H151.2z"})]})]})}),x={LW:"This is a LessWrong group",EA:"This is an Effective Altruism group",SSC:"This is a Slate Star Codex group",MIRIx:"This is a MIRIx group",IFANYONE:"This is a reading group for 'If Anyone Builds It, Everyone Dies'",PETROV:"This is an event celebrating Petrov Day"},v=(0,i.N)("GroupLinks",e=>{var t;let{document:n,noMargin:i,classes:o}=e,r="isEvent"in n,v={className:o.groupLink,target:"_blank",rel:"noreferrer"};return(0,a.jsxs)("div",{className:o.root,children:[!(0,c.kL)()&&(0,a.jsx)("div",{className:i?s()(o.groupTypes,o.noMargin):o.groupTypes,children:n.types&&n.types.map(e=>(0,a.jsx)(d.W,{title:x[e],placement:"top-end",className:o.groupType,children:e},e))}),(0,a.jsxs)("div",{className:i&&((0,l.m8j)()||!(null==(t=n.types)?void 0:t.length))?s()(o.groupLinks,o.noMargin):o.groupLinks,children:[n.facebookLink&&(0,a.jsx)(d.W,{title:"Link to Facebook ".concat(r?"Event":"Group"),placement:"top-end",children:(0,a.jsx)("a",{href:n.facebookLink,...v,children:(0,a.jsx)(u,{className:o.facebookGroupIcon})})}),"facebookPageLink"in n&&n.facebookPageLink&&(0,a.jsx)(d.W,{title:"Link to Facebook ".concat(r?"Event":"Page"),placement:"top-end",children:(0,a.jsx)("a",{href:n.facebookPageLink,...v,children:(0,a.jsx)(h,{className:o.socialIcon})})}),n.meetupLink&&(0,a.jsx)(d.W,{title:"Link to Meetup.com ".concat(r?"Event":"Group"),placement:"top-end",children:(0,a.jsx)("a",{href:n.meetupLink,...v,children:(0,a.jsx)(m,{className:o.socialIcon})})}),"slackLink"in n&&n.slackLink&&(0,a.jsx)(d.W,{title:"Link to Slack Workspace",placement:"top-end",children:(0,a.jsx)("a",{href:n.slackLink,...v,children:(0,a.jsx)(g,{className:o.socialIcon})})}),n.website&&(0,a.jsx)(d.W,{title:(0,a.jsxs)("span",{children:["Link to Group Website (",n.website,")"]}),placement:"top-end",children:(0,a.jsx)("a",{href:n.website,...v,className:o.websiteLink,children:(0,a.jsx)(p.A,{icon:"Link",className:o.linkIcon})})})]})]})},{styles:e=>({root:{display:"inline-block"},groupTypes:{marginLeft:12,display:"inline-block"},groupType:{...e.typography.headerStyle,display:"inline-block",width:"initial",height:"20px",fontSize:"14px",marginLeft:e.spacing.unit},groupLinks:{display:"inline-flex",alignItems:"baseline",marginLeft:6},groupLink:{marginLeft:6},websiteLink:{marginLeft:e.spacing.unit-2,transform:"translateY(3px)"},facebookGroupIcon:{width:14,height:14,display:"inline-block",color:e.palette.icon.slightlyDim3,paddingTop:"0px"},socialIcon:{width:16,height:16,display:"inline-block",color:e.palette.icon.slightlyDim3,paddingTop:"0px",transform:"translateY(2px)"},linkIcon:{height:18,width:18,paddingTop:"0px",color:e.palette.icon.slightlyDim3},iconButton:{padding:"0px",width:"18px",height:"18px",verticalAlign:"baseline"},noMargin:{margin:0,"& :first-child":{marginLeft:0}}})})},62955:(e,t,n)=>{n.d(t,{A:()=>V});var a=n(95155),i=n(42877);n(12115);var l=n(82325),o=n(87118),s=n(5501),r=n(88262),c=n(89866),d=n(40329),p=n(25297),u=n(98962),h=n(70704),m=n(24933),g=n(7436),x=n(52370),v=n(76681),f=n(83941),b=n(92812),j=n(68660),y=n(84300),k=n(34575),N=n(22299),w=n.n(N);let S=(0,d.Il)("GroupFormSubmit",e=>({root:{display:"flex",marginTop:20},inactiveButton:{"&&":{color:e.palette.error.main}},formButton:{paddingBottom:"2px",fontSize:"16px",marginLeft:"5px","&:hover":{background:e.palette.panelBackground.darken05},color:e.palette.lwTertiary.main},submit:{"&&":{marginLeft:"auto"}}})),L=e=>{let{submitLabel:t="Submit",document:n,formType:i,formApi:l,disabled:o}=e,s=(0,d.IS)(S);return(0,a.jsxs)("div",{className:s.root,children:["edit"===i&&(0,a.jsx)(k.W,{title:n.inactive?"Display the group on maps and lists again":"This will hide the group from all maps and lists",children:(0,a.jsx)(y.A,{type:"submit",onClick:()=>{l.setFieldValue("inactive",!n.inactive)},className:w()(s.formButton,s.inactiveButton),disabled:o,children:n.inactive?"Reactivate group":"Mark group as inactive"})}),(0,a.jsx)(y.A,{type:"submit",className:w()(s.formButton,s.submit),disabled:o,children:t})]})};var C=n(19454),I=n(48782),T=n(57830),A=n(63591),M=n(73147),F=n(93817),B=n(44914),W=n(96973),E=n(88381),D=n(65180),_=n(97885),z=n(73987);let R=(0,_.J)("\n  mutation updateLocalgroupGroupFormDialog($selector: SelectorInput!, $data: UpdateLocalgroupDataInput!) {\n    updateLocalgroup(selector: $selector, data: $data) {\n      data {\n        ...localGroupsHomeFragment\n      }\n    }\n  }\n"),$=(0,_.J)("\n  mutation createLocalgroupGroupFormDialog($data: CreateLocalgroupDataInput!) {\n    createLocalgroup(data: $data) {\n      data {\n        ...localGroupsHomeFragment\n      }\n    }\n  }\n"),H=(0,_.J)("\n  query GroupFormDialog($documentId: String) {\n    localgroup(input: { selector: { documentId: $documentId } }) {\n      result {\n        ...localGroupsEdit\n      }\n    }\n  }\n"),G=(0,d.Il)("GroupFormDialog",e=>({localGroupForm:{"& div":{fontFamily:e.typography.fontFamily},"& .editor":{minHeight:50,fontSize:"1.1rem",position:"relative"},"& .form-submit":{marginTop:10,textAlign:"right"},"& .form-component-select":{"& label":{display:"none"},"& .form-component-clear":{display:"none"}}},fieldWrapper:{marginTop:2*e.spacing.unit,marginBottom:2*e.spacing.unit}})),P=e=>{var t,n,i,l;let{initialData:o,isOnline:s,currentUser:r,onSuccess:y}=e,k=(0,d.IS)(G),N=o?"edit":"new",{onSubmitCallback:w,onSuccessCallback:S,addOnSubmitCallback:B,addOnSuccessCallback:W}=(0,j.Z)(),[D]=(0,E.n)($),[_]=(0,E.n)(R),{setCaughtError:H,displayedErrorComponent:P}=(0,T.l)(),V=(0,c.m)({defaultValues:{...(0,z.c)(o,["createdAt","lastActivity"]),types:null!=(t=null==o?void 0:o.types)?t:["LW"],categories:null!=(n=null==o?void 0:o.categories)?n:[],isOnline:null!=(i=null!=s?s:null==o?void 0:o.isOnline)&&i,organizerIds:o?o.organizerIds:[r._id],bannerImageId:null!=(l=null==o?void 0:o.bannerImageId)?l:null},onSubmit:async e=>{var t,n,a,i;let{formApi:l}=e;await (null==(t=w.current)?void 0:t.call(w));try{let e;if("new"===N){let{data:t}=await D({variables:{data:l.state.values}});if(!(null==t||null==(a=t.createLocalgroup)?void 0:a.data))throw Error("Failed to create local group");e=t.createLocalgroup.data}else{let t=(0,C.I)(l,["contents"]),{data:n}=await _({variables:{selector:{_id:null==o?void 0:o._id},data:t}});if(!(null==n||null==(i=n.updateLocalgroup)?void 0:i.data))throw Error("Failed to update local group");e=n.updateLocalgroup.data}null==(n=S.current)||n.call(S,e),y(e),H(void 0)}catch(e){H(e)}}});return"edit"!==N||o?(0,a.jsxs)("form",{className:"vulcan-form",onSubmit:e=>{e.preventDefault(),e.stopPropagation(),V.handleSubmit()},children:[(0,a.jsx)("div",{className:k.fieldWrapper,children:(0,a.jsx)(V.Field,{name:"name",children:e=>(0,a.jsx)(p.N,{field:e,label:"Group Name"})})}),(0,a.jsx)("div",{className:k.fieldWrapper,children:(0,a.jsx)(V.Field,{name:"nameInAnotherLanguage",children:e=>(0,a.jsx)(p.N,{field:e,label:"Group name in another language (optional)"})})}),(0,a.jsx)("div",{className:k.fieldWrapper,children:(0,a.jsx)(V.Field,{name:"organizerIds",children:e=>(0,a.jsx)(v.jd,{field:e,label:(0,x.Ok)("Add Organizers")})})}),(0,a.jsx)("div",{className:k.fieldWrapper,children:(0,a.jsx)(V.Field,{name:"contents",children:e=>(0,a.jsx)(j.x,{field:e,fieldName:"contents",name:"contents",commentEditor:!0,commentStyles:!0,collectionName:"Localgroups",formType:N,document:V.state.values,hintText:"Short description",addOnSubmitCallback:B,addOnSuccessCallback:W})})}),(0,h.E9m)()&&(0,a.jsx)("div",{className:k.fieldWrapper,children:(0,a.jsx)(V.Field,{name:"types",children:e=>(0,a.jsx)(m.L,{field:e,label:"Group Type:",options:u.fP})})}),(0,h.m8j)()&&(0,a.jsx)("div",{className:k.fieldWrapper,children:(0,a.jsx)(V.Field,{name:"categories",children:e=>(0,a.jsx)(g.R,{field:e,label:"Group type / intended audience:",options:u.r3,placeholder:"Select all that apply"})})}),(0,a.jsx)("div",{className:k.fieldWrapper,children:(0,a.jsx)(V.Field,{name:"isOnline",listeners:{onChange:e=>{let{value:t,fieldApi:n}=e;!1===t&&(n.form.setFieldValue("googleLocation",null),n.form.setFieldValue("location",null))}},children:e=>(0,a.jsx)(F.A,{field:e,label:"This is an online group"})})}),(0,a.jsx)(V.Subscribe,{selector:e=>[e.values.isOnline],children:e=>{let[t]=e;return t?null:(0,a.jsx)("div",{className:k.fieldWrapper,children:(0,a.jsx)(V.Field,{name:"googleLocation",children:e=>(0,a.jsx)(f.f0,{field:e,label:(0,x.kL)()?"Group location":"Group Location",stringVersionFieldName:"location"})})})}}),(0,a.jsx)("div",{className:k.fieldWrapper,children:(0,a.jsx)(V.Field,{name:"contactInfo",children:e=>(0,a.jsx)(p.N,{field:e,label:"Contact Info"})})}),(0,a.jsx)("div",{className:k.fieldWrapper,children:(0,a.jsx)(V.Field,{name:"facebookLink",children:e=>(0,a.jsx)(p.N,{field:e,label:"Facebook Group"})})}),(0,a.jsx)("div",{className:k.fieldWrapper,children:(0,a.jsx)(V.Field,{name:"facebookPageLink",children:e=>(0,a.jsx)(p.N,{field:e,label:"Facebook Page"})})}),(0,a.jsx)("div",{className:k.fieldWrapper,children:(0,a.jsx)(V.Field,{name:"meetupLink",children:e=>(0,a.jsx)(p.N,{field:e,label:"Meetup.com Group"})})}),(0,a.jsx)("div",{className:k.fieldWrapper,children:(0,a.jsx)(V.Field,{name:"slackLink",children:e=>(0,a.jsx)(p.N,{field:e,label:"Slack Workspace"})})}),(0,a.jsx)("div",{className:k.fieldWrapper,children:(0,a.jsx)(V.Field,{name:"website",children:e=>(0,a.jsx)(p.N,{field:e,label:"Website"})})}),(0,a.jsx)("div",{className:k.fieldWrapper,children:(0,a.jsx)(V.Field,{name:"bannerImageId",children:e=>(0,a.jsx)(A.default,{inlineBlock:!1,placement:"left-start",title:"Recommend 1640x856 px, 1.91:1 aspect ratio (same as Facebook)",children:(0,a.jsx)(b.B,{field:e,label:(0,x.kL)()?"Banner image":"Banner Image",croppingAspectRatio:1.91})})})}),"edit"===N&&(0,I.iq)(r)&&(0,a.jsx)("div",{className:k.fieldWrapper,children:(0,a.jsx)(V.Field,{name:"deleted",children:e=>(0,a.jsx)(F.A,{field:e,label:"Delete Group"})})}),(0,a.jsx)(V.Subscribe,{selector:e=>[e.canSubmit,e.isSubmitting],children:e=>{let[t,n]=e;return(0,a.jsx)(L,{formApi:V,document:V.state.values,formType:N,disabled:!t||n})}}),P]}):(0,a.jsx)(M.default,{})},V=(0,r.N)("GroupFormDialog",e=>{var t,n;let{onClose:r,documentId:c,isOnline:p}=e,u=(0,l.iZ)(),{flash:h}=(0,i.o)(),m=(0,s.Zp)(),g=(0,d.IS)(G),{loading:x,data:v}=(0,D.IT)(H,{variables:{documentId:c},skip:!c}),f=null!=(n=null==v||null==(t=v.localgroup)?void 0:t.result)?n:void 0;return x&&c?(0,a.jsx)(W.default,{}):(0,a.jsx)(B.A,{open:!0,onClose:r,children:(0,a.jsx)(o.C,{className:g.localGroupForm,children:(0,a.jsx)(P,{initialData:f,isOnline:p,currentUser:u,onSuccess:e=>{r(),c?h({messageString:"Successfully edited local group "+e.name}):(h({messageString:"Successfully created new local group "+e.name}),m({pathname:"/groups/"+e._id}))}})})})})},64504:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(95155);n(12115);var i=n(66121),l=n(88262),o=n(51897);let s=(0,n(213).ro)(o.zD),r=(0,l.N)("StyledMapPopup",e=>{let{children:t,classes:n,link:l,title:o,metaInfo:r,cornerLinks:c,lat:d,lng:p,onClose:u,offsetTop:h=-20,offsetLeft:m,hideBottomLinks:g}=e;return(0,a.jsx)(s,{latitude:d,longitude:p,closeButton:!0,closeOnClick:!1,offsetTop:h,offsetLeft:m,onClose:u,captureClick:!0,captureScroll:!0,anchor:"bottom",children:(0,a.jsxs)("div",{className:n.root,children:[(0,a.jsx)(i.Link,{to:l,children:(0,a.jsxs)("h5",{className:n.groupMarkerName,children:[" ",o," "]})}),(0,a.jsx)("div",{className:n.markerBody,children:t}),r&&(0,a.jsx)("div",{className:n.contactInfo,children:r}),!g&&(0,a.jsxs)("div",{className:n.linksWrapper,children:[(0,a.jsx)(i.Link,{className:n.markerPageLink,to:l,children:" Full link "}),(0,a.jsx)("div",{children:c})]})]})})},{styles:e=>({root:{...e.typography.body2,width:250,userSelect:"text",cursor:"auto"},groupMarkerName:{fontSize:"15px",marginTop:"3.5px",marginBottom:"0px",marginRight:10},markerBody:{marginTop:10,marginBottom:10,maxHeight:150,overflowY:"auto",wordBreak:"break-word","&::-webkit-scrollbar":{width:"2px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:e.palette.grey[400],borderRadius:"2px","&:hover":{background:e.palette.grey[600]}},scrollbarWidth:"thin",scrollbarColor:"".concat(e.palette.grey[400]," transparent")},contactInfo:{marginBottom:"10px",marginTop:"10px",fontWeight:e.isEAForum?450:400,color:e.palette.text.dim60},markerPageLink:{fontWeight:e.isEAForum?450:400,color:e.palette.link.dim3,flex:"none"},linksWrapper:{display:"flex",justifyContent:"space-between"}})})},64579:(e,t,n)=>{n.d(t,{P:()=>W,A:()=>E});var a=n(95155),i=n(12115),l=n(86055),o=n(16604),s=n(42877),r=n(98962),c=n(22299),d=n.n(c),p=n(60379),u=n(78476),h=n(35521),m=n(83401),g=n(80184);let x=(0,n(59507).A)((0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)("path",{d:"M12 2c-4.97 0-9 4.03-9 9 0 4.17 2.84 7.67 6.69 8.69L12 22l2.31-2.31C18.16 18.67 21 15.17 21 11c0-4.97-4.03-9-9-9zm0 2c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.3c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}),(0,a.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"})]}),"PersonPin");var v=n(70097),f=n(82325),b=n(34297),j=n(20463),y=n.n(j),k=n(70704),N=n(48782),w=n(52370),S=n(88262),L=n(5501),C=n(34575),I=n(39921),T=n(62955),A=n(99534),M=n(33805),F=n(55471);let B=r.Hn.map(e=>e.shortName),W=(e,t,n,i)=>i?()=>e({name:t,contents:n}):()=>e({name:"LoginPopup",contents:e=>{let{onClose:t}=e;return(0,a.jsx)(I.A,{onClose:t})}}),E=(0,S.N)("CommunityMapFilter",e=>{let{setShowMap:t,showHideMap:n,toggleGroups:r,showGroups:c,toggleEvents:j,showEvents:S,toggleIndividuals:I,showIndividuals:E,classes:D}=e,_=(0,L.zy)(),z=(0,f.iZ)(),R=(0,o.H)(),$=(0,L.Zp)(),{openDialog:H}=(0,v.sp)(),{flash:G}=(0,s.o)(),[P,V]=(0,i.useState)(()=>(e=>{let t=null==e?void 0:e.filters;return Array.isArray(t)?t:"string"==typeof t?[t]:[]})(_.query)),O=(0,i.useCallback)(e=>{let t=[];V(t=Array.isArray(P)&&P.includes(e)?P.filter(t=>t!==e):[...P,e]),$({..._.location,search:y().stringify({..._.query,filters:t},{arrayFormat:"repeat"})})},[P,_.query,_.location,$]),U=(0,i.useCallback)(()=>{let e;z?(R({hideFrontpageMap:!0}),e=()=>{R({hideFrontpageMap:!1})}):(t(!1),e=()=>t(!0)),G({messageString:"Hid map from Frontpage",action:e})},[z,G,t,R]),J=()=>(0,k.m8j)()?(0,a.jsx)(g.A,{className:D.eaButtonIcon}):(0,a.jsx)(b.tm,{className:D.buttonIcon}),q=()=>(0,k.m8j)()?(0,a.jsx)(m.A,{className:D.eaButtonIcon}):(0,a.jsx)(b._e,{className:D.buttonIcon}),Y=()=>(0,k.m8j)()?(0,a.jsx)(x,{className:D.eaButtonIcon}):(0,a.jsx)(b.yB,{className:D.buttonIcon}),Z=(0,N.X1)(z);return(0,a.jsxs)(l.t,{children:[!(0,w.kL)()&&(0,a.jsx)("div",{className:D.filters,children:B.map((e,t)=>{let n=P.includes(e);return(0,a.jsx)("span",{className:d()(D.filter,{[D.filterChecked]:n,[D.firstFilter]:0===t,[D.lastFilter]:t===B.length-1}),onClick:()=>O(e),children:(0,a.jsx)("span",{className:d()(D.checkboxLabel,{[D.checkedLabel]:n}),children:e})},e)})}),(0,a.jsx)(F.A,{className:d()(D.divider,D.topDivider)}),(0,a.jsxs)("div",{className:D.actions,children:[(0,a.jsxs)("div",{className:D.filterSection,children:[(0,a.jsx)("span",{className:D.desktopFilter,children:(0,a.jsx)(J,{})}),(0,a.jsx)("span",{className:d()(D.mobileFilter,{[D.mobileFilterActive]:!c}),onClick:r,children:(0,a.jsx)(J,{})}),(0,a.jsx)("span",{className:D.buttonText,children:"Groups"}),(0,a.jsxs)("span",{className:D.actionContainer,children:[(!(0,k.m8j)()||Z)&&(0,a.jsx)(C.W,{title:"Create New Group",children:(0,a.jsx)(h.A,{className:d()(D.actionIcon,D.addIcon),onClick:W(H,"GroupFormDialog",e=>{let{onClose:t}=e;return(0,a.jsx)(T.A,{onClose:t})},z)})}),(0,a.jsx)(C.W,{title:"Hide groups from map",children:(0,a.jsx)(p.A,{onClick:r,className:d()(D.actionIcon,D.visibilityIcon,{[D.checkedVisibilityIcon]:!c})})})]})]}),(0,a.jsxs)("div",{className:D.filterSection,children:[(0,a.jsx)("span",{className:D.desktopFilter,children:(0,a.jsx)(q,{})}),(0,a.jsx)("span",{className:d()(D.mobileFilter,{[D.mobileFilterActive]:!S}),onClick:j,children:(0,a.jsx)(q,{})}),(0,a.jsx)("span",{className:D.buttonText,children:" Events "}),(0,a.jsxs)("span",{className:D.actionContainer,children:[z&&(0,a.jsx)(C.W,{title:"Create New Event",children:(0,a.jsx)(h.A,{className:d()(D.actionIcon,D.addIcon),onClick:()=>$({pathname:"/newPost",search:"?eventForm=true"})})}),(0,a.jsx)(C.W,{title:"Hide events from map",children:(0,a.jsx)(p.A,{onClick:j,className:d()(D.actionIcon,D.visibilityIcon,{[D.checkedVisibilityIcon]:!S})})})]})]}),(0,a.jsxs)("div",{className:D.filterSection,children:[(0,a.jsx)("span",{className:D.desktopFilter,children:(0,a.jsx)(Y,{})}),(0,a.jsx)("span",{className:d()(D.mobileFilter,{[D.mobileFilterActive]:!E}),onClick:I,children:(0,a.jsx)(Y,{})}),(0,a.jsx)("span",{className:D.buttonText,children:" Individuals "}),(0,a.jsxs)("span",{className:D.actionContainer,children:[(0,a.jsx)(C.W,{title:"Add your location to the map",children:(0,a.jsx)(h.A,{className:d()(D.actionIcon,D.addIcon),onClick:W(H,"SetPersonalMapLocationDialog",e=>{let{onClose:t}=e;return(0,a.jsx)(A.A,{onClose:t})},z)})}),(0,a.jsx)(C.W,{title:"Hide individual user locations from map",children:(0,a.jsx)(p.A,{onClick:I,className:d()(D.actionIcon,D.visibilityIcon,{[D.checkedVisibilityIcon]:!E})})})]})]})]}),(0,a.jsx)(F.A,{className:d()(D.divider,D.bottomDivider)}),(0,a.jsxs)("div",{className:d()(D.filterSection,D.subscribeSection),onClick:W(H,"EventNotificationsDialog",e=>{let{onClose:t}=e;return(0,a.jsx)(M.A,{onClose:t})},z),children:[(0,a.jsx)(u.A,{className:d()(D.actionIcon,D.subscribeIcon)}),(0,a.jsx)("span",{className:D.buttonText,children:" Subscribe to events"})]}),n&&(0,a.jsx)("span",{children:(0,a.jsx)(C.W,{title:"Hide the map from the frontpage",children:(0,a.jsx)("div",{className:d()(D.filterSection,D.hideSection),children:(0,a.jsx)("span",{className:d()(D.buttonText,D.hideText),onClick:U,children:"Hide Map"})})})})]})},{styles:e=>({root:{width:120,padding:"10px 10px 5px 10px",borderRadius:2,marginBottom:e.spacing.unit},filters:{borderTopLeftRadius:4,borderTopRightRadius:4,overflow:"hidden"},filter:{padding:8,paddingLeft:10,paddingRight:10,display:"inline-block",cursor:"pointer","&:hover":{backgroundColor:e.palette.grey[200]}},firstFilter:{paddingLeft:16},lastFilter:{paddingRight:16},filterChecked:{backgroundColor:e.palette.grey[500],"&:hover":{backgroundColor:e.palette.grey[400]}},checkbox:{padding:0,marginRight:5,width:"0.7em",height:"0.7em"},checkboxLabel:{...e.typography.body2,fontWeight:e.isEAForum?600:void 0},checkedLabel:{color:e.palette.text.tooltipText},filterSection:{display:"flex",alignItems:"center",padding:"8px 16px",[e.breakpoints.down("sm")]:{display:"inline-block",flexGrow:1,padding:"8px 22px"}},actions:{marginBottom:8,[e.breakpoints.down("sm")]:{display:"flex"}},hideMap:{width:34,padding:5},buttonText:{marginLeft:10,...e.typography.body2,[e.breakpoints.down("sm")]:{display:"none"}},hideText:{marginLeft:"auto",fontSize:"1rem",cursor:"pointer"},hideSection:{backgroundColor:e.palette.panelBackground.darken05},buttonIcon:{width:"1.2rem",height:"1.2rem"},eaButtonIcon:{width:"1.7rem",height:"1.7rem"},actionIcon:{width:"0.7em",height:"0.7em",marginLeft:e.spacing.unit,position:"relative",top:2,cursor:"pointer"},visibilityIcon:{color:e.palette.icon.dim2,cursor:"pointer"},addIcon:{[e.breakpoints.down("sm")]:{display:"none"}},checkedVisibilityIcon:{color:e.palette.text.normal},actionContainer:{marginLeft:"auto",[e.breakpoints.down("sm")]:{display:"none"}},divider:{marginTop:e.spacing.unit,marginBottom:e.spacing.unit},topDivider:{marginTop:0},subscribeSection:{cursor:"pointer",marginBottom:e.spacing.unit,[e.breakpoints.down("sm")]:{display:"none"}},subscribeIcon:{marginLeft:0,top:0},desktopFilter:{[e.breakpoints.down("sm")]:{display:"none"}},mobileFilter:{display:"none",[e.breakpoints.down("sm")]:{display:"block"}},mobileFilterActive:{opacity:.3},bottomDivider:{[e.breakpoints.down("sm")]:{display:"none"}}})})},81360:(e,t,n)=>{n.d(t,{p:()=>l});var a=n(52370),i=n(9962);let l=()=>{let e="dark"===(0,i.K1)().name;return(0,a.kL)()?e?"mapbox://styles/mapbox/dark-v11":void 0:"mapbox://styles/habryka/cilory317001r9mkmkcnvp2ra"}},83401:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(95155),i=n(12115);let l=(0,n(59507).A)((0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),(0,a.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"})]}),"Room")},87007:(e,t,n)=>{n.d(t,{A:()=>f});var a=n(95155),i=n(12115),l=n(20657),o=n.n(l),s=n(22299),r=n.n(s),c=n(58784),d=n(10497);function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.min(Math.max(e,t),n)}var u=n(40329),h=n(9962);let m=(0,u.Il)("MuiSlider",e=>{let t={duration:e.transitions.duration.shortest,easing:e.transitions.easing.easeOut},n=e.transitions.create(["width","height","left","right","top","box-shadow"],t),a=e.transitions.create(["width","height","box-shadow"],t),i={primary:e.palette.primary.main,disabled:e.palette.grey[400]};return{root:{position:"relative",width:"100%",padding:"16px 8px",cursor:"pointer",WebkitTapHighlightColor:"transparent","&$disabled":{cursor:"no-drop"},"&$vertical":{height:"100%",padding:"8px 16px"}},container:{position:"relative","&$vertical":{height:"100%"}},track:{position:"absolute",transform:"translate(0, -50%)",top:"50%",height:2,backgroundColor:i.primary,"&$activated":{transition:"none"},"&$disabled":{backgroundColor:i.disabled},"&$vertical":{transform:"translate(-50%, 0)",left:"50%",top:"initial",width:2}},trackBefore:{zIndex:1,left:0,transition:n},trackAfter:{right:0,opacity:.24,transition:n,"&$vertical":{bottom:0}},thumb:{position:"absolute",zIndex:2,transform:"translate(-50%, -50%)",width:12,height:12,borderRadius:"50%",transition:n,backgroundColor:i.primary,"&$focused":{boxShadow:"0px 0px 0px 9px ".concat((0,d.Rv)(i.primary,.16))},"&$activated":{width:17,height:17,transition:a},"&$disabled":{cursor:"no-drop",width:9,height:9,backgroundColor:i.disabled},"&$jumped":{width:17,height:17}},thumbIconWrapper:{backgroundColor:"transparent"},thumbIcon:{height:"inherit",width:"inherit"},disabled:{},jumped:{},focused:{},activated:{},vertical:{}}},{stylePriority:-10});function g(e,t,a,i){let{width:l,height:o}=e.getBoundingClientRect(),{top:s,left:r}=function(e){let{pageYOffset:t,pageXOffset:a}=n.g,{left:i,top:l}=e.getBoundingClientRect();return{top:l+t,left:i+a}}(e),{x:c,y:d}=t.changedTouches&&t.changedTouches[0]?{x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY}:{x:t.pageX,y:t.pageY},u=a?d-s:c-r,h=(a?o:l)/100;return i&&!a?100-p(u/h):p(u/h)}function x(e){e.preventDefault()}class v extends i.Component{componentDidMount(){if(this.containerRef.current){var e;null==(e=this.containerRef.current)||e.addEventListener("touchstart",x,{passive:!1})}}componentWillUnmount(){var e;null==(e=this.containerRef.current)||e.removeEventListener("touchstart",x),document.body.removeEventListener("mousemove",this.handleMouseMove),document.body.removeEventListener("mouseup",this.handleMouseUp),clearTimeout(this.jumpAnimationTimeoutId)}static getDerivedStateFromProps(e,t){return e.disabled?{currentState:"disabled"}:e.disabled||"disabled"!==t.currentState?null:{currentState:"normal"}}emitChange(e,t,n){let{step:a,value:i,onChange:l,disabled:o}=this.props,s=t;if(!o){if(a)s=Math.round(t/a)*a;else s=Number(t.toFixed(3));"function"==typeof l&&s!==i&&(l(e,s),"function"==typeof n&&n())}}calculateTrackAfterStyles(e){let{currentState:t}=this.state;switch(t){case"activated":return"calc(100% - ".concat(0===e?7:5,"px)");case"disabled":return"calc(".concat(100-e,"% - 6px)");default:return"calc(100% - 5px)"}}calculateTrackBeforeStyles(e){let{currentState:t}=this.state;return"disabled"===t?"calc(".concat(e,"% - 6px)"):"".concat(e,"%")}playJumpAnimation(){this.setState({currentState:"jumped"},()=>{clearTimeout(this.jumpAnimationTimeoutId),this.jumpAnimationTimeoutId=setTimeout(()=>{this.setState({currentState:"normal"})},this.props.theme.transitions.duration.complex)})}isReverted(){return"rtl"===this.props.theme.direction}render(){let{currentState:e}=this.state,{className:t,classes:n,disabled:i,max:l=100,min:o=0,onChange:s,onDragEnd:d,onDragStart:u,step:h,theme:m,value:g=0,vertical:x,...v}=this.props,f=p((g-o)*100/(l-o)),b={[n.disabled]:i,[n.jumped]:!i&&"jumped"===e,[n.focused]:!i&&"focused"===e,[n.activated]:!i&&"activated"===e},j=r()(n.root,{[n.vertical]:x,[n.disabled]:i},t),y=r()(n.container,{[n.vertical]:x}),k=r()(n.track,n.trackBefore,b,{[n.vertical]:x}),N=r()(n.track,n.trackAfter,b,{[n.vertical]:x}),w=x?"height":"width",S="ltr"===m.direction?"left":"right",L=x?"top":S,C={[w]:this.calculateTrackBeforeStyles(f)},I={[w]:this.calculateTrackAfterStyles(f)},T=r()(n.thumb,b);return(0,a.jsx)("div",{role:"slider",className:j,"aria-valuenow":g,"aria-valuemin":o,"aria-valuemax":l,"aria-orientation":x?"vertical":"horizontal",onClick:this.handleClick,onMouseDown:this.handleMouseDown,onTouchStartCapture:this.handleTouchStart,onTouchMove:this.handleMouseMove,ref:this.containerRef,...v,children:(0,a.jsxs)("div",{className:y,children:[(0,a.jsx)("div",{className:k,style:C}),(0,a.jsx)(c.A,{className:T,disableRipple:!0,style:{[L]:"".concat(f,"%")},onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onTouchStartCapture:this.handleTouchStart,onTouchMove:this.handleMouseMove,onFocusVisible:this.handleFocus}),(0,a.jsx)("div",{className:N,style:I})]})})}constructor(...e){super(...e),this.containerRef=i.createRef(),this.state={currentState:"initial"},this.jumpAnimationTimeoutId=-1,this.handleKeyDown=e=>{let t,{min:n=0,max:a=100,value:i=0}=this.props,l=Math.abs((a-n)/100),s=this.props.step||l;switch(o()(e)){case"home":t=n;break;case"end":t=a;break;case"page up":t=i+10*l;break;case"page down":t=i-10*l;break;case"right":case"up":t=i+s;break;case"left":case"down":t=i-s;break;default:return}e.preventDefault(),t=p(t,n,a),this.emitChange(e,t)},this.handleFocus=()=>{this.setState({currentState:"focused"})},this.handleBlur=()=>{this.setState({currentState:"normal"})},this.handleClick=e=>{let{min:t=0,max:n=100,vertical:a}=this.props,i=(n-t)*g(this.containerRef.current,e,!!a,this.isReverted())/100+t;this.emitChange(e,i,()=>{this.playJumpAnimation()})},this.handleTouchStart=e=>{e.preventDefault(),this.setState({currentState:"activated"}),document.body.addEventListener("touchend",this.handleMouseUp),"function"==typeof this.props.onDragStart&&this.props.onDragStart(e)},this.handleMouseDown=e=>{e.preventDefault(),this.setState({currentState:"activated"}),document.body.addEventListener("mousemove",this.handleMouseMove),document.body.addEventListener("mouseup",this.handleMouseUp),"function"==typeof this.props.onDragStart&&this.props.onDragStart(e)},this.handleMouseUp=e=>{this.setState({currentState:"normal"}),document.body.removeEventListener("mousemove",this.handleMouseMove),document.body.removeEventListener("mouseup",this.handleMouseUp),document.body.removeEventListener("touchend",this.handleMouseUp),"function"==typeof this.props.onDragEnd&&this.props.onDragEnd(e)},this.handleMouseMove=e=>{let{min:t=0,max:n=100,vertical:a}=this.props,i=(n-t)*g(this.containerRef.current,e,!!a,this.isReverted())/100+t;this.emitChange(e,i)}}}let f=(0,u.Xy)(m,(0,h.SL)(v))},99534:(e,t,n)=>{n.d(t,{A:()=>k});var a=n(95155),i=n(12115),l=n(88262),o=n(16604),s=n(82325),r=n(44597),c=n(87118),d=n(48884),p=n(45855),u=n(19957),h=n(33805),m=n(83941),g=n(70704),x=n(65180),v=n(97885),f=n(96973),b=n(80458),j=n(44914);let y=(0,v.J)("\n  query SetPersonalMapLocationDialog($documentId: String) {\n    user(input: { selector: { documentId: $documentId } }) {\n      result {\n        ...UsersEdit\n      }\n    }\n  }\n"),k=(0,l.N)("SetPersonalMapLocationDialog",e=>{var t;let{onClose:n,classes:l}=e,h=(0,s.iZ)(),{loading:v,data:k}=(0,x.IT)(y,{variables:{documentId:null==h?void 0:h._id},skip:!h}),N=null==k||null==(t=k.user)?void 0:t.result,{mapLocation:w,googleLocation:S}=h||{},[L]=(0,m._Y)(),[C,I]=(0,i.useState)(w||S),[T,A]=(0,i.useState)((null==w?void 0:w.formatted_address)||(null==S?void 0:S.formatted_address)),[M,F]=(0,i.useState)(null);(0,i.useEffect)(()=>{var e;let t=(null==N?void 0:N.mapMarkerText)||(null==N||null==(e=N.biography)?void 0:e.markdown)||"";!M&&t&&F(t)},[v,N,M]);let B=(0,o.H)();return h?(0,a.jsxs)(j.A,{open:!0,onClose:n,children:[(0,a.jsx)(p.L,{children:"Add your location to the map"}),(0,a.jsxs)(c.C,{children:[(0,a.jsx)(b.o,{variant:"body2",children:"This information will be publicly visible"}),(0,a.jsx)("div",{className:l.geoSuggest,children:L?(0,a.jsx)(r.A,{placeholder:"Location",onSuggestSelect:e=>{I((e=>e?e.gmaps:null)(e)),A(null==e?void 0:e.label)},initialValue:T}):(0,a.jsx)(f.default,{})}),!(0,g.m8j)()&&(0,a.jsx)(u.A,{label:"Description (Make sure to mention whether you want to organize events)}",value:M||"",onChange:e=>F(e.target.value),fullWidth:!0,multiline:!0,rows:4,rowsMax:100}),(0,a.jsxs)(d.i,{className:l.actions,children:[h.mapLocation&&(0,a.jsx)("a",{className:l.removeButton,onClick:()=>{B({mapLocation:null}),n()},children:"Remove me from the map"}),(0,a.jsx)("a",{className:l.submitButton,onClick:()=>{B({mapLocation:C,mapMarkerText:M}),n()},children:"Submit"})]})]})]}):null},{styles:e=>({...(0,h.g)(e)})})}}]);
//# sourceMappingURL=3282-534c03d09d933261.js.map
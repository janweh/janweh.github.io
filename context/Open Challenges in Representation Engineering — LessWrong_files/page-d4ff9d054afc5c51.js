try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="caa6b81e-27d4-49aa-94fd-6be2f8422530",e._sentryDebugIdIdentifier="sentry-dbid-caa6b81e-27d4-49aa-94fd-6be2f8422530")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{1149:(e,t,n)=>{"use strict";n.d(t,{c:()=>u});var i=n(12115),o=n(82325),s=n(36944),a=n(95178),r=n(88381),l=n(97885),d=n(21001),c=n.n(d);let u=e=>{let{section:t,defaultExpanded:n,onExpandEvent:d,onCollapseEvent:u,cookieName:m,forceSetCookieIfUndefined:p}=e,g=(0,o.iZ)(),[h]=(0,r.n)((0,l.J)("\n      mutation UserExpandFrontpageSection($section: String!, $expanded: Boolean!) {\n        UserExpandFrontpageSection(section: $section, expanded: $expanded)\n      }\n    "),{errorPolicy:"all"}),{captureEvent:x}=(0,s.z1)(),[f,v]=(0,a.j)([m]),[b,y]=(0,i.useState)(()=>((e,t,n,i,o)=>{var s;if(i[o])return"true"===i[o];let a=null==n||null==(s=n.expandedFrontpageSections)?void 0:s[e];return"boolean"==typeof a?a:((e,t)=>{if("function"==typeof t)return t(e);switch(t){case"none":return!1;case"all":return!0;case"loggedIn":return!!e;case"loggedOut":return!e}})(n,t)})(t,n,g,f,m)),j=(0,i.useCallback)(e=>{m&&v(m,String(e),{expires:c()().add(10,"years").toDate()})},[v,m]),k=(0,i.useCallback)(()=>{let e=!b;y(e),g&&h({variables:{section:t,expanded:e}}),j(e);let n=e?d:u;n&&x(n)},[t,d,u,b,g,x,h,j]);return(0,i.useEffect)(()=>{p&&!f[m]&&j(b)},[p,f,m,j,b]),{expanded:b,toggleExpanded:k}}},1527:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(95155),o=n(88262);n(12115);var s=n(66121),a=n(22299),r=n.n(a),l=n(65180);let d=(0,n(97885).J)("\n  query PostsGroupDetails($documentId: String) {\n    localgroup(input: { selector: { documentId: $documentId } }) {\n      result {\n        ...localGroupsHomeFragment\n      }\n    }\n  }\n"),c=(0,o.N)("PostsGroupDetails",e=>{var t;let n,{documentId:o,post:a,inRecentDiscussion:c,classes:u}=e,{data:m}=(0,l.IT)(d,{variables:{documentId:o}}),p=null==m||null==(t=m.localgroup)?void 0:t.result;return p?(a.group&&(n=p.deleted?p.name:(0,i.jsx)(s.Link,{to:"/groups/"+a.group._id,children:p.name})),(0,i.jsx)("div",{className:c?"":u.root,children:(0,i.jsx)("div",{className:r()(u.title,{[u.recentDiscussionTitle]:c,[u.notRecentDiscussionTitle]:!c}),children:n})})):null},{styles:e=>({title:{display:"inline-block",fontSize:22,verticalAlign:"-webkit-baseline-middle",lineHeight:"24px",color:e.palette.text.dim,marginTop:-10,...e.typography.smallCaps},notRecentDiscussionTitle:{fontFamily:e.isFriendlyUI?e.palette.fonts.sansSerifStack:e.typography.body1.fontFamily},recentDiscussionTitle:{fontSize:16,fontFamily:e.typography.fontFamily},root:{marginBottom:e.isFriendlyUI?5:12,marginTop:10}})})},2094:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var i=n(95155);n(12115);var o=n(88262),s=n(82325),a=n(11559),r=n(36944),l=n(70704),d=n(45850),c=n(89739),u=n(52500),m=n(79816);let p=(0,n(97885).J)("\n  query multiBookmarkBookmarksListQuery($selector: BookmarkSelector, $limit: Int, $enableTotal: Boolean) {\n    bookmarks(selector: $selector, limit: $limit, enableTotal: $enableTotal) {\n      results {\n        ...BookmarksWithDocumentFragment\n      }\n      totalCount\n    }\n  }\n"),g=(0,o.N)("BookmarksList",e=>{var t;let{showMessageIfEmpty:n=!1,limit:o=20,hideLoadMore:a=!1,classes:g}=e,h=(0,s.iZ)(),{data:x,loading:f,loadMoreProps:v}=(0,m.f)(p,{variables:{selector:{myBookmarkedPosts:{}},limit:o,enableTotal:!1},skip:!(null==h?void 0:h._id),fetchPolicy:"cache-and-network",itemsPerPage:20}),b=null==x||null==(t=x.bookmarks)?void 0:t.results;if(!h)return null;let y=null==b?void 0:b.map(e=>e.post).filter(e=>!!e);return(0,i.jsx)(r.Ig,{pageSubSectionContext:"bookmarksList",children:(0,i.jsxs)("div",{children:[n&&!f&&!(null==y?void 0:y.length)&&(0,i.jsx)("div",{className:g.empty,children:(0,l.m8j)()?"You haven't saved any posts yet.":"You haven't bookmarked any posts yet."}),f&&!(null==y?void 0:y.length)&&(0,i.jsx)(d.A,{placeholderCount:5}),y&&y.map((e,t)=>(0,i.jsx)(c.A,{post:e,bookmark:!0,showBottomBorder:t<y.length-1},e._id)),!a&&(0,i.jsx)(u.A,{...v})]})})},{styles:e=>({empty:{color:e.palette.grey[600],fontFamily:e.palette.fonts.sansSerifStack,fontWeight:500,fontSize:14,lineHeight:"1.6em",marginBottom:40}}),hocs:[a.A]})},5275:(e,t,n)=>{"use strict";n.d(t,{OY:()=>l,Qr:()=>s,lb:()=>a,xv:()=>r});var i=n(70704);let o=["Hidden","Default","Required","Subscribed","Reduced"],s=()=>[...o,0,.5,25],a=e=>!s().includes(e),r=()=>({personalBlog:"Hidden",tags:i.Xws.get().map(e=>({...e,filterMode:"TagDefault"}))}),l=e=>"Subscribed"===e||"number"==typeof e&&e>=25},6639:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(95155);n(12115);var o=n(88262),s=n(11559),a=n(3282);let r=(0,o.N)("CommunityMapWrapper",e=>{let{className:t,groupQueryTerms:n,currentUserLocation:o,mapOptions:s,terms:r,keywordSearch:l,showHideMap:d,hideLegend:c,showUsersByDefault:u,showGroupsByDefault:m=!0,petrovButton:p}=e;return(0,i.jsx)(a.Ay,{className:t,groupTerms:n,eventTerms:r,keywordSearch:l,center:o,showHideMap:d,petrovButton:p,hideLegend:c,showUsersByDefault:u,showGroupsByDefault:m,...s})},{hocs:[s.A]})},8876:(e,t,n)=>{"use strict";n.d(t,{Q8:()=>x,jW:()=>f,wm:()=>v});var i=n(36944),o=n(5275),s=n(55415),a=n.n(s),r=n(74728),l=n.n(r),d=n(12115),c=n(82325),u=n(16604),m=n(97885),p=n(87126),g=n(71190);let h=(0,m.J)("\n  query multiTagfilterSettingsQuery($selector: TagSelector, $limit: Int, $enableTotal: Boolean) {\n    tags(selector: $selector, limit: $limit, enableTotal: $enableTotal) {\n      results {\n        ...TagBasicInfo\n      }\n      totalCount\n    }\n  }\n"),x=(e,t)=>{var n,i;let o=null!=(i=null==(n=(0,p.o)(t).data.tags)?void 0:n.results)?i:[],s={};for(let t of e.tags)s[t.tagId]=!0;return o.filter(e=>!(e._id in s)).map(e=>({tagId:e._id,tagName:e.name,filterMode:"Default"}))},f=()=>{var e;let t=(0,c.iZ)(),n=(0,u.H)(),{captureEvent:s}=(0,i.z1)(),r=null!=(e=null==t?void 0:t.frontpageFilterSettings)?e:(0,o.xv)(),[m,p]=(0,d.useState)(r),[x]=(0,g.E)(h,{variables:{selector:{suggestedFilterTags:{}},limit:100,enableTotal:!1}}),f=(0,d.useCallback)(e=>{p(e),n({frontpageFilterSettings:e})},[n]),v=(0,d.useCallback)(e=>{f({personalBlog:e,tags:m.tags})},[f,m]),b=(0,d.useCallback)(e=>{let{tagId:t,tagName:n,filterMode:i}=e;if(m.tags.find(e=>e.tagId===t)){let e=a()(m.tags,e=>e.tagId===t),o=[...m.tags];o[e]={...m.tags[e],filterMode:i},f({personalBlog:m.personalBlog,tags:o}),s("tagFilterModified",{tagId:t,tagName:n,newMode:i});return}if(!n)throw Error("tagName required for insert");s("tagAddedToFilters",{tagId:t,tagName:n}),f({personalBlog:m.personalBlog,tags:[...m.tags,{tagId:t,tagName:n,filterMode:i}]})},[f,m,s]),y=(0,d.useCallback)(e=>{s("tagRemovedFromFilters",{tagId:e});let t=l()(m.tags,t=>t.tagId!==e);f({personalBlog:m.personalBlog,tags:t})},[f,m,s]);return{filterSettings:m,suggestedTagsQueryRef:x,setFilterSettings:f,setPersonalBlogFilter:v,removeTagFilter:y,setTagFilter:b}},v=e=>{let{filterSettings:t,setTagFilter:n}=f(),i=t.tags.find(t=>e&&t.tagId===e._id);return{isSubscribed:!!(i&&(0,o.OY)(i.filterMode)),subscribeUserToTag:(0,d.useCallback)((e,t)=>{n({tagId:e._id,tagName:e.name,filterMode:t})},[n])}}},11721:(e,t,n)=>{"use strict";n.d(t,{A:()=>x});var i=n(95155),o=n(12115),s=n(88262),a=n(8370),r=n(66121),l=n(84300);let d=(0,n(59507).A)((0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)("path",{d:"M7 10l5 5 5-5z"}),(0,i.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"})]}),"ArrowDropDown");var c=n(22299),u=n.n(c),m=n(52370),p=n(10203),g=n(72561);let h=(0,s.N)("ForumDropdownMultiselect",e=>{let{values:t,options:n,queryParam:s,onSelect:c,paddingSize:h=10,useIconLabel:x,disabled:f,classes:v,className:b}=e,[y,j]=(0,o.useState)(null),k=x?(0,i.jsx)(g.A,{icon:n[t[0]].icon,className:v.iconLabel}):t.reduce((e,t)=>{let i=n[t].shortLabel||n[t].label;return e?"".concat(e,", ").concat(i):i},""),w=(0,m.kL)()?(0,i.jsx)(g.A,{icon:"ThickChevronDown",className:v.dropdownIcon}):(0,i.jsx)(d,{className:v.dropdownIcon});return(0,i.jsxs)("div",{className:u()(v.root,b),children:[(0,i.jsxs)(l.A,{variant:"contained",onClick:e=>{j(e.currentTarget)},disabled:f,className:u()(v.button,{[v.openButton]:!!y}),children:[k," ",w]}),(0,i.jsx)(a.W,{open:!!y,anchorEl:y,onClose:()=>j(null),className:u()(v.menu,{[v.menuNoQueryParam]:!s}),children:Object.keys(n).map(e=>{let{icon:o,label:a}=n[e],l=(0,i.jsxs)(p.Dr,{value:e,onClick:()=>{j(null),null==c||c(e)},className:v.menuItem,children:[o&&(0,i.jsx)(g.A,{icon:o,className:v.optionIcon}),a,t.includes(e)&&(0,m.kL)()&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{width:h}}),(0,i.jsx)(g.A,{icon:"Check",className:v.selectedIcon})]})]},e);return s?(0,i.jsx)(r.R,{query:{[s]:e},merge:!0,children:l},e):l})})]})},{styles:e=>({root:{...e.typography.body2,...e.typography.commentStyle,color:e.palette.grey[600],textAlign:"center",...!e.isFriendlyUI&&{"& button:hover":{backgroundColor:"transparent"}}},button:{textTransform:"none",boxShadow:"none",padding:0,fontSize:"14px",minHeight:32,minWidth:"unset",cursor:"pointer",color:e.palette.primary.main,paddingLeft:12,paddingRight:6,backgroundColor:"transparent",...e.isFriendlyUI&&{color:"inherit","&:hover":{backgroundColor:e.palette.grey[250],color:e.palette.grey[1e3]}}},openButton:{...e.isFriendlyUI&&{backgroundColor:e.palette.grey[250],color:e.palette.grey[1e3]}},dropdownIcon:{verticalAlign:"middle",position:"relative",...e.isFriendlyUI&&{width:10,fontSize:"18px!important",height:12,marginLeft:4,padding:1}},selectedIcon:{verticalAlign:"middle",position:"relative",color:e.palette.primary.main,marginLeft:"auto",marginRight:2,width:19,height:19},menu:{marginTop:28,...e.isFriendlyUI&&{"& .MuiPopover-paper":{backgroundColor:e.palette.dropdown.background,border:"1px solid ".concat(e.palette.dropdown.border)},"& a:hover":{opacity:"inherit"}},"& .MuiList-padding":{padding:"4px 0px"}},menuNoQueryParam:{marginTop:46},menuItem:{...e.isFriendlyUI&&{color:e.palette.grey[1e3],borderRadius:e.borderRadius.small,padding:"6px 8px",margin:"0px 4px",fontSize:"14px",lineHeight:"14px","&:hover":{backgroundColor:e.palette.grey[250],color:e.palette.grey[1e3]}},"&:focus":{outline:"none"}},iconLabel:{width:"16px !important"},optionIcon:{color:e.palette.grey[600],marginRight:12,width:"16px !important"}}),stylePriority:-2}),x=(0,s.N)("ForumDropdown",e=>{let{value:t,options:n,queryParam:o,onSelect:s,paddingSize:a,useIconLabel:r,disabled:l,className:d}=e;return(0,i.jsx)(h,{values:[t],options:n,queryParam:o,onSelect:s,paddingSize:a,useIconLabel:r,disabled:l,className:d})})},12988:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(95155),o=n(12115);let s=(0,n(59507).A)((0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),(0,i.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"})]}),"AddBox")},13369:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});var i=n(12115),o=n(11166),s=n(85197),a=n(36944);let r=e=>{var t,n;let{post:r,comments:l,refetch:d,commentTreeOptions:c={},initialExpandAllThreads:u}=e,[m,p]=(0,i.useState)(!1),[g,h]=(0,i.useState)(null),[x,f]=(0,i.useState)(null!=u&&u),{recordPostView:v,recordPostCommentsView:b}=(0,o.CX)(r),{captureEvent:y}=(0,a.z1)(),j=(0,i.useCallback)(()=>{h(new Date),f(!0),v({post:r,extraEventProperties:{type:"recentDiscussionClick"},recommendationOptions:{skip:!0}})},[h,f,v,r]),k=(0,i.useCallback)(()=>{var e;let t=!m;p(t),y("recentDiscussionPostHighlightToggled",{postId:r._id,expanded:t,wordCount:null==(e=r.contents)?void 0:e.wordCount}),j()},[p,m,j,r._id,null==(t=r.contents)?void 0:t.wordCount,y]),w=(0,i.useCallback)(()=>{setTimeout(()=>{h(new Date),b({post:r})},0)},[b,r]),S=null==l||null==(n=l[0])?void 0:n._id,C=(0,s.aF)(null!=l?l:[]),A=g||r.lastVisitedAt,T=new Date(r.lastCommentedAt).getTime()-new Date(r.postedAt).getTime()<3e4,I=l&&!l.length&&!T,N={scrollOnExpand:!1,lastCommentId:S,highlightDate:A?new Date(A):void 0,refetch:d,condensed:!0,post:r,...c};return{isSkippable:I,showHighlight:k,markCommentsAsRead:w,expandAllThreads:x,lastVisitedAt:A,nestedComments:C,treeOptions:N}}},15401:(e,t,n)=>{"use strict";n.d(t,{A:()=>F});var i=n(95155),o=n(12115),s=n(88262),a=n(36944),r=n(52370),l=n(70704),d=n(22299),c=n.n(d),u=n(41831),m=n(6421),p=n(40702),g=n(53018),h=n(29576),x=n(28203),f=n(27360),v=n(21001),b=n.n(v),y=n(31703),j=n(72561),k=n(79675),w=n(63591),S=n(41324),C=n(2734),A=n(69004);let T=(0,s.N)("QuickTakesCollapsedListItem",e=>{var t,n,s,r,l;let{quickTake:d,setExpanded:u,classes:v}=e,{eventHandlers:T,hover:I,anchorEl:N}=(0,g.M)({eventProps:{pageElementContext:"shortformItemTooltip",commentId:d._id}}),{onClick:R}=(0,p.a)({onClick:()=>u(!0)}),L=null!=(s=d.descendentCount)?s:0,F=L>0,B=null==(t=d.relevantTags)?void 0:t[0],P=I&&(null!=(r=d.baseScore)?r:0)>-5&&!(0,h.F)(),D=d.post?"".concat((0,x.lz)(d.post),"#").concat(d._id):void 0,_=(0,o.useCallback)(()=>{D&&(window.location.href=D)},[D]),E=(0,o.useCallback)(()=>{F&&setTimeout(()=>{let{_id:e}=d,t=document.querySelector("#".concat(e," .comments-children"));null==t||t.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},0)},[F,d]);return(0,i.jsxs)("div",{onClick:R,className:v.root,children:[(0,i.jsxs)("div",{className:v.info,children:[(0,i.jsxs)("div",{className:v.karma,children:[(0,i.jsx)(y.A,{document:d}),(0,i.jsx)(j.A,{icon:"SoftUpArrow"})]}),(0,i.jsx)(k.A,{user:d.user,className:v.username}),(0,i.jsx)("div",{className:v.date,children:(0,i.jsx)(w.default,{placement:"right",title:(0,i.jsx)(f.s,{date:d.postedAt}),children:b()(new Date(d.postedAt)).fromNow()})}),d.relevantTags.length>0&&(0,i.jsx)(p.s,{className:v.relevantTags,children:d.relevantTags.map(e=>(0,i.jsx)(S.Ay,{tag:e,smallText:!0,hoverable:!0},e._id))}),(0,i.jsx)("div",{className:v.grow}),(0,i.jsxs)("div",{onClick:E,className:c()(v.commentCount,{[v.commentCountClickable]:F}),children:[(0,i.jsx)(j.A,{icon:"Comment"}),L]}),(0,i.jsx)("div",{children:(0,i.jsx)(p.s,{children:(0,i.jsx)(a.Ig,{pageElementContext:"tripleDotMenu",children:(0,i.jsx)(C.A,{className:v.menu,comment:d,post:null!=(l=d.post)?l:void 0,tag:B,icon:(0,i.jsx)(j.A,{icon:"EllipsisVertical"}),showEdit:_})})})})]}),(0,i.jsx)("div",{...T,className:v.body,children:null==(n=d.contents)?void 0:n.plaintextMainText}),(0,i.jsx)(A.default,{open:P,anchorEl:N,placement:"bottom-end",clickable:!1,children:(0,i.jsx)("div",{className:v.hoverOver,children:(0,i.jsx)(m.A,{truncated:!0,nestingLevel:1,comment:d,treeOptions:{post:d.post||void 0,showCollapseButtons:!0,hideReply:!0,forceSingleLine:!1,forceNotSingleLine:!0},hoverPreview:!0})})})]})},{styles:e=>({root:{cursor:"pointer",fontFamily:e.palette.fonts.sansSerifStack,fontSize:14,fontWeight:500,color:e.palette.grey[1e3],background:e.palette.grey[0],border:"1px solid ".concat(e.palette.grey[200]),padding:12,paddingTop:12,borderRadius:e.borderRadius.default},info:{display:"flex",alignItems:"baseline",gap:"8px",marginBottom:8},grow:{flexGrow:1},karma:{color:e.palette.grey[600],display:"flex",alignItems:"center",gap:"4px","& svg":{width:9}},username:{fontWeight:600,whiteSpace:"nowrap"},date:{color:e.palette.grey[600]},relevantTags:{display:"flex",flexWrap:"wrap",rowGap:"100px",overflow:"hidden",maxHeight:20},commentCount:{color:e.palette.grey[600],display:"flex",alignItems:"center",cursor:"pointer","& svg":{height:14}},commentCountClickable:{"&:hover":{color:e.palette.grey[1e3]}},menu:{color:e.palette.grey[600],cursor:"pointer","& svg":{height:18,transform:"translateY(2px)"},"&:hover":{color:e.palette.grey[1e3]}},body:{fontSize:"1.1rem",lineHeight:"1.5em",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":2,[e.breakpoints.down("xs")]:{"-webkit-line-clamp":3}},hoverOver:{width:400}})});var I=n(46107),N=n(14467),R=n(37049);let L=(0,s.N)("LWQuickTakesCollapsedListItem",e=>{var t,n,s,a;let{quickTake:r,setExpanded:l,classes:d}=e,{eventHandlers:u,hover:p,anchorEl:f}=(0,g.M)({eventProps:{pageElementContext:"shortformItemTooltip",commentId:r._id}}),v=(0,o.useCallback)(()=>{l(!0)},[l]),[b,y]=(0,o.useState)(!1),k=null!=(n=r.descendentCount)?n:0,w=k>0,S=p&&(null!=(s=r.baseScore)?s:0)>-5&&!(0,h.F)(),C=r.post?"".concat((0,x.lz)(r.post),"#").concat(r._id):void 0,T=(0,o.useCallback)(()=>{C&&(window.location.href=C)},[C]),I=(0,o.useCallback)(()=>{w&&(v(),setTimeout(()=>{let{_id:e}=r,t=document.querySelector("#".concat(e," .comments-children"));null==t||t.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},0))},[v,w,r]),L=(0,i.jsxs)("div",{onClick:I,className:c()(d.commentCount,{[d.commentCountClickable]:w}),children:[(0,i.jsx)(j.A,{icon:"Comment"}),(0,i.jsx)("span",{className:d.commentCountText,children:k})]}),F=(0,i.jsx)(A.default,{open:S,anchorEl:f,placement:"bottom-end",clickable:!1,children:(0,i.jsx)("div",{className:d.hoverOver,children:(0,i.jsx)(m.A,{truncated:!0,nestingLevel:1,comment:r,treeOptions:{post:r.post||void 0,showCollapseButtons:!0,hideReply:!0,forceSingleLine:!1,forceNotSingleLine:!0},hoverPreview:!0})})}),B=(0,i.jsx)("div",{className:d.bodyWrapper,onClick:v,...u,children:(0,i.jsx)("div",{className:d.body,children:null==(t=r.contents)?void 0:t.plaintextMainText})});return(0,i.jsxs)("div",{className:d.root,children:[(0,i.jsx)(N.A,{treeOptions:{post:null!=(a=r.post)?a:void 0,hideParentCommentToggle:!0,showCollapseButtons:!1,onToggleCollapsed:()=>l(!0)},comment:r,showCommentTitle:!1,showParentState:b,toggleShowParent:()=>{y(!b)},collapsed:!1,toggleCollapse:()=>l(!0),setShowEdit:T,rightSectionElements:L}),B,(0,i.jsx)(R.A,{comment:r}),F]})},{styles:e=>({root:{color:e.palette.text.bannerAdOverlay,background:e.palette.panelBackground.bannerAdTranslucentMedium,backdropFilter:e.palette.filters.bannerAdBlurHeavy,borderRadius:e.borderRadius.small,border:"none",paddingLeft:12,paddingRight:12,paddingBottom:10,"&:hover .CommentsItemMeta-menu":{opacity:1},...e.typography.commentStyle},commentCount:{color:e.palette.grey[600],display:"flex",alignItems:"center","& svg":{height:14},paddingBottom:4,[e.breakpoints.down("xs")]:{display:"none"}},commentCountClickable:{cursor:"pointer","&:hover":{color:e.palette.grey[1e3]}},bodyWrapper:{cursor:"pointer"},body:{...(0,I.oP)(e),color:e.palette.text.bannerAdOverlay,position:"relative",overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":2},hoverOver:{width:400,background:e.palette.panelBackground.bannerAdTranslucentDeep},commentCountText:{marginTop:-4}})}),F=(0,s.N)("QuickTakesListItem",e=>{var t;let{quickTake:n,classes:s}=e,{captureEvent:l}=(0,a.z1)(),[d,p]=(0,o.useState)(!1),g=(0,o.useCallback)(e=>{p(e),l(e?"shortformItemExpanded":"shortformItemCollapsed")},[l,p]),h=(0,r.kL)()?T:L,x=(0,i.jsx)(u.A,{ssr:!1,children:(0,i.jsx)("div",{className:c()(s.expandedRoot,{[s.hidden]:!d}),children:(0,i.jsx)(m.A,{treeOptions:{post:null!=(t=n.post)?t:void 0,showCollapseButtons:(0,r.kL)(),onToggleCollapsed:()=>g(!d)},comment:n,loadChildrenSeparately:!0,forceUnTruncated:!0,forceUnCollapsed:!0})})}),f=(0,i.jsx)("div",{className:c()({[s.hidden]:d}),children:(0,i.jsx)(h,{quickTake:n,setExpanded:g})});return(0,i.jsxs)(i.Fragment,{children:[x,f]})},{styles:e=>({expandedRoot:{position:"relative","& .comments-node-root":{marginBottom:8,...(0,l.OPm)()?{paddingTop:0,position:"relative"}:{}}},hidden:{display:"none"}})})},16306:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var i=n(95155);n(12115);var o=n(88262),s=n(82325),a=n(36944),r=n(70704),l=n(21001),d=n.n(l),c=n(39999),u=n(78220);let m=(0,o.N)("CuratedPostsList",e=>{let{overrideLimit:t,repeatedPostsPrecedence:n}=e,o=(0,s.iZ)()?3:2,l=(0,c.Av)(),m=d()(l).subtract(120,"hours").startOf("hour").toISOString();return(0,i.jsx)(a.Ig,{listContext:"curatedPosts",pageSubSectionContext:"curatedPosts",children:(0,i.jsx)(u.A,{terms:{view:"curated",limit:null!=t?t:o,...(0,r.m8j)()?{curatedAfter:m}:{}},showNoResults:!1,showLoadMore:!1,hideLastUnread:!0,boxShadow:!1,curatedIconLeft:!0,showFinalBottomBorder:!0,viewType:"fromContext",repeatedPostsPrecedence:n})})},{})},21363:(e,t,n)=>{"use strict";function i(e){for(let t of["neighborhood","postal_code","locality","political"])for(let n of e)if(n.types.indexOf(t)>=0)return n;return e[0]}n.d(t,{ok:()=>i})},26206:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(95155);n(12115);var o=n(88262),s=n(22299),a=n.n(s),r=n(70704),l=n(80458);let d=(0,o.N)("SectionButton",e=>{let{children:t,classes:n,className:o,onClick:s}=e;return(0,i.jsx)(l.o,{component:"span",variant:"body2",className:a()(n.root,o),onClick:s,children:t})},{styles:e=>({root:{cursor:"pointer",color:e.palette.lwTertiary.main,display:"flex",alignItems:"center",...e.isFriendlyUI?{fontWeight:600}:{},"& svg":{marginRight:e.spacing.unit},...(0,r.WVt)()&&{marginTop:4,fontWeight:500}}})})},29673:(e,t,n)=>{"use strict";n.d(t,{z:()=>a});var i=n(12115),o=n(36944),s=n(33060);function a(e){let{documentId:t,documentType:n}=e,a=(0,i.useRef)(null),r=(0,i.useRef)(null),l=(0,i.useRef)(null),d=(0,i.useRef)(!1),c=(0,i.useRef)(!1),{captureEvent:u}=(0,o.z1)(),m=(0,i.useCallback)(e=>{e[0].isIntersecting?(d.current||(r.current=setTimeout(()=>{u("recentDiscussionItemViewed",{documentId:t,documentType:n,durationMs:1e3}),d.current=!0},1e3)),c.current||(l.current=setTimeout(()=>{u("recentDiscussionItemLongViewed",{documentId:t,documentType:n,durationMs:1e4}),c.current=!0},1e4))):(r.current&&(clearTimeout(r.current),r.current=null),l.current&&(clearTimeout(l.current),l.current=null))},[t,n,u]);return(0,i.useEffect)(()=>{let e=a.current;if(!e)return;let t=new IntersectionObserver(m,{rootMargin:"-".concat(s.xP,"px 0px -").concat(s.xP,"px 0px"),threshold:0});return t.observe(e),()=>{t.disconnect(),r.current&&clearTimeout(r.current),l.current&&clearTimeout(l.current)}},[m]),a}},32762:(e,t,n)=>{"use strict";n.d(t,{A:()=>j});var i=n(95155),o=n(88262),s=n(28203),a=n(12115),r=n(66121),l=n(70704),d=n(22299),c=n.n(d),u=n(52370),m=n(65180),p=n(97885),g=n(79850),h=n(76092),x=n(22665),f=n(96973);let v=(0,p.J)("\n  query PostsHighlight($documentId: String) {\n    post(input: { selector: { documentId: $documentId } }) {\n      result {\n        ...PostsExpandedHighlight\n      }\n    }\n  }\n"),b=e=>{let{post:t,forceSeeMore:n,wordsLeft:o,clickExpand:a}=e,l=null!==o?" - ".concat(o," more words"):"";return n||o&&o<1e3?(0,i.jsx)(r.Link,{to:(0,s.lz)(t),onClick:a,eventProps:{intent:"expandPost"},children:"(".concat((0,u.Ok)("See More")).concat(l,")")}):(0,i.jsx)(r.Link,{to:(0,s.lz)(t),eventProps:{intent:"expandPost"},children:(0,u.kL)()?"Continue reading":"(Continue Reading".concat(l,")")})},y=e=>{var t,n;let{post:o,maxLengthWords:s,forceSeeMore:r=!1,expanded:d,setExpanded:u,expandedLoading:m,expandedDocument:p,smallerFonts:v,classes:y}=e,{htmlHighlight:j="",wordCount:k=0}=o.contents||{},w=(0,a.useCallback)(e=>{u(!0),e.preventDefault()},[u]);return(0,i.jsxs)(g.A,{contentType:"postHighlight",className:c()({[y.smallerFonts]:v}),children:[(0,i.jsx)(h.A,{post:o}),(0,i.jsx)(x.A,{maxLengthWords:s,graceWords:20,rawWordCount:null!=k?k:0,expanded:d,getTruncatedSuffix:e=>{let{wordsLeft:t}=e;return(0,i.jsx)("div",{className:y.highlightContinue,children:(0,i.jsx)(b,{post:o,forceSeeMore:r,wordsLeft:t,clickExpand:w})})},dangerouslySetInnerHTML:{__html:(null==p||null==(t=p.contents)?void 0:t.html)||j},description:"post ".concat(o._id),nofollow:((null==(n=o.user)?void 0:n.karma)||0)<l.MV9.get()}),m&&d&&(0,i.jsx)(f.default,{})]})},j=(0,o.N)("PostsHighlight",e=>{var t,n;let{post:o,maxLengthWords:s,forceSeeMore:r=!1,smallerFonts:l,classes:d}=e,[c,u]=(0,a.useState)(!1),{loading:p,data:g}=(0,m.IT)(v,{variables:{documentId:o._id},skip:!c&&!!o.contents,fetchPolicy:"cache-first"}),h=null!=(n=null==g||null==(t=g.post)?void 0:t.result)?n:void 0;return(0,i.jsx)(y,{post:o,maxLengthWords:s,forceSeeMore:r,smallerFonts:l,expanded:c,setExpanded:u,expandedLoading:p,expandedDocument:h,classes:d})},{styles:e=>({highlightContinue:{marginTop:2*e.spacing.unit,fontFamily:e.isFriendlyUI?e.palette.fonts.sansSerifStack:void 0,"&& a, && a:hover":{color:e.palette.primary.main}},smallerFonts:{fontSize:"1.1rem",lineHeight:"1.7em","& h1, & h2, & h3":{fontSize:"1.4rem"},"& li":{fontSize:"1.1rem"}}})})},33261:(e,t,n)=>{"use strict";n.d(t,{A:()=>z});var i=n(95155),o=n(12115),s=n(5275),a=n(82325),r=n(88974);let l={name:"Personal Blog",tooltip:(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"Personal Blogposts"})," are posts that don't fit LessWrong's Frontpage Guidelines. They get less visibility by default. The frontpage guidelines are:"]}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("em",{children:"Timelessness"}),". Will people still care about this in 5 years?"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("em",{children:"Avoid political topics"}),". They're important to discuss sometimes, but we try to avoid it on LessWrong."]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("em",{children:"General Appeal"}),". Is this a niche post that only a small fraction of users will care about?"]})]})]})},d={LessWrong:l,AlignmentForum:l,EAForum:{name:"Personal",tooltip:(0,i.jsx)("div",{children:(0,i.jsx)("div",{children:"By default, the home page only displays Frontpage Posts, which are selected by moderators as especially interesting or useful to people with interest in doing good effectively. Personal posts get to have looser standards of relevance, and may include topics that could lead to more emotive or heated discussion (e.g. politics), which are generally excluded from Frontpage."})})},default:{name:"Personal",tooltip:(0,i.jsx)("div",{children:(0,i.jsx)("div",{children:"By default, the home page only displays Frontpage Posts, which are selected by moderators as especially interesting or useful to people with interest in doing good effectively. Personal posts get to have looser standards of relevance, and may include topics that could lead to more emotive or heated discussion (e.g. politics), which are generally excluded from Frontpage."})})}};var c=n(84999),u=n(70704),m=n(86980),p=n(63591),g=n(88262),h=n(22299),x=n.n(h),f=n(53018),v=n(61055),b=n(66121),y=n(36944),j=n(62813),k=n(60379),w=n(52370),S=n(65180),C=n(97885),A=n(75693),T=n(11689),I=n(79850);let N=(0,C.J)("\n  query FilterMode($documentId: String) {\n    tag(input: { selector: { documentId: $documentId } }) {\n      result {\n        ...TagPreviewFragment\n      }\n    }\n  }\n"),R=()=>(0,w.kL)()?"Frontpage Posts":"Latest Posts",L=e=>({paddingLeft:16,paddingTop:12,paddingRight:16,width:500,marginBottom:0,...e.typography.commentStyle,[e.breakpoints.down("xs")]:{width:"calc(100% - 32px)"}});function F(e){let t=e;switch("number"==typeof e&&1e-9>Math.abs(.5-e)&&(t="0.5"),t){case"Required":return(0,i.jsxs)("div",{children:[(0,i.jsx)("em",{children:"Required."})," ONLY posts with this ",u.LBN.get()," will appear in ",R(),"."]});case"Hidden":return(0,i.jsxs)("div",{children:[(0,i.jsx)("em",{children:"Hidden."})," Posts with this ",u.LBN.get()," will be not appear in ",R(),"."]});case"Reduced":return(0,i.jsxs)("div",{children:[(0,i.jsx)("em",{children:"Reduced."})," Posts with this ",u.LBN.get()," with be shown as if they had half as much karma."]});case"0.5":return(0,i.jsxs)("div",{children:[(0,i.jsx)("em",{children:"0.5x"})," Posts with this ",u.LBN.get()," with be shown as if they had half as much karma."]});case 0:case"Default":return(0,i.jsxs)("div",{children:["This ",u.LBN.get()," will have default filtering and sorting."]});default:if("number"==typeof e&&e<0)return(0,i.jsxs)("div",{children:[(0,i.jsxs)("em",{children:[e,"."]})," These posts will be shown less often (as though their score were ",-e," points lower)."]});return(0,i.jsxs)("div",{children:[(0,i.jsxs)("em",{children:["+",e,"."]})," These posts will be shown more often (as though their score were ",e," points higher)."]})}}let B=(0,g.N)("FilterMode",e=>{var t;let{tagId:n="",label:l,mode:d,canRemove:m=!1,onChangeMode:g,onRemove:h,description:w,classes:C}=e,{hover:L,anchorEl:B,eventHandlers:P}=(0,f.M)({eventProps:{tagId:n,label:l,mode:d}}),D=(0,a.iZ)(),{data:_}=(0,S.IT)(N,{variables:{documentId:n},skip:!n,ssr:!1}),E=null==_||null==(t=_.tag)?void 0:t.result,M=(0,s.Qr)();"TagDefault"===d&&u.Xws.get().find(e=>e.tagId===n)&&(d=u.Xws.get().find(e=>e.tagId===n).filterMode);let W="Reduced",O=function(e,t){if("number"==typeof e)return 25===e&&(0,c.Eu)(t)?"Subscribed":1e-9>Math.abs(.5-e)&&(0,c.Eu)(t)?"Reduced":e>=1?"+".concat(e):e>0?"-".concat(Math.round((1-e)*100),"%"):0===e?"":"".concat(e);switch(e){default:case"Default":return"";case"Hidden":return"Hidden";case"Required":return"Required";case"Subscribed":return"Subscribed";case"Reduced":return"Reduced"}}(d,D),z=function(e){switch(e){case"Reduced":return"-";case"Subscribed":return"+";case"":return"";case"Hidden":return(0,i.jsx)(k.A,{});case"Required":return"Required";default:if(e.startsWith("-"))return"-";if(e.startsWith("+"))return"+";return"-"}}(O),H=(0,i.jsxs)("span",{className:C.tagLabel,children:[l,""!==O&&(0,i.jsx)("span",{className:C.filterScore,children:z})]}),[q,G]=(0,o.useState)(0),V=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;g(e),G(t)},U=(0,s.lb)(d)||M.includes(d)&&q>0?d:"",$=(0,r.gE)({LessWrong:0,default:3});return(0,i.jsx)("span",{...P,className:C.tag,children:(0,i.jsxs)(y.Ig,{pageElementContext:"tagFilterMode",tagId:n,tagName:l,children:[E?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(b.Link,{to:(0,j.Yq)(E),className:C.hideOnMobile,children:H}),(0,i.jsx)("span",{className:C.hideOnDesktop,children:H})]}):H,(0,i.jsxs)(A.A,{open:!!L,anchorEl:B,placement:"bottom-start",children:[(0,i.jsxs)("div",{className:C.filtering,children:[(0,i.jsxs)("div",{className:C.filterRow,children:[(0,i.jsx)(p.default,{title:F("Hidden"),children:(0,i.jsx)("span",{className:x()(C.filterButton,{[C.selected]:"Hidden"===d}),onClick:e=>V("Hidden"),children:"Hidden"})}),(0,i.jsx)(p.default,{title:F(W),children:(0,i.jsx)("span",{className:x()(C.filterButton,{[C.selected]:[.5,"Reduced"].includes(d)}),onClick:e=>V(W),children:"Reduced"})}),(0,i.jsx)("div",{className:C.defaultLabel,children:(0,i.jsx)(p.default,{title:F("Default"),children:(0,i.jsx)("span",{className:x()(C.filterButton,{[C.selected]:0===d||"Default"===d}),onClick:e=>V("Default"),children:"Default"})})}),(0,i.jsx)(p.default,{title:F(25),children:(0,i.jsx)("span",{className:x()(C.filterButton,{[C.selected]:[25,"Subscribed"].includes(d)}),onClick:e=>V(25),children:(0,c.Eu)(D)?"Subscribed":"Promoted"})}),(0,i.jsxs)(p.default,{title:"Enter a custom karma filter. Values between 0 and 1 are multiplicative, other values are absolute changes to the karma of the post.",children:["number"==typeof U&&U>=1&&(0,i.jsx)("span",{children:"+"}),(0,i.jsx)("span",{className:C.filterButton,children:(0,i.jsx)(v.A,{placeholder:"Other",type:"number",disableUnderline:!0,classes:{input:C.input},value:U,onChange:e=>(e=>{let t=parseFloat(e);if(Number.isNaN(t))V(0);else{let e=t<=0||t>=1?Math.round(t):Math.floor(100*t)/100,n=Date.now();V(e,n),M.includes(e)&&setTimeout(()=>{G(e=>e===n?0:e)},1500)}})(e.target.value||"")})})]}),(0,i.jsx)("div",{className:C.rightContainer,children:m&&!(null==E?void 0:E.suggestedAsFilter)&&(0,i.jsx)("div",{className:C.removeLabel,onClick:e=>{h&&h()},children:(0,i.jsx)(p.default,{title:(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{children:["This filter will no longer appear in ",R(),"."]}),(0,i.jsx)("div",{children:"You can add it back later if you want"})]}),children:(0,i.jsx)("a",{children:"Remove"})})})})]}),w&&(0,i.jsx)(I.A,{contentType:"comment",className:C.description,children:w})]}),E&&(0,i.jsx)("div",{className:C.tagPreview,children:(0,i.jsx)(T.A,{tag:E,showCount:!1,postCount:$})})]})]})})},{styles:e=>({tag:{padding:8,paddingLeft:10,paddingRight:10,backgroundColor:e.palette.panelBackground.default,border:e.palette.tag.border,borderRadius:3,...e.typography.commentStyle,display:"inline-block",flexGrow:1,textAlign:"center",fontWeight:e.typography.body1.fontWeight,color:e.isFriendlyUI?e.palette.lwTertiary.main:e.palette.primary.main,boxShadow:e.palette.boxShadow.default,...e.isFriendlyUI?{marginBottom:4,marginRight:4}:{maxWidth:180,whiteSpace:"nowrap"}},description:{marginTop:20},tagLabel:{display:"flex",alignItems:"center",justifyContent:"center",fontWeight:e.typography.body1.fontWeight,overflow:e.isFriendlyUI?void 0:"hidden"},filterScore:{color:e.palette.primary.main,lineHeight:"8px",marginLeft:7,"& svg":{height:"0.5em",width:"0.5em"}},filtering:{...L(e),marginBottom:4},filterRow:{display:"flex",justifyContent:"flex-start",paddingBottom:2,paddingLeft:2,paddingRight:2},rightContainer:{display:"flex",justifyContent:"flex-end",flexGrow:1,"& *":{marginLeft:5}},defaultLabel:{color:e.palette.primary.main,userSelect:"none",cursor:"help"},removeLabel:{color:e.palette.grey[600],userSelect:"none"},filterButton:{marginRight:16,color:e.palette.grey[500],...e.typography.smallText,display:"inline-block",cursor:"pointer",userSelect:"none"},selected:{color:e.palette.text.maxIntensity,backgroundColor:e.palette.panelBackground.hoverHighlightGrey,padding:4,paddingLeft:8,paddingRight:8,marginTop:-4,marginBottom:-4,borderRadius:2,...e.isFriendlyUI&&{color:e.palette.primary.main}},input:{padding:0,paddingBottom:2,width:60,"-webkit-appearance":"none","-moz-appearance":"textfield"},tagPreview:{paddingBottom:4},hideOnMobile:{[e.breakpoints.down("sm")]:{display:"none"}},hideOnDesktop:{[e.breakpoints.up("md")]:{display:"none"}}})});var P=n(43618),D=n(40329),_=n(8876);let E=(0,D.Il)("TagFilterSettings",e=>({root:{marginLeft:"auto",...e.typography.commentStyle,display:"flex",flexWrap:"wrap",alignItems:"center",...e.isFriendlyUI?{marginTop:8}:{gap:"4px",marginBottom:4}},addButton:{backgroundColor:e.palette.panelBackground.default,paddingLeft:10,paddingTop:8,paddingBottom:8,paddingRight:10,borderRadius:3,fontWeight:700,marginBottom:4,cursor:"pointer",border:e.palette.tag.border},flexWrapEndGrow:{flexGrow:9999999},personalTooltip:{...L(e)},personalAndPlus:{...e.isFriendlyUI?{}:{gap:"4px",display:"flex",alignItems:"center"}}})),M=e=>{let{filterSettings:t,suggestedTagsQueryRef:n,setPersonalBlogFilter:o,setTagFilter:s,removeTagFilter:l,flexWrapEndGrow:g=!0}=e,h=(0,D.IS)(E),x=(0,a.iZ)(),{name:f,tooltip:v}=(0,r.gE)(d);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(O,{tags:t.tags,setTagFilter:s,removeTagFilter:l}),(0,i.jsx)(P.S,{name:"SuggestedTags",children:(0,i.jsx)(W,{filterSettings:t,suggestedTagsQueryRef:n,setTagFilter:s,removeTagFilter:l})}),(0,i.jsxs)("div",{className:h.personalAndPlus,children:[(0,i.jsx)(B,{label:f,description:v,mode:t.personalBlog,canRemove:!1,onChangeMode:e=>{o(e)}}),(0,i.jsx)(p.default,{title:"Add ".concat(u.fgA.get()," Filter"),children:(0,i.jsx)(m.A,{hasTooltip:!1,onTagSelected:e=>{let{tagId:n,tagName:i}=e;t.tags.some(e=>e.tagId===n)||s({tagId:n,tagName:i,filterMode:(0,c.Eu)(x)?25:"Default"})},children:(0,i.jsx)("span",{className:h.addButton,children:"+"})})})]}),g&&(0,i.jsx)("div",{className:h.flexWrapEndGrow})]})},W=e=>{let{filterSettings:t,suggestedTagsQueryRef:n,setTagFilter:o,removeTagFilter:s}=e,a=(0,_.Q8)(t,n);return(0,i.jsx)(O,{tags:a,setTagFilter:o,removeTagFilter:s})},O=e=>{let{tags:t,setTagFilter:n,removeTagFilter:o}=e;return(0,i.jsx)(i.Fragment,{children:t.map(e=>(0,i.jsx)(B,{label:e.tagName,tagId:e.tagId,mode:e.filterMode,canRemove:!0,onChangeMode:t=>{let i=t!==e.filterMode||(0,s.lb)(t)?t:0;n({tagId:e.tagId,tagName:e.tagName,filterMode:i})},onRemove:()=>{o(e.tagId)}},e.tagId))})},z=e=>{let{filterSettings:t,suggestedTagsQueryRef:n,setPersonalBlogFilter:o,setTagFilter:s,removeTagFilter:a,flexWrapEndGrow:r=!0}=e,l=(0,D.IS)(E);return(0,i.jsx)("span",{className:l.root,children:(0,i.jsx)(P.S,{name:"TagFilterSettings",children:(0,i.jsx)(M,{filterSettings:t,suggestedTagsQueryRef:n,setPersonalBlogFilter:o,setTagFilter:s,removeTagFilter:a,flexWrapEndGrow:r})})})}},43626:(e,t,n)=>{"use strict";n.d(t,{A:()=>j});var i=n(95155);n(12115);var o=n(84300),s=n(88262),a=n(27260),r=n(22299),l=n.n(r),d=n(11559),c=n(66121),u=n(28203),m=n(82325),p=n(52370),g=n(13369),h=n(29673),x=n(1527),f=n(35248),v=n(6421),b=n(32762),y=n(42919);let j=(0,s.N)("RecentDiscussionThread",e=>{let{post:t,comments:n,refetch:s,expandAllThreads:r,maxLengthWords:d,smallerFonts:j,isSubforumIntroPost:k,commentTreeOptions:w={},dismissCallback:S=()=>{},classes:C}=e,A=(0,m.iZ)(),{isSkippable:T,showHighlight:I,expandAllThreads:N,lastVisitedAt:R,nestedComments:L,treeOptions:F}=(0,g.F)({post:t,comments:n,refetch:s,commentTreeOptions:w,initialExpandAllThreads:r}),B=(0,h.z)({documentId:t._id,documentType:"post"});if(T)return null;let P=l()(C.postHighlight,{[C.noComments]:null===t.commentCount});return(0,i.jsxs)("div",{ref:B,className:l()(C.root,{[C.plainBackground]:!k,[C.primaryBackground]:k}),children:[(0,i.jsxs)("div",{className:l()(C.post,{[C.primaryBackground]:k}),children:[(0,i.jsxs)("div",{className:C.postItem,children:[t.group&&(0,i.jsx)(x.A,{post:t,documentId:t.group._id,inRecentDiscussion:!0}),(0,i.jsxs)("div",{className:C.titleAndActions,children:[(0,i.jsx)(c.Link,{to:(0,u.lz)(t),className:l()(C.title,{[C.smallerTitle]:j}),eventProps:{intent:"expandPost"},children:t.title}),k&&A?(0,i.jsx)(o.A,{className:C.closeButton,onClick:S,children:(0,i.jsx)(a.A,{className:C.closeIcon})}):(0,i.jsx)("div",{className:C.actions,children:(0,i.jsx)(y.A,{post:t,autoPlace:!0,vertical:!0})})]}),(0,i.jsx)("div",{className:l()(C.threadMeta,{[C.smallerMeta]:j}),onClick:I,children:(0,i.jsx)(f.A,{post:t,hideTags:!(0,p.kL)()})})]}),(0,i.jsx)("div",{className:P,children:(0,i.jsx)(b.A,{post:t,maxLengthWords:(null!=d?d:R)?50:170,smallerFonts:j})})]}),(0,i.jsx)("div",{className:C.content,children:(0,i.jsx)("div",{className:C.commentsList,children:!!L.length&&L.map(e=>(0,i.jsx)("div",{children:(0,i.jsx)(v.A,{treeOptions:F,startThreadTruncated:!0,expandAllThreads:N,expandNewComments:!1,nestingLevel:1,comment:e.item,childComments:e.children},e.item._id)},e.item._id))})})]})},{styles:e=>({root:{marginBottom:e.isFriendlyUI?2*e.spacing.unit:4*e.spacing.unit,position:"relative",minHeight:58,boxShadow:e.palette.boxShadow.default,borderRadius:e.borderRadius[e.isFriendlyUI?"default":"small"]},plainBackground:{backgroundColor:e.palette.panelBackground.recentDiscussionThread,backdropFilter:e.palette.filters.bannerAdBlur},primaryBackground:{backgroundColor:e.palette.background.primaryDim},postStyle:e.typography.postStyle,postItem:{paddingBottom:10,...e.typography.postStyle},continueReading:{marginTop:2*e.spacing.unit,marginBottom:2*e.spacing.unit},postHighlight:{overflow:"hidden","& a, & a:hover, & a:focus, & a:active, & a:visited":{backgroundColor:"none"}},noComments:{paddingBottom:16},threadMeta:{cursor:"pointer","&:hover $showHighlight":{opacity:1}},smallerMeta:{"& .PostsItemMeta-info":{fontSize:"1rem"}},showHighlight:{opacity:0},content:{marginLeft:4,marginRight:4,paddingBottom:1},commentsList:{marginTop:12,marginLeft:12,marginBottom:8,[e.breakpoints.down("sm")]:{marginLeft:0,marginRight:0,marginBottom:0}},post:{paddingTop:e.isFriendlyUI?12:18,paddingLeft:16,paddingRight:16,borderRadius:e.borderRadius[e.isFriendlyUI?"default":"small"],marginBottom:4,[e.breakpoints.down("xs")]:{paddingTop:16,paddingLeft:14,paddingRight:14}},titleAndActions:{display:"flex"},title:{...e.typography.display2,...e.typography.postStyle,flexGrow:1,marginTop:0,marginBottom:8,display:"block",fontSize:"2rem",...e.isFriendlyUI?{fontSize:22,fontWeight:600,lineHeight:1.25,fontFamily:e.palette.fonts.sansSerifStack,marginBottom:10}:{}},smallerTitle:{fontSize:"1.5rem",lineHeight:"1.5em"},actions:{"& .PostActionsButton-icon":{fontSize:"1.5em"},opacity:.2,"&:hover":{opacity:.4},marginRight:-8,marginTop:-8},closeButton:{padding:0,margin:"-6px 4px 0em 0em",width:32,height:32,minHeight:"unset",minWidth:"unset"},closeIcon:{width:"1em",height:"1em",color:e.palette.icon.dim6}}),hocs:[d.A],areEqual:{post:(e,t)=>(null==e?void 0:e._id)===(null==t?void 0:t._id),refetch:"ignore"}})},51537:(e,t,n)=>{"use strict";n.d(t,{F:()=>i});let i=e=>JSON.stringify(e).replace(/<\//g,"<\\/")},56924:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>y});var i=n(95155),o=n(21001),s=n.n(o),a=n(12115),r=n(36944),l=n(95178),d=n(32835),c=n(70391),u=n(40329),m=n(65180),p=n(97885),g=n(96973),h=n(43618);let x=(0,p.J)("\n  query DisplaySpotlightQuery {\n    currentSpotlight {\n      ...SpotlightDisplay\n    }\n  }\n"),f=e=>{var t,n;let{className:o}=e,{captureEvent:u}=(0,r.z1)(),{data:p}=(0,m.UX)(x,{context:{loggedOutCache:!0}}),g=null==p?void 0:p.currentSpotlight,h=null!=(n=null!=(t=null==g?void 0:g.post)?t:null==g?void 0:g.sequence)?n:null==g?void 0:g.tag,f="".concat(d.vb).concat(null==h?void 0:h._id),[v,b]=(0,l.j)([f]),y=(0,a.useMemo)(()=>!!v[f],[v,f]),j=(0,a.useCallback)(()=>{b(f,"true",{expires:s()().add(30,"days").toDate(),path:"/"}),u("spotlightItemHideItemClicked",{document:h})},[b,f,h,u]);return!g||y?null:(0,i.jsx)(r.Ig,{pageElementContext:"spotlightItem",children:(0,i.jsx)(c.EB,{spotlight:g,hideBanner:j,className:o},g._id)})},v=(0,u.Il)("SpotlightItemFallback",e=>({fallback:{height:181}})),b=()=>{let e=(0,u.IS)(v);return(0,i.jsx)("div",{className:e.fallback})},y=e=>{let{loadingStyle:t="spinner",className:n}=e;return(0,i.jsx)(h.S,{name:"DismissibleSpotlightItem",fallback:"placeholder"===t?(0,i.jsx)(b,{}):(0,i.jsx)(g.default,{}),children:(0,i.jsx)(f,{className:n})})}},58149:(e,t,n)=>{Promise.resolve().then(n.bind(n,67764)),Promise.resolve().then(n.bind(n,92749)),Promise.resolve().then(n.bind(n,60978)),Promise.resolve().then(n.bind(n,59697))},59697:(e,t,n)=>{"use strict";n.d(t,{default:()=>e8});var i=n(95155),o=n(12115),s=n(70704),a=n(82325),r=n(88262),l=n(27360),d=n(29576),c=n(22299),u=n.n(c),m=n(87282),p=n.n(m),g=n(93664);let h=(0,r.N)("MaintenanceBanner",e=>{let{classes:t}=e,n=s.J8f.get();if(!n)return(0,i.jsx)(i.Fragment,{});let o=new Date(n).getTime()-Date.now()<72e5;return(0,i.jsx)(g.A,{className:u()(t.root,{[t.rootMobile]:(0,d.F)(),[t.rootUrgent]:o}),children:(0,i.jsxs)("div",{children:[p()(s.Ls9.get())," will be undergoing scheduled maintenance on"," ",(0,i.jsx)(l.s,{date:n}),s.jYF.get()||""]})})},{styles:e=>({root:{padding:20,width:"100%",fontFamily:e.typography.postStyle.fontFamily,fontSize:"1.5rem",marginTop:"0.5em",border:e.palette.border.commentBorder,borderWidth:2,borderRadius:2,borderColor:e.palette.primary.main,background:e.palette.background.pageActiveAreaBackground},rootMobile:{fontSize:"1.3rem"},rootUrgent:{borderColor:e.palette.error.main},buttonRow:{marginLeft:"auto",width:"fit-content"}})});var x=n(36944),f=n(41831),v=n(97407),b=n(98912),y=n(95395),j=n(56924),k=n(66121),w=n(8876),S=n(50400),C=n(39999),A=n(90252),T=n(85723),I=n(45561),N=n(16604),R=n(83252),L=n(88974),F=n(52370),B=n(62813),P=n(65180),D=n(97885),_=n(84999),E=n(78220),M=n(33261),W=n(63591),O=n(52987),z=n(16306);let H=(0,r.N)("StickiedPosts",e=>{let{classes:t}=e;return(0,i.jsx)(g.A,{className:t.root,children:(0,i.jsx)(E.A,{terms:{view:"stickied",limit:100,forum:!0},showNoResults:!1,showLoadMore:!1,boxShadow:!1,curatedIconLeft:!1,placeholderCount:3})})},{styles:e=>({root:e.isFriendlyUI?{margin:"8px 0"}:{marginBottom:24,[e.breakpoints.down("md")]:{marginTop:12,marginBottom:8}}})});var q=n(29911),G=n(95178),V=n(32835),U=n(21001),$=n.n(U),Y=n(11721);let J={card:{label:"Card view",icon:"CardView"},list:{label:"List view",icon:"ListView"}},Q=(0,r.N)("PostsListViewToggle",e=>{let{classes:t}=e,{captureEvent:n}=(0,x.z1)(),[s,a]=(0,G.j)([V._N]),[r,l]=(0,o.useState)(()=>(e=>{try{if(!e||"object"!=typeof e||!("viewCount"in e)||"number"!=typeof e.viewCount||!("firstViewedAt"in e)||"string"!=typeof e.firstViewedAt)throw Error("Invalid data");return{viewCount:e.viewCount,firstViewedAt:new Date(e.firstViewedAt)}}catch(e){return{viewCount:0,firstViewedAt:new Date}}})(s[V._N])),d=(0,o.useCallback)(e=>{a(V._N,JSON.stringify(e),{path:"/"}),l(e)},[a]),c=(0,o.useCallback)(()=>{d({...r,viewCount:5})},[r,d]);(0,o.useEffect)(()=>{d({...r,viewCount:r.viewCount+1})},[]);let u=r.viewCount<4&&$()(r.firstViewedAt).add(1,"month").isAfter($()())&&new Date<new Date("2024-05-31"),{getView:m,setView:p}=(0,q.YQ)(),g=m(),h=(0,o.useCallback)(e=>{(0,q.Pz)(e)&&(p(e),n("postsListViewToggle",{value:e}))},[p,n]);return(0,i.jsxs)("div",{className:t.root,onClick:c,children:[(0,i.jsx)(Y.A,{value:g,options:J,onSelect:h,paddingSize:24,useIconLabel:!0,className:t.root}),u&&(0,i.jsxs)("div",{className:t.flag,children:[(0,i.jsx)("div",{className:t.flagPoint}),"NEW"]})]})},{styles:e=>({root:{position:"relative"},flag:{position:"absolute",right:-34,top:8,width:34,height:18,padding:"2px 4px",background:e.palette.primary.main,color:e.palette.text.alwaysWhite,borderRadius:e.borderRadius.small,fontFamily:e.palette.fonts.sansSerifStack,fontSize:11,fontWeight:600,[e.breakpoints.down("sm")]:{display:"none"}},flagPoint:{position:"absolute",top:6,left:-3,width:6,height:6,transform:"scaleY(70%) rotate(45deg)",background:e.palette.primary.main}})});var Z=n(84146),K=n(96242),X=n(77724),ee=n(65211),et=n.n(ee);let en={rank0To10:"Rank 0-10",text:"Text",multilineText:"Multiline text"};var ei=n(32220),eo=n(13667),es=n(72561),ea=n(55348),er=n(26086),el=n(90302),ed=n(75693),ec=n(96973),eu=n(88381);let em=(0,D.J)("\n  mutation createSurveyResponseSurveyPostsItem($data: CreateSurveyResponseDataInput!) {\n    createSurveyResponse(data: $data) {\n      data {\n        ...SurveyResponseMinimumInfo\n      }\n    }\n  }\n"),ep=e=>{let{format:t,onRespond:n,classes:s}=e,[a,r]=(0,o.useState)("");switch((0,o.useEffect)(()=>{en[t]||(0,Z.captureException)(Error("Invalid survey question format: ".concat(t)))},[t]),t){case"rank0To10":return(0,i.jsx)("div",{className:s.rankButtons,children:et()(0,11).map(e=>(0,i.jsx)(ei.A,{onClick:n.bind(null,e),variant:"outlined",className:s.rankButton,children:e},e))});case"text":case"multilineText":return(0,i.jsx)("form",{onSubmit:n.bind(null,a),children:(0,i.jsx)(eo.A,{value:a,setValue:r,placeholder:"Answer here...",As:"multilineText"===t?"textarea":"input",rows:"multilineText"===t?3:1})});default:return(0,i.jsx)("div",{children:"Invalid format"})}},eg=e=>{let{survey:t,surveyScheduleId:n,refetchSurvey:s,collapse:r,classes:l}=e,{captureEvent:d}=(0,x.z1)(),c=(0,a.iZ)(),u=(0,N.H)(),m=(0,o.useRef)(null),[p,g]=(0,o.useState)(!1),[h,f]=(0,o.useState)(!1),[v,b]=(0,o.useState)({}),[y,j]=(0,G.j)([V.Xn,V.PD]),k=y[V.PD],w=y[V.Xn],S=(0,o.useCallback)(()=>{g(e=>{let n=!e;return d("tripleDotClick",{open:n,itemType:"survey",surveyId:t._id}),n})},[d,t._id]),[C]=(0,eu.n)(em),A=(0,o.useCallback)(async e=>{if(null==c?void 0:c._id){f(!0);try{await C({variables:{data:{surveyId:t._id,surveyScheduleId:n,userId:null==c?void 0:c._id,clientId:k,response:e}}}),d("surveySubmit",{surveyId:t._id,surveyScheduleId:n,response:e}),null==s||s(),r()}catch(e){console.error("Error submitting survey:",e),f(!1)}}},[r,s,d,t._id,n,C,null==c?void 0:c._id,k]),T=(0,o.useCallback)(async(e,i)=>{b(n=>{let o={...n,[e]:i};return Object.keys(o).length===t.questions.length&&A(o),o}),b(t=>({...t,[e]:i})),d("surveyResponse",{surveyId:t._id,surveyScheduleId:n,questionId:e,response:i})},[d,t,n,A]),I=(0,o.useCallback)(()=>{r(),setTimeout(()=>{j(V.Xn,[...w||[],n])},500),d("surveyDismiss",{surveyId:t._id,surveyScheduleId:n})},[r,d,t._id,n,w,j]),R=(0,o.useCallback)(()=>{u({optedOutOfSurveys:!0}),r(),null==s||s(),d("surveyOptOut",{surveyId:t._id,surveyScheduleId:n})},[d,t._id,n,s,r,u]);return(null==w?void 0:w.includes(n))?null:(0,i.jsxs)("div",{className:l.root,children:[(0,i.jsx)(W.default,{title:"This is a user survey",placement:"right",inlineBlock:!1,className:l.tooltip,children:(0,i.jsx)(es.A,{icon:"QuestionMarkCircleFilled",className:l.info})}),(0,i.jsx)("div",{className:l.questions,children:h?(0,i.jsx)(ec.default,{className:l.loading}):t.questions.map(e=>{let{_id:t,question:n,format:o}=e;return(0,i.jsxs)("div",{className:l.question,children:[(0,i.jsx)("div",{className:l.questionText,children:n}),(0,i.jsx)(ep,{format:o,onRespond:T.bind(null,t),classes:l})]},t)})}),(0,i.jsx)(W.default,{title:"Dismiss",children:(0,i.jsx)(es.A,{icon:"Close",onClick:I,className:l.dismiss})}),(0,i.jsx)("div",{ref:m,children:(0,i.jsx)(K.A,{onClick:S,className:l.tripleDot})}),(0,i.jsx)(ed.A,{open:p,placement:"left-start",anchorEl:m.current,allowOverflow:!0,children:(0,i.jsx)(ea.A,{onClickAway:g.bind(null,!1),children:(0,i.jsxs)(er.A,{className:l.menu,children:[(null==c?void 0:c.isAdmin)&&(0,i.jsx)(el.A,{title:"Edit survey",icon:"Edit",to:"/survey/".concat(t._id,"/edit")}),(null==c?void 0:c.isAdmin)&&n&&(0,i.jsx)(el.A,{title:"Edit survey schedule",icon:"Clock",to:"/surveySchedule/".concat(n)}),(0,i.jsx)(el.A,{title:"Dismiss",icon:"Close",onClick:I}),c&&(0,i.jsx)(el.A,{title:"Opt-out of surveys",icon:"No",onClick:R})]})})})]})},eh=(0,r.N)("SurveyPostsItem",e=>{let{survey:t,surveyScheduleId:n,refetchSurvey:s,classes:a}=e,[r,l]=(0,o.useState)(!0),[d,c]=(0,o.useState)(!1),u=(0,o.useCallback)(()=>{c(!0),setTimeout(()=>l(!1),1e3)},[]);return r?(0,i.jsx)(X.A,{in:!d,timeout:1e3,children:(0,i.jsx)(x.Ig,{pageElementContext:"surveyPostsItem",children:(0,i.jsx)(eg,{survey:t,surveyScheduleId:n,refetchSurvey:s,collapse:u,classes:a})})}):null},{styles:e=>({root:{maxWidth:g.l,fontFamily:e.palette.fonts.sansSerifStack,background:e.palette.grey[0],border:"1px solid ".concat(e.palette.grey[100]),borderRadius:e.borderRadius.default,padding:14,minHeight:80,display:"flex",alignItems:"flex-start"},loading:{height:"unset"},tooltip:{display:"flex"},info:{marginRight:13,color:e.palette.grey[600],fontSize:"1.4em"},questions:{flexGrow:1,display:"flex",flexDirection:"column",gap:"16px"},question:{display:"flex",flexDirection:"column",gap:"8px"},questionText:{fontWeight:600,fontSize:16,color:e.palette.greyAlpha(.87)},rankButtons:{display:"flex",flexWrap:"wrap",gap:"6px"},rankButton:{padding:0,minHeight:30},dismiss:{cursor:"pointer",color:e.palette.grey[600],fontSize:20,marginRight:6,"&:hover":{color:e.palette.grey[1e3]},[e.breakpoints.down("sm")]:{display:"none"}},tripleDot:{cursor:"pointer",color:e.palette.grey[400],fontSize:20,marginRight:-2,"&:hover":{color:e.palette.grey[700]}},menu:{maxWidth:"calc(100vw - 100px)"}})}),ex=()=>(0,L.gE)({EAForum:{desktopVisible:"Customize feed",desktopHidden:"Customize feed",mobileVisible:"Customize feed",mobileHidden:"Customize feed"},default:{desktopVisible:"Customize (Hide)",desktopHidden:"Customize",mobileVisible:"Customize (Hide)",mobileHidden:"Customize"}}),ef=(0,r.N)("HomeLatestPosts",e=>{let{classes:t}=e,n=(0,N.H)(),r=(0,a.iZ)(),{filterSettings:l,suggestedTagsQueryRef:d,setPersonalBlogFilter:c,setTagFilter:m,removeTagFilter:p}=(0,w.jW)(),[h,f]=(0,o.useState)(!(0,F.kL)()&&!(null==r?void 0:r.hideFrontpageFilterSettingsDesktop)),[v,b]=(0,o.useState)(!1),{captureEvent:y}=(0,x.jE)({eventType:"frontpageFilterSettings",eventProps:{filterSettings:l,filterSettingsVisible:h,pageSectionContext:"latestPosts"},captureOnMount:!0}),j=(0,C.Av)(),L=(0,S.A)(j).subtract(24*s._Ob.get(),"hours").startOf("hour").toISOString(),q={filterSettings:(e=>{if(!(0,s.m8j)())return e;let t=e.tags.filter(e=>{let{tagId:t}=e;return t!==B.XG});return t.push({tagId:B.XG,tagName:"Translation",filterMode:"Hidden"}),{...e,tags:t}})(l),after:L,view:"magic",forum:!0,limit:(0,F.kL)()?11:13},G=(0,F.kL)()||(0,s.E9m)()&&(0,R.ru)(),{survey:V,refetch:U}=(()=>{var e;let{data:t,loading:n,refetch:i}=(0,P.IT)((0,D.J)("\n    query CurrentFrontpageSurvey {\n      CurrentFrontpageSurvey {\n        ...SurveyScheduleMinimumInfo\n      }\n    }\n  "),{skip:!(0,_.Kv)(),ssr:!0}),s=(0,o.useCallback)(async()=>{await i()},[i]);return{survey:null!=(e=null==t?void 0:t.CurrentFrontpageSurvey)?e:void 0,refetch:s,loading:n}})();return(0,i.jsx)(x.Ig,{pageSectionContext:"latestPosts",children:(0,i.jsxs)(g.A,{children:[(0,i.jsx)(A.Ay,{title:(0,F.kL)()?"New & upvoted":"Latest Posts",noTopMargin:(0,F.kL)(),noBottomPadding:!0,children:(0,i.jsxs)("div",{className:t.postsListSettings,children:[(0,i.jsxs)(W.default,{title:"Use these buttons to increase or decrease the visibility of posts based on ".concat(s.LBN.get(),'. Use the "+" button at the end to add additional ').concat(s.v6V.get()," to boost or reduce them."),hideOnTouchScreens:!0,children:[(0,i.jsx)(O.A,{className:t.hideOnMobile,label:h?ex().desktopVisible:ex().desktopHidden,showIcon:!1,onClick:()=>{f(!h),(0,s.OPm)()&&n({hideFrontpageFilterSettingsDesktop:h}),y("filterSettingsClicked",{settingsVisible:!h,settings:l})},textShadow:(0,s.OPm)()}),(0,i.jsx)(O.A,{className:t.hideOnDesktop,label:v?ex().mobileVisible:ex().mobileHidden,showIcon:!1,onClick:()=>{b(!v),y("filterSettingsClicked",{settingsVisible:!v,settings:l,pageSectionContext:"latestPosts"})}})]}),(0,F.kL)()&&(0,i.jsx)(Q,{})]})}),(0,i.jsx)(x.Ig,{pageSectionContext:"tagFilterSettings",children:(h||v)&&(0,i.jsx)("div",{className:u()({[t.hideOnDesktop]:!h,[t.hideOnMobile]:!v}),children:(0,i.jsx)(M.A,{filterSettings:l,suggestedTagsQueryRef:d,setPersonalBlogFilter:c,setTagFilter:m,removeTagFilter:p})})}),(0,F.kL)()&&(0,i.jsx)(H,{}),(0,i.jsxs)(I.p,{children:[G&&(0,i.jsx)(z.A,{repeatedPostsPrecedence:1}),(null==V?void 0:V.survey)&&(0,i.jsx)(eh,{survey:V.survey,surveyScheduleId:V._id,refetchSurvey:U}),(0,i.jsx)(x.Ig,{listContext:"latestPosts",children:(0,i.jsx)(T.Fm.Provider,{value:!0,children:(0,i.jsx)(E.A,{terms:q,alwaysShowLoadMore:!0,hideHiddenFrontPagePosts:!0,viewType:"fromContext",repeatedPostsPrecedence:2,children:(0,i.jsx)(k.Link,{to:"/allPosts",children:(0,F.kL)()?"Advanced sorting & filtering":"Advanced Sorting/Filtering"})})})})]})]})})},{styles:e=>({titleWrapper:(0,s.OPm)()?{marginBottom:8}:{display:"flex",marginBottom:8,flexWrap:"wrap",alignItems:"center"},title:{...(0,A.Jh)(e),display:"inline",marginRight:"auto"},toggleFilters:{[e.breakpoints.up("sm")]:{display:"none"}},hide:{display:"none"},hideOnMobile:{[e.breakpoints.down("sm")]:{display:"none"}},hideOnDesktop:{[e.breakpoints.up("md")]:{display:"none"}},postsListSettings:{display:"flex",alignItems:"center",gap:"6px"}})});var ev=n(1149),eb=n(77590),ey=n(52495);let ej=(0,r.N)("EAHomeCommunityPosts",e=>{let{classes:t}=e,{expanded:n,toggleExpanded:o}=(0,ev.c)({section:"community",onExpandEvent:"communityPostsSectionExpanded",onCollapseEvent:"communityPostsSectionCollapsed",defaultExpanded:"all",cookieName:V.hq}),a=(0,C.Av)(),{filterSettings:r}=(0,w.jW)(),l=(0,S.A)(a).subtract(24*s._Ob.get(),"hours").startOf("hour").toISOString(),d={view:"magic",filterSettings:{...r,tags:[{tagId:B.tu,filterMode:"Required"}]},after:l,limit:5};return(0,i.jsxs)(eb.A,{pageSectionContext:"communityPosts",expanded:n,toggleExpanded:o,title:"Posts tagged community",afterTitleTo:"/topics/community",children:[(0,i.jsx)(x.Ig,{listContext:"communityPosts",children:(0,i.jsx)(E.A,{terms:d,showLoadMore:!1,hideHiddenFrontPagePosts:!0})}),(0,i.jsx)(ey.A,{children:(0,i.jsx)(k.Link,{to:"/topics/community",className:t.readMoreLinkMobile,children:"View more"})})]})},{styles:e=>({readMoreLinkMobile:{display:"none",fontSize:14,color:e.palette.grey[600],fontWeight:600,"@media (max-width: 350px)":{display:"block"}}})});var ek=n(67385),ew=n(81001),eS=n(83693),eC=n.n(eS),eA=n(20799),eT=n(20463),eI=n.n(eT),eN=n(5501);let eR=(0,D.J)("\n  query multiTagHomeTagBarQuery($selector: TagSelector, $limit: Int, $enableTotal: Boolean) {\n    tags(selector: $selector, limit: $limit, enableTotal: $enableTotal) {\n      results {\n        ...TagFragment\n      }\n      totalCount\n    }\n  }\n"),eL=e=>({backgroundColor:e?"var(--tag-bar-event-foreground)":"var(--tag-bar-event-background)",color:e?"var(--tag-bar-event-background)":"var(--tag-bar-event-foreground)","&:hover":{backgroundColor:e?"var(--tag-bar-event-foreground)":"var(--tag-bar-event-background)",color:e?"var(--tag-bar-event-background)":"var(--tag-bar-event-foreground)",opacity:.9}}),eF=(0,r.N)("HomeTagBar",e=>{var t;let{classes:n,onTagSelectionUpdated:s,frontpageTab:a,sortTopics:r=e=>e,showDescriptionOnHover:l=!1}=e,{currentForumEvent:d}=(0,eA.n)(),c=(0,o.useRef)(null),m=(0,o.useRef)(null),p=(0,o.useRef)([0]),{data:h,loading:f}=(0,P.IT)(eR,{variables:{selector:{coreTags:{}},limit:40,enableTotal:!1},notifyOnNetworkStatusChange:!0}),v=null==h||null==(t=h.tags)?void 0:t.results;(0,o.useEffect)(()=>{c.current&&m.current&&(p.current=[0],Array.from(m.current.children).forEach(e=>{c.current&&m.current&&e.offsetLeft+e.offsetWidth-p.current[p.current.length-1]>c.current.offsetWidth&&p.current.push(e.offsetLeft-30)}))},[c,m,v]);let b=(0,o.useMemo)(()=>{let e=[a];return(null==d?void 0:d.tag)&&e.push(null==d?void 0:d.tag),[...e,...r(null!=v?v:[])]},[v,r,a,null==d?void 0:d.tag]),[y,j]=(0,o.useState)(a),[k,w]=(0,o.useState)(!1),[S,C]=(0,o.useState)(!0),A=(0,eN.Zp)(),{location:T,query:I}=(0,eN.zy)(),{captureEvent:N}=(0,x.z1)(),R=(0,o.useCallback)(e=>{j(e),s(e)},[s]);(0,o.useEffect)(()=>{if(v){var e;let t=v.find(e=>e.slug===I.tab);t?R(t):(null==d?void 0:d.tag)&&I.tab===(null==d||null==(e=d.tag)?void 0:e.slug)?R(null==d?void 0:d.tag):R(a)}},[v,I,R,a,null==d?void 0:d.tag]);let L=eC()(()=>{if(!c.current||!m.current)return;let e=c.current.scrollLeft,t=m.current.scrollWidth-c.current.clientWidth-10;w(e>0),C(e<t)},80);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(x.Ig,{pageSectionContext:"topicsBar",children:(0,i.jsx)(g.A,{className:n.tabsSection,children:(0,i.jsxs)("div",{className:n.tabsRow,children:[k&&(0,i.jsx)("div",{onClick:()=>{if(!c.current||!m.current)return;let e=Array.from(p.current).reverse().find(e=>!!c.current&&!!m.current&&e<c.current.scrollLeft-2)||0;c.current.scrollTo({left:e,behavior:"smooth"}),C(!0)},className:u()(n.arrow,n.leftArrow),children:(0,i.jsx)(es.A,{icon:"ThickChevronLeft",className:n.arrowIcon})}),(0,i.jsx)("div",{className:u()(n.tabsWindowContainer,{[n.leftFade]:k,[n.rightFade]:S}),children:(0,i.jsx)("div",{ref:c,className:n.tabsWindow,onScroll:()=>L(),children:(0,i.jsxs)("div",{ref:m,className:n.topicsBar,children:[b.map(e=>{var t,o;let s=e.shortName||e.name,a=e._id===y._id,r=e._id===(null==d||null==(t=d.tag)?void 0:t._id);return(0,i.jsx)(W.default,{title:l?null==(o=e.description)?void 0:o.plaintextDescription:null,popperClassName:n.tagDescriptionTooltip,children:(0,i.jsx)("button",{onClick:()=>(e=>{A({...T,search:eI().stringify({...I,tab:e.slug})},{replace:!0}),N("topicsBarTabClicked",{topicsBarTabId:e._id,topicsBarTabName:e.shortName||e.name})})(e),className:u()(n.tab,{[n.activeTab]:a&&!r,[n.eventTab]:r,[n.activeEventTab]:a&&r}),style:r?(e=>e?{"--tag-bar-event-background":e.lightColor,"--tag-bar-event-foreground":e.darkColor}:{})(d):void 0,children:s})},s)}),!(null==v?void 0:v.length)&&f&&et()(0,6).map(e=>(0,i.jsx)("div",{className:u()(n.tab,n.placeholderTab)},e))]})})}),S&&(0,i.jsx)("div",{onClick:()=>{if(!c.current||!m.current)return;let e=p.current.find(e=>!!c.current&&!!m.current&&e>c.current.scrollLeft);e&&(c.current.scrollTo({left:e,behavior:"smooth"}),w(!0))},className:u()(n.arrow,n.rightArrow),children:(0,i.jsx)(es.A,{icon:"ThickChevronRight",className:n.arrowIcon})})]})})})})},{styles:e=>({tabsSection:{marginTop:10,marginBottom:26,[e.breakpoints.down("sm")]:{marginTop:20}},tabsRow:{position:"relative"},tabsWindowContainer:{position:"relative"},tabsWindow:{position:"relative",overflowX:"scroll",scrollbarWidth:"none","&::-webkit-scrollbar":{height:0}},leftFade:{"&:before":{position:"absolute",top:0,left:-1,height:"100%",width:50,content:"''",background:"linear-gradient(to right, ".concat(e.palette.background.default,", ").concat(e.palette.background.transparent,")"),pointerEvents:"none",zIndex:1}},rightFade:{"&:after":{position:"absolute",top:0,right:-1,height:"100%",width:50,content:"''",background:"linear-gradient(to left, ".concat(e.palette.background.default,", ").concat(e.palette.background.transparent,")"),pointerEvents:"none"}},arrow:{position:"absolute",top:0,height:30,width:28,color:e.palette.grey[500],paddingTop:7,paddingLeft:6,cursor:"pointer","&:hover":{color:e.palette.grey[700]},"@media (max-width: 840px)":{display:"none"}},arrowIcon:{fontSize:18},leftArrow:{left:-30},rightArrow:{right:-30},topicsBar:{display:"flex",columnGap:8,whiteSpace:"nowrap",transition:"transform 0.2s ease","@media (max-width: 840px)":{columnGap:6}},tab:{backgroundColor:e.palette.grey[200],color:e.palette.grey[900],fontFamily:e.typography.fontFamily,fontSize:14,lineHeight:"23px",fontWeight:"500",padding:"4px 8px",borderRadius:6,cursor:"pointer","&:hover":{backgroundColor:e.palette.grey[300]},"@media (max-width: 840px)":{fontSize:12,lineHeight:"18px",padding:"4px 6px"}},activeTab:{backgroundColor:e.palette.grey[1e3],color:e.palette.grey[0],"&:hover":{backgroundColor:e.palette.grey[1e3]}},eventTab:{...eL(e.dark)},activeEventTab:{...eL(e.dark)},placeholderTab:{flex:"none",height:31,width:110,background:e.palette.panelBackground.placeholderGradient,backgroundSize:"300% 100%",animation:"profile-image-loader 1.8s infinite",cursor:"default","&:hover":{background:e.palette.panelBackground.placeholderGradient,backgroundSize:"300% 100%"},"@media (max-width: 840px)":{height:26,width:100}},tagDescriptionTooltip:{margin:8}})});var eB=n(99892);let eP="Frontpage",eD=["z8qFsGt5iXyZiLbjN","sWcuTyTB5dP3nas2t","QdH9f8TC6G8oGYdgt","oNiQsBHA3i837sySD","ZCihBFp5P64JCvQY6","H43gvLzBCacxxamPe","ee66CtAMYurQreWBH","4eyeLKC64Yvznzt6Z","EHLmbEmJ2Qd5WfwTb","of9xBvR3wpbp6qsZC","psBzwdY8ipfCeExJ7","L6NqHZkLc4xZ7YtDr","4CH9vsvzyk4mSKwyZ","aJnrnnobcBNWRsfAw"],e_=e=>eD.map(t=>e.find(e=>e._id===t)).filter(eB.Gh),eE={_id:"0",name:eP},eM=(0,r.N)("EAHomeMainContent",e=>{let{FrontpageNode:t,classes:n}=e,[s,a]=(0,o.useState)(eE),r={...(0,ew.Ej)(s),sortedBy:"magic",limit:30};return(0,i.jsxs)(q.W6,{children:[(0,i.jsx)(eF,{onTagSelectionUpdated:a,sortTopics:e_,frontpageTab:eE}),s.name===eP?(0,i.jsx)(t,{}):(0,i.jsx)(x.Ig,{pageSectionContext:"topicSpecificPosts",children:(0,i.jsxs)(g.A,{children:[(0,i.jsx)(A.Ay,{title:"New & upvoted",noTopMargin:!0,children:(0,i.jsxs)("div",{className:n.postsListSettings,children:[(0,i.jsx)(k.Link,{to:"/topics/".concat(s.slug),className:n.learnMoreLink,children:"View more"}),(0,F.kL)()&&(0,i.jsx)(Q,{})]})}),(0,i.jsx)(E.A,{terms:r,itemsPerPage:30,hideTag:!0,viewType:"fromContext"})]})})]})},{styles:e=>({spotlightMargin:{marginBottom:24},learnMoreLink:{fontSize:14,color:e.palette.grey[600],fontWeight:600},postsListSettings:{display:"flex",alignItems:"center",gap:"6px"}})}),eW=(0,r.N)("SmallpoxBanner",e=>{let{classes:t}=e,n="https://res.cloudinary.com/".concat(s.Ftk.get(),"/image/upload/w_").concat(g.l,",h_").concat(250,"/").concat("Banner/Smallpox_Eradication_Day-17.png"),o="https://res.cloudinary.com/".concat(s.Ftk.get(),"/image/upload/w_").concat(g.l,",h_").concat(250,"/").concat("Banner/Smallpox_Eradication_Day-16.png");return(0,i.jsx)(g.A,{children:(0,i.jsx)(k.Link,{to:"/posts/jk7A3NMdbxp65kcJJ/500-million-but-not-a-single-one-more",className:t.link,children:(0,i.jsxs)("picture",{children:[(0,i.jsx)("source",{media:"(max-width: 959.95px)",srcSet:n}),(0,i.jsx)("source",{media:"(min-width: 960px)",srcSet:o}),(0,i.jsx)("img",{className:t.image,src:o})]})})})},{styles:e=>({link:{"&:hover":{opacity:"unset"}},image:{height:250,width:"100%",objectFit:"cover"}})}),eO=(0,r.N)("EventBanner",e=>{let{classes:t}=e,n=s.Kqc.get(),o=s.uIw.get(),a=s.v_U.get(),r="https://res.cloudinary.com/".concat(s.Ftk.get(),"/image/upload/w_").concat(2*g.l,",h_").concat(500,"/").concat(n),l="https://res.cloudinary.com/".concat(s.Ftk.get(),"/image/upload/w_").concat(2*g.l,",h_").concat(500,"/").concat(o);return(0,i.jsx)(g.A,{children:(0,i.jsx)(k.Link,{to:a,className:t.link,children:(0,i.jsxs)("picture",{children:[(0,i.jsx)("source",{media:"(max-width: 959.95px)",srcSet:r}),(0,i.jsx)("source",{media:"(min-width: 960px)",srcSet:l}),(0,i.jsx)("img",{className:t.image,src:l})]})})})},{styles:e=>({link:{"&:hover":{opacity:"unset"}},image:{height:250,width:"100%",objectFit:"cover",[e.breakpoints.down("md")]:{width:"calc(100% + 16px)",marginRight:-8,marginLeft:-8}}})}),ez=(0,r.N)("BotSiteBanner",e=>{let{classes:t}=e;return(0,i.jsx)(g.A,{className:t.root,children:(0,i.jsxs)("div",{children:["Welcome to the EA Forum bot site. If you are trying to access the Forum programmatically (either by scraping or via the api) please use this site rather than ",(0,i.jsx)("a",{href:"https://forum.effectivealtruism.org",children:"forum.effectivealtruism.org"}),".",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),"This site has the same content as the main site, but is run in a separate environment to avoid bots overloading the main site and affecting performance for human users."]})})},{styles:e=>({root:{padding:20,width:"100%",fontFamily:e.palette.fonts.serifStack,fontSize:18,marginTop:12,border:e.palette.border.commentBorder,borderWidth:2,borderRadius:e.borderRadius.default,borderColor:e.palette.primary.main,background:e.palette.background.pageActiveAreaBackground,[e.breakpoints.down("xs")]:{padding:12,fontSize:16}}})});var eH=n(25675),eq=n(84300),eG=n(9962),eV=n(6639),eU=n(95078);let e$=(0,D.J)("\n  query multiLocalgroupLocalGroupsQuery($selector: LocalgroupSelector, $limit: Int, $enableTotal: Boolean) {\n    localgroups(selector: $selector, limit: $limit, enableTotal: $enableTotal) {\n      results {\n        ...localGroupsHomeFragment\n      }\n      totalCount\n    }\n  }\n"),eY=(e,t,n)=>{let i=e=>e*Math.PI/180,o=i(t.lat-e.lat),s=i(t.lng-e.lng),a=Math.sin(o/2)*Math.sin(o/2)+Math.sin(s/2)*Math.sin(s/2)*Math.cos(i(e.lat))*Math.cos(i(t.lat)),r=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))*6371;return Math.round("mi"===n?.621371*r:r)};(0,r.N)("LocalGroups",e=>{var t;let{keywordSearch:n,userLocation:o,distanceUnit:a="km",includeInactive:r,toggleIncludeInactive:l,classes:d}=e,c=(0,eG.Sy)(e=>e.palette.panelBackground.default),u=(0,eG.Sy)(e=>e.palette.background.primaryDim),{view:m,limit:p,...g}=o.known?{view:"nearby",lat:o.lat,lng:o.lng,includeInactive:r}:{view:"local",includeInactive:r},{data:h,loading:x}=(0,P.IT)(e$,{variables:{selector:{[m]:g},limit:300,enableTotal:!1},skip:o.loading,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),f=null==h||null==(t=h.localgroups)?void 0:t.results,v=s.Ftk.get(),b=f;return f&&n&&(b=f.filter(e=>{var t,i,o,s,a;return"".concat(null==(t=e.name)?void 0:t.toLowerCase()," ").concat(null!=(s=null==(i=e.nameInAnotherLanguage)?void 0:i.toLowerCase())?s:""," ").concat(null!=(a=null==(o=e.location)?void 0:o.toLowerCase())?a:"").includes(n.toLowerCase())})),(0,i.jsxs)("div",{className:d.localGroups,children:[x||(null==b?void 0:b.length)?(0,i.jsxs)("div",{className:d.localGroupsList,children:[null==b?void 0:b.map(e=>{var t;let n,s=e.bannerImageId?{backgroundImage:"linear-gradient(to right, transparent, ".concat(c," 140px), url(https://res.cloudinary.com/").concat(v,"/image/upload/c_crop,g_custom/c_fill,h_115,w_140,q_auto,f_auto/").concat(e.bannerImageId,")")}:{backgroundImage:"url(https://res.cloudinary.com/cea/image/upload/c_pad,h_80,w_140,q_auto,f_auto/ea-logo-square-1200x1200__1_.png), linear-gradient(to right, ".concat(u,", ").concat(c," 140px)")};if(o.known&&(null==(t=e.mongoLocation)?void 0:t.coordinates)){let t={lat:e.mongoLocation.coordinates[1],lng:e.mongoLocation.coordinates[0]};n="".concat(eY(o,t,a)," ").concat(a)}return(0,i.jsxs)("div",{className:d.localGroup,children:[(0,i.jsx)(k.Link,{to:"/groups/".concat(e._id),className:d.mobileImg,children:e.bannerImageId?(0,i.jsx)(eU.A,{height:160,width:"100vw",objectFit:"cover",publicId:e.bannerImageId,imgProps:{w:"600"}}):(0,i.jsx)("img",{src:"https://res.cloudinary.com/cea/image/upload/h_120,q_auto,f_auto/ea-logo-square-1200x1200__1_.png"})}),(0,i.jsxs)("div",{className:d.localGroupContent,style:s,children:[(0,i.jsxs)("div",{className:d.localGroupNameRow,children:[(0,i.jsxs)(k.Link,{to:"/groups/".concat(e._id),className:d.localGroupName,children:[e.inactive?(0,i.jsx)("span",{className:d.inactiveGroupTag,children:"[Inactive]"}):null,e.name]}),(0,i.jsx)("div",{className:d.localGroupDistance,children:n})]}),(0,i.jsx)("div",{className:d.localGroupLocation,children:e.location})]})]},e._id)}),!r&&(0,i.jsx)("div",{className:d.postGroupsCTA,children:(0,i.jsx)(eq.A,{color:"primary",onClick:l,className:d.includeInactiveBtn,children:"Search inactive groups"})})]}):(0,i.jsxs)("div",{className:d.noResults,children:[(0,i.jsx)("div",{className:d.noResultsText,children:"No local groups matching your search"}),(0,i.jsx)("div",{className:d.noResultsCTA,children:r?(0,i.jsx)(k.Link,{to:"/events",className:d.eventsLink,children:"Find an upcoming event near you"}):(0,i.jsx)(eq.A,{color:"primary",onClick:l,className:d.includeInactiveBtn,children:"Search inactive groups"})})]}),(0,i.jsx)("div",{className:d.localGroupsMap,children:(0,i.jsx)(eV.A,{mapOptions:o.known?{center:o,zoom:5}:{zoom:1},keywordSearch:n,hideLegend:!0,showUsersByDefault:!1})})]})},{styles:e=>({noResults:{...e.typography.commentStyle,textAlign:"center",fontSize:18},noResultsText:{marginTop:30},noResultsCTA:{fontSize:14,marginTop:20},eventsLink:{color:e.palette.primary.main},includeInactiveBtn:{textTransform:"none",fontSize:14},localGroups:{display:"grid",gridTemplateColumns:"1fr 1fr",marginTop:20,[e.breakpoints.down("sm")]:{gridTemplateColumns:"1fr",marginLeft:-8,marginRight:-8}},localGroupsList:{height:440,overflowY:"scroll",[e.breakpoints.down("sm")]:{height:"auto"}},localGroup:{height:116,borderBottomWidth:1,borderBottomStyle:"solid",borderColor:e.palette.greyAlpha(.1),"&:last-of-type":{borderBottom:"none"},[e.breakpoints.down("xs")]:{height:"auto"}},mobileImg:{display:"none",height:160,backgroundColor:e.palette.background.primaryDim,justifyContent:"center",alignItems:"center",[e.breakpoints.down("xs")]:{display:"flex"}},localGroupContent:{height:115,background:e.palette.panelBackground.default,backgroundRepeat:"no-repeat",backgroundPositionY:"center",padding:"16px 16px 16px 150px",[e.breakpoints.down("xs")]:{height:"auto",backgroundImage:"none !important",paddingLeft:16,paddingBottom:30}},localGroupNameRow:{display:"flex",justifyContent:"space-between",alignItems:"baseline"},localGroupName:{...e.typography[e.isFriendlyUI?"headerStyle":"headline"],fontSize:18,fontWeight:e.isFriendlyUI?700:void 0,display:"-webkit-box","-webkit-line-clamp":2,"-webkit-box-orient":"vertical",overflow:"hidden",marginBottom:0},inactiveGroupTag:{color:e.palette.grey[500],marginRight:10},localGroupDistance:{flex:"none",...e.typography.commentStyle,color:e.palette.primary.dark,fontSize:14,marginLeft:14},localGroupLocation:{...e.typography.commentStyle,color:e.palette.text.slightlyDim2,fontSize:14,lineHeight:"1.5em",display:"-webkit-box","-webkit-line-clamp":2,"-webkit-box-orient":"vertical",overflow:"hidden",marginTop:8},localGroupsMap:{marginTop:50,[e.breakpoints.down("sm")]:{display:"none"}},postGroupsCTA:{textAlign:"center",padding:20}})});var eJ=n(65792),eQ=n(11586),eZ=n(25583),eK=n(38199);let eX="EAGxSingapore",e0={lat:1.2932,lng:103.857109},e1=$().utc("2024-11-30","YYYY-MM-DD"),e2=(0,r.N)("EAGBanner",e=>{let{classes:t}=e,[n,s]=(0,G.j)([V.ru]),{captureEvent:r}=(0,x.z1)(),l=(0,a.iZ)(),d=(0,eH.k)(l,!0),[c,u]=(0,o.useState)(null);(0,o.useEffect)(()=>{u((0,eJ.BU)())},[]);let m=(0,o.useCallback)(()=>{s(V.ru,"true",{expires:$()().add(1,"months").toDate(),path:"/"})},[s]),p=(0,o.useCallback)(()=>{m(),r("eag_banner_dismissed")},[m,r]),h=d.known&&500>eY(e0,d,"mi"),v="SG"===c;return!(h||v)||$().utc().isAfter(e1,"day")||"true"===n[V.ru]?null:(0,i.jsx)(f.A,{ssr:!!l,children:(0,i.jsx)(x.Ig,{pageElementContext:"EAGBanner",children:(0,i.jsx)(eZ.A,{eventProps:{inViewType:"".concat(eX,"Banner"),reason:h&&v?"both":h?"nearby":"country"},children:(0,i.jsxs)(g.A,{className:t.root,children:[(0,i.jsx)("div",{className:t.lightbulb,children:eQ.x}),(0,i.jsxs)("div",{className:t.content,children:[(0,i.jsxs)("div",{className:t.topRow,children:["Upcoming conference near you",(0,i.jsx)(W.default,{title:(0,i.jsxs)(i.Fragment,{children:["You're seeing this recommendation because of your location."," ",h&&(0,i.jsxs)(i.Fragment,{children:["You can update your account location via your"," ",(0,i.jsx)(k.Link,{to:"/account?highlightField=googleLocation",className:t.link,children:"account settings"}),"."]})]}),clickable:h,children:(0,i.jsx)(es.A,{icon:"QuestionMarkCircle",className:t.infoIcon})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(eK.A,{href:"/posts/ygKf2PhKAFdaogHJy/apply-by-nov-30-eagxsingapore-in-december",children:(0,i.jsx)("span",{className:t.bold,children:eX})})," ","applications close on ",e1.format("ddd MMMM D"),"."," ",(0,i.jsx)(k.Link,{to:"https://www.effectivealtruism.org/ea-global/events/eagxsingapore-2024",className:t.applyLink,children:"Apply now"})]})]}),(0,i.jsx)(es.A,{icon:"Close",onClick:p,className:t.close})]})})})})},{styles:e=>({root:{display:"flex",justifyContent:"space-between",columnGap:"6px",padding:"10px 10px 10px 9px",backgroundColor:e.palette.grey[200],fontFamily:e.palette.fonts.sansSerifStack,fontSize:15,lineHeight:"22px",fontWeight:450,borderRadius:e.borderRadius.default,marginBottom:20},lightbulb:{flex:"none",height:37,width:37,alignSelf:"center",color:e.palette.buttons.alwaysPrimary},content:{flexGrow:1},topRow:{display:"flex",alignItems:"center",columnGap:6,fontSize:13,lineHeight:"17px",opacity:.5,marginBottom:2},infoIcon:{fontSize:14,transform:"translateY(2px)"},bold:{fontWeight:700},link:{textDecoration:"underline"},applyLink:{color:e.palette.buttons.alwaysPrimary,fontWeight:600,textDecoration:"underline",textUnderlineOffset:"3px",whiteSpace:"nowrap",marginLeft:4,"&:hover":{textDecoration:"underline",opacity:.75}},close:{flex:"none",fontSize:20,cursor:"pointer",marginLeft:16,"&:hover":{opacity:.75}}})});var e5=n(64656);let e6=e=>{let{classes:t}=e,n=(0,a.iZ)(),o=n&&n.isAdmin?4:3;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(j.Ay,{className:t.spotlightMargin}),(0,i.jsx)(ef,{}),(0,i.jsxs)(f.A,{ssr:!0,clientTiming:"mobile-aware",children:[!(null==n?void 0:n.hideCommunitySection)&&(0,i.jsx)(ej,{}),(0,i.jsx)(y.A,{})]}),(0,i.jsx)(f.A,{ssr:!!n,clientTiming:"mobile-aware",children:(0,i.jsx)(ek.A,{})}),(0,i.jsx)(f.A,{ssr:!!n,clientTiming:"async-non-blocking",children:(0,i.jsx)(b.default,{title:"Recent discussion",af:!1,commentsLimit:o,maxAgeHours:18})})]})},e8=(0,r.N)("EAHome",e=>{let{classes:t}=e,n=s.e1g.get(),a=s.Ea6.get(),r=s.J8f.get(),l=r&&Date.now()<new Date(r).getTime()+3e5,d=s.Tg2.get()&&l,c=s.zOC.get()&&(0,s.m8j)(),u=(0,o.useCallback)(()=>(0,i.jsx)(e6,{classes:t}),[t]);return(0,i.jsxs)(x.Ig,{pageContext:"homePage",children:[(0,i.jsx)(e5.Y,{generate:()=>({"@context":"http://schema.org","@type":"WebSite",url:"".concat((0,v.R_)()),potentialAction:{"@type":"SearchAction",target:"".concat((0,v.yK)((0,v.R_)(),"/search"),"?query={search_term_string}"),"query-input":"required name=search_term_string"},mainEntityOfPage:{"@type":"WebPage","@id":"".concat((0,v.R_)())},...(0,s.m8j)()&&{description:"A forum for discussions and updates on effective altruism. Topics covered include global health, AI safety, biosecurity, animal welfare, philosophy, policy, forecasting, and effective giving. Users can explore new posts, engage with the community, participate in recent discussions, and discover topics, events, and groups. An accessible space for sharing and learning about approaches to tackling the world's most pressing problems."}})}),d&&(0,i.jsx)(h,{}),a&&(0,i.jsx)(eW,{}),n&&(0,i.jsx)(eO,{}),c&&(0,i.jsx)(ez,{}),(0,i.jsx)(e2,{}),(0,i.jsx)(eM,{FrontpageNode:u})]})},{styles:e=>({spotlightMargin:{marginBottom:24}})})},60978:(e,t,n)=>{"use strict";n.d(t,{default:()=>e0});var i=n(95155),o=n(12115),s=n(36944),a=n(83252),r=n(70704),l=n(95178),d=n(32835),c=n(21001),u=n.n(c),m=n(84999),p=n(97407),g=n(88262),h=n(77813),x=n(93657),f=n(25583),v=n(49360),b=n(93664),y=n(67385),j=n(56924),k=n(95395),w=n(82325),S=n(66121),C=n(5501),A=n(8876),T=n(50400),I=n(39999),N=n(90252),R=n(85723),L=n(45561),F=n(22299),B=n.n(F),P=n(16604),D=n(94719),_=n(48782),E=n(72561),M=n(68946),W=n(27950);let O=e=>({"&:after":{position:"absolute",top:0,right:-1,height:"100%",width:50,content:"''",background:"linear-gradient(to left, ".concat(e.palette.background.default,", ").concat(e.palette.background.transparent,")"),...(0,M.k)({background:"none"}),pointerEvents:"none"}}),z=(0,g.N)("TabPicker",e=>{let{classes:t,sortedTabs:n,defaultTab:s,onTabSelectionUpdate:a,showDescriptionOnHover:r=!1}=e,[l,d]=(0,o.useState)(null!=s?s:n[0].name),c=(0,o.useRef)(null),u=(0,o.useRef)([0]),[m,p]=(0,o.useState)(!1),[g,h]=(0,o.useState)(!1),[x,f]=(0,o.useState)(!1),v=(0,o.useCallback)(()=>{if(!c.current)return;let e=c.current.scrollLeft,t=c.current.scrollWidth-c.current.clientWidth;p(e>0),h(e<t),f(!0)},[]);(0,o.useEffect)(()=>{c.current&&(u.current=[0],Array.from(c.current.children).forEach(e=>{c.current&&e.offsetLeft+e.offsetWidth-u.current[u.current.length-1]>c.current.offsetWidth&&u.current.push(e.offsetLeft-30)}))},[c,v,n]);let y=(0,o.useCallback)(e=>{d(e),a(e)},[a]);return(0,i.jsx)(b.A,{className:t.tabsSection,children:(0,i.jsxs)("div",{className:t.tabsRow,children:[m&&(0,i.jsx)("div",{onClick:()=>{if(!c.current)return;let e=Array.from(u.current).reverse().find(e=>!!c.current&&e<c.current.scrollLeft-2)||0;c.current.scrollTo({left:e,behavior:"smooth"}),h(!0),f(!0)},className:B()(t.arrow,t.leftArrow),children:(0,i.jsx)(E.A,{icon:"ThickChevronLeft",className:t.arrowIcon})}),(0,i.jsx)("div",{className:B()(t.tabsWindowContainer,{[t.leftFade]:m,[t.rightFade]:g,[t.rightFadeThreeTabs]:3===n.length&&!x,[t.rightFadeFourTabs]:4===n.length&&!x}),children:(0,i.jsx)("div",{ref:c,className:t.topicsBar,onScroll:()=>v(),children:n.map(e=>{let t=e.name===l;return(0,i.jsx)(W.A,{label:e.label,isActive:t,onClick:()=>y(e.name),description:r?e.description:null,showLabsIcon:e.showLabsIcon,showSparkleIcon:e.showSparkleIcon,showPersonIcon:e.showPersonIcon,showTooltip:r},e.name)})})}),g&&(0,i.jsx)("div",{onClick:()=>{if(!c.current)return;let e=u.current.find(e=>!!c.current&&e>c.current.scrollLeft);e&&(c.current.scrollTo({left:e,behavior:"smooth"}),p(!0),f(!0))},className:B()(t.arrow,t.rightArrow),children:(0,i.jsx)(E.A,{icon:"ThickChevronRight",className:t.arrowIcon})})]})})},{styles:e=>({tabsSection:{margin:0,width:"inherit"},tabsRow:{position:"relative"},topicsBar:{display:"flex",columnGap:8,whiteSpace:"nowrap",overflowX:"scroll",scrollbarWidth:"none","&::-webkit-scrollbar":{height:0},transition:"transform 0.2s ease"},tabsWindowContainer:{position:"relative"},tabsWindow:{position:"relative"},leftFade:{"&:before":{position:"absolute",top:0,left:-1,height:"100%",width:50,content:"''",background:"linear-gradient(to left, ".concat(e.palette.background.default,", ").concat(e.palette.background.transparent,")"),...(0,M.k)({background:"none"}),pointerEvents:"none",zIndex:1}},rightFade:{...O(e)},rightFadeMobile:{[e.breakpoints.down("xs")]:{...O(e)}},rightFadeThreeTabs:{"@media(max-width: 378px)":{...O(e)}},rightFadeFourTabs:{"@media(max-width: 486px)":{...O(e)}},arrow:{position:"absolute",top:0,height:30,width:28,color:e.palette.grey[500],paddingTop:7,paddingLeft:6,cursor:"pointer","&:hover":{color:e.palette.grey[700]},[e.breakpoints.down("xs")]:{display:"none"}},arrowIcon:{fontSize:18},leftArrow:{left:-30},rightArrow:{right:-30}})});var H=n(74727),q=n(35138),G=n.n(q),V=n(52987),U=n(78220),$=n(33261),Y=n(24982),J=n(65180),Q=n(58179),Z=n.n(Q),K=n(99892),X=n(52500),ee=n(89739),et=n(52495),en=n(45850),ei=n(97885),eo=n(53007),es=n(43618),ea=n(63270),er=n.n(ea);let el="RecombeeLatestPosts",ed="RecombeeHybridPosts",ec=(0,ei.J)("\n  query getRecombeeLatestPosts($limit: Int, $settings: JSON) {\n    RecombeeLatestPosts(limit: $limit, settings: $settings) {\n      results {\n        post {\n          ...PostsListWithVotes\n        }\n        scenario\n        recommId\n        generatedAt\n        curated\n        stickied\n      }\n    }\n  }\n"),eu=(0,ei.J)("\n  query getRecombeeHybridPosts($limit: Int, $settings: JSON) {\n    RecombeeHybridPosts(limit: $limit, settings: $settings) {\n      results {\n        post {\n          ...PostsListWithVotes\n        }\n        scenario\n        recommId\n        generatedAt\n        curated\n        stickied\n      }\n    }\n  }\n"),em=e=>{var t,n,a,l,d,c;let{algorithm:m,settings:p,limit:g=15}=e,[h,x]=(0,o.useState)(1),f=(0,w.iZ)(),v={...p,scenario:m},b="recombee-hybrid"===m?ed:el,{data:y,loading:j,fetchMore:k,networkStatus:S}=(0,J.IT)("recombee-hybrid"===m?eu:ec,{variables:{limit:g,settings:v}}),C=y?"RecombeeLatestPosts"in y?null==(t=y.RecombeeLatestPosts)?void 0:t.results:null==(n=y.RecombeeHybridPosts)?void 0:n.results:void 0,A=C?er()(C,e=>e.post._id):C,T=null!=(l=null==f||null==(a=f.hiddenPostsMetadata)?void 0:a.map(e=>e.postId))?l:[],I=null==A?void 0:A.filter(e=>{let{post:t}=e;return!T.includes(t._id)}),N=null!=(d=null==I?void 0:I.map(e=>{let{post:t}=e;return t._id}))?d:[],L=null!=(c=null==I?void 0:I.map((e,t)=>{let{post:n,scenario:i,curated:o,stickied:s,generatedAt:a}=e,l=i;l||(l=n._id===r.trv.get()&&0===t?"welcome-post":o?"curated":s?"stickied":"hacker-news");let d={postId:n._id,scenario:l};return a?{...d,generatedAt:new Date(a).toISOString()}:d}))?c:[];return((0,s.jE)({eventType:"postList",eventProps:{postIds:N,postIdsWithScenario:L,algorithm:m},captureOnMount:e=>e.postIds.length>0,skip:!N.length||j}),j&&!I)?(0,i.jsx)(en.A,{placeholderCount:g,loadMore:!0}):I?(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:I.map(e=>{let{post:t,recommId:n,curated:o,stickied:s}=e;return(0,i.jsx)(R.zd.Provider,{value:!!n,children:(0,i.jsx)(ee.A,{post:t,recombeeRecommId:null!=n?n:void 0,curatedIconLeft:null!=o?o:void 0,emphasizeIfNew:!0,terms:s?eo._K:void 0})},t._id)})}),(0,i.jsx)(et.A,{children:(0,i.jsx)(X.A,{loading:j||S===Y.p.fetchMore,loadMore:()=>{let e=((e,t,n)=>{let i=(0,K.BN)(Z()(t.filter(e=>{let{generatedAt:t}=e;return t&&!(e=>{let t=u()().subtract(174e4,"ms");return u()(e).isAfter(t)})(new Date(t))}).map(e=>{let{recommId:t}=e;return t}))),o=t.filter(e=>{let{recommId:t}=e;return t&&i.includes(t)}),s=t.filter(e=>{let{recommId:t}=e;return t&&!i.includes(t)}),a=o.map(e=>{let{post:{_id:t}}=e;return t}),[r,l]=(0,K.BN)(Z()(s.map(e=>{let{recommId:t}=e;return t})));switch(e){case el:if(o.length&&!s.length)return{excludedPostIds:a};if(!o.length&&s.length)return{loadMore:{prevRecommId:r}};return{excludedPostIds:a,loadMore:{prevRecommId:r}};case ed:if(o.length&&!s.length)return{excludedPostIds:a,loadMore:{prevRecommIds:[void 0,void 0],loadMoreCount:n}};if(!o.length&&s.length)return{loadMore:{prevRecommIds:[r,l],loadMoreCount:n}};return{excludedPostIds:a,loadMore:{prevRecommIds:[r,l],loadMoreCount:n}}}})(b,I,h);k({variables:{settings:{...v,...e}},updateQuery:(e,t)=>{let{fetchMoreResult:n}=t;return(x(h+1),n)?{[b]:{__typename:n[b].__typename,results:[...e[b].results,...n[b].results]}}:e}})},sectionFooterStyles:!0})})]}):null},ep=(0,g.N)("RecombeePostsList",e=>{let{algorithm:t,settings:n,limit:o=15}=e;return(0,i.jsx)(es.S,{name:"RecombeePostsList",fallback:(0,i.jsx)(en.A,{placeholderCount:o,loadMore:!0}),children:(0,i.jsx)(em,{algorithm:t,settings:n,limit:o})})},{areEqual:{settings:"deep"}});var eg=n(16306),eh=n(61055),ex=n(19957),ef=n(84300),ev=n(55643),eb=n(89062),ey=n(63591);let ej=(0,g.N)("RecombeePostsListSettings",e=>{var t;let{settings:n,updateSettings:s,classes:a}=e,[r,l]=(0,o.useState)(null!=(t=n.userId)?t:null),[d,c]=(0,o.useState)(n.booster),[u,m]=(0,o.useState)(n.rotationRate),[p,g]=(0,o.useState)(n.rotationTime),h=(e,t,i)=>{let{refreshKey:o,...a}=n,l={userId:null!=r?r:void 0,booster:d,rotationRate:u,rotationTime:p,...i};(t||!G()(a,l))&&s({...l,...{refreshKey:t?(0,ev.zE)():o}})};return(0,o.useEffect)(()=>{var e;l(null!=(e=n.userId)?e:null),c(n.booster),m(n.rotationRate),g(n.rotationTime)},[n]),(0,i.jsxs)("div",{className:a.adminOverrides,children:[(0,i.jsxs)("div",{className:a.adminOverridesRow,children:[(0,i.jsx)("div",{className:a.userOverride,children:(0,i.jsx)(eb.A,{value:r,setValue:e=>{h(void 0,void 0,{userId:null!=e?e:void 0})},label:"Override with user"})}),(0,i.jsxs)("div",{className:a.adminOverrideItem,children:[(0,i.jsx)(ey.default,{title:"You may penalize an item for being recommended in the near past. For the specific user, rotationRate=1 means maximal rotation, rotationRate=0 means absolutely no rotation. You may also use, for example, rotationRate=0.2 for only slight rotation of recommended items.",children:(0,i.jsx)("label",{children:"Rotation Rate:"})}),(0,i.jsx)(eh.A,{type:"number",id:"rotationRate",value:u,onChange:e=>{let t=parseFloat(e.target.value);isNaN(t)&&(t=0),m(t)},onBlur:h})]}),(0,i.jsxs)("div",{className:a.adminOverrideItem,children:[(0,i.jsx)(ey.default,{title:"Taking Rotation Rate into account, specifies how long it takes for an item to recover from the penalization. For example, rotationTime=2 means that items recommended less than 2 hours ago are penalized.",children:(0,i.jsx)("label",{children:"Rotation Time(hours):"})}),(0,i.jsx)(eh.A,{type:"number",id:"rotationTime",value:p,onChange:e=>{let t=parseFloat(e.target.value);isNaN(t)&&(t=0),g(t)},onBlur:h})]}),(0,i.jsx)(ef.A,{className:a.refreshButton,onClick:()=>h(void 0,!0),children:"Refresh"})]}),(0,i.jsx)("div",{className:a.adminOverridesRow,children:(0,i.jsxs)("div",{className:a.adminOverrideItem,children:[(0,i.jsx)(ey.default,{title:'Number-returning “ReQL” expression, which allows you to boost the recommendation rate of some items based on the values of their attributes. e.g. "if ‘curated’ then 1.5 else 1"',children:(0,i.jsx)("label",{children:"Booster ReQL:"})}),(0,i.jsx)(ex.A,{id:"booster",value:d,onChange:e=>{c(e.target.value)},onBlur:h,className:a.boosterOverride,multiline:!0})]})})]})},{styles:e=>({adminOverrides:{display:"flex",flexDirection:"column"},adminOverridesRow:{display:"flex",flexDirection:"row",alignItems:"end"},adminOverrideItem:{padding:8,width:180},userOverride:{padding:8,width:280},boosterOverride:{width:600},refreshButton:{alignSelf:"center",background:e.palette.greyAlpha(.1)}})});var ek=n(2094),ew=n(78883),eS=n(11166);let eC=(0,ei.J)("\n  query WelcomePostItem($documentId: String) {\n    post(input: { selector: { documentId: $documentId } }) {\n      result {\n        ...PostsListWithVotes\n      }\n    }\n  }\n"),eA=(0,g.N)("WelcomePostItem",e=>{var t;let{repeatedPostsPrecedence:n}=e,o=(0,w.iZ)(),s=(0,I.Av)(),a=r.trv.get(),{data:l}=(0,J.IT)(eC,{variables:{documentId:a}}),d=null==l||null==(t=l.post)?void 0:t.result,{postsRead:c}=(0,eS.O6)(),m=d&&!!(d._id in c?c[d._id]:d.isRead);if(!d)return null;let p=o?u()(s).diff(u()(o.createdAt),"hours")/24:0;return m||p>90?null:(0,i.jsx)(L.E,{precedence:n,postId:d._id,children:(0,i.jsx)(ee.A,{post:d})})},{});var eT=n(40329),eI=n(92328),eN=n(75758),eR=n(49831);let eL=(0,eT.Il)("SubscribedHideReadCheckbox",e=>({container:{display:"flex",alignItems:"center",color:e.palette.grey[600],transition:"opacity 0.3s ease, visibility 0.3s ease"},containerHidden:{opacity:0,visibility:"hidden",pointerEvents:"none"},checkboxInput:{padding:4,color:e.palette.grey[500]},checkboxLabel:{cursor:"pointer",fontSize:"1.15rem",fontFamily:e.typography.fontFamily,textWrap:"nowrap"}})),eF=e=>{let{checked:t,onChange:n,visible:o=!0,disabled:s=!1,label:a="Hide Read",className:r}=e,l=(0,eT.IS)(eL);return(0,i.jsxs)("div",{className:B()(l.container,!o&&l.containerHidden,r),children:[(0,i.jsx)(eR.A,{className:l.checkboxInput,checked:t,onChange:e=>n(e.target.checked),disabled:s||!o}),(0,i.jsx)("span",{className:l.checkboxLabel,children:a})]})};var eB=n(24105),eP=n(33060),eD=n(52444),e_=n(70760);let eE=e=>{let{children:t,incognitoMode:n,feedType:o,openInNewTab:a}=e;return(0,i.jsx)(s.Ig,{ultraFeedType:o,children:(0,i.jsx)(eP.E_,{incognitoMode:n,children:(0,i.jsx)(eD.F,{feedType:o,openInNewTab:a,children:(0,i.jsx)(e_.F,{children:t})})})})};var eM=n(53181),eW=n(11264);let eO=(0,eT.Il)("LWHomePost",e=>({title:{...(0,N.Jh)(e),display:"inline",marginRight:"auto"},toggleFilters:{[e.breakpoints.up("sm")]:{display:"none"}},hide:{display:"none"},hideOnMobile:{[e.breakpoints.down("sm")]:{display:"none"}},hideOnDesktop:{[e.breakpoints.up("md")]:{display:"none"}},titleWrapper:{marginBottom:8},settingsVisibilityControls:{display:"flex",marginBottom:"8px",justifyContent:"space-between",alignItems:"center"},tabPicker:{minWidth:0,marginRight:10},tagFilterSettingsButtonContainerDesktop:{[e.breakpoints.up("md")]:{alignSelf:"end",opacity:.8,display:"flex",border:e.palette.greyBorder("1px",.07),borderRadius:3,background:e.palette.panelBackground.bannerAdTranslucent,padding:"5.5px"}},tagFilterSettingsButtonContainerMobile:{[e.breakpoints.down("sm")]:{alignSelf:"end",opacity:.8},[e.breakpoints.up("md")]:{display:"none"}},tagFilterSettingsButtonContainerMobileBackground:{[e.breakpoints.down("sm")]:{display:"flex",border:e.palette.greyBorder("1px",.07),borderRadius:3,background:e.palette.panelBackground.default,padding:"5.5px",[e.breakpoints.down("xs")]:{padding:"4.5px"}},[e.breakpoints.up("md")]:{display:"none"}},ultraFeedSettingsContainer:{marginTop:16},ultraFeedFollowingSettingsContainer:{marginTop:16},hideDesktopSettingsButtonOnMobile:{[e.breakpoints.down("sm")]:{display:"none"}},subscribedAnnouncementPost:{marginBottom:32},suggestedUsersHideLabel:{...e.typography.commentStyle,padding:4,fontSize:"1rem",color:"unset",opacity:.7,"&:hover":{opacity:.5}},checkboxContainer:{display:"flex",alignItems:"center",color:e.palette.grey[600]},checkboxInput:{padding:4,color:e.palette.grey[500]},checkboxLabel:{cursor:"pointer",fontSize:"1.15rem",fontFamily:e.typography.fontFamily,textWrap:"nowrap"},enrichedTagFilterNotice:{...e.typography.commentStyle,color:e.palette.text.slightlyDim2,marginBottom:10,marginTop:10,marginLeft:3},ultraFeedFollowingHeader:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginTop:-8}})),ez="Advanced Sorting/Filtering";function eH(e,t,n){let i=(0,P.H)(),[s,a]=(0,o.useState)("mobile"!==t&&!!e&&(null==e?void 0:e.hideFrontpageFilterSettingsDesktop)===!1),r=(0,o.useCallback)(e=>{a(e),"ultrafeed"!==n&&i({hideFrontpageFilterSettingsDesktop:!e})},[n,i]);return{["".concat(t,"SettingsVisible")]:s,["toggle".concat((0,p.ZH)(t),"SettingsVisible")]:r}}function eq(e,t,n){var i,o,s,a;let r=null!=(s=null!=n?n:null==(i=t.find(e=>e.defaultTab))?void 0:i.name)?s:"forum-classic";return null!=(a=null==(o=t.find(t=>t.name===e))?void 0:o.name)?a:r}function eG(e,t){let n,i=(0,P.H)(),[a,r]=(0,l.j)([d.iJ]),{captureEvent:c}=(0,s.z1)(),u=a[d.iJ],m=H.S$?!!a[d.g8]:!!window.isReturningVisitor;n=e?eq(e.frontpageSelectedTab,t,eq(u,t)):m?eq(u,t):"forum-classic";let[p,g]=(0,o.useState)(n);return[p,e=>{c("postFeedSwitched",{previousTab:p,newTab:e}),g(e),r(d.iJ,e,{path:"/"}),i({frontpageSelectedTab:e})}]}let eV={rotationRate:.2,rotationTime:720},eU=e=>{let{selectedTab:t,changeShowTagFilterSettingsDesktop:n,toggleMobileSettingsVisible:o,desktopSettingsVisible:a,mobileSettingsVisible:r,mobileSettingsButtonLabel:l,filterSettings:d,styleDesktopButton:c=!0,labelOverride:u,labelClassName:m}=e,p=(0,eT.IS)(eO),g=(0,w.iZ)(),{captureEvent:h}=(0,s.z1)(),x=u?{showIcon:!1,label:u(a)}:{showIcon:!!g},f=u?{showIcon:!1,label:u(r)}:{showIcon:!!g,label:g?void 0:l};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:B()(p.hideDesktopSettingsButtonOnMobile,{[p.tagFilterSettingsButtonContainerDesktop]:c}),children:(0,i.jsx)(V.A,{...x,labelClassName:m,onClick:n})}),o&&(0,i.jsx)("div",{className:B()(p.tagFilterSettingsButtonContainerMobile,{[p.tagFilterSettingsButtonContainerMobileBackground]:!!g}),children:(0,i.jsx)(V.A,{...f,onClick:()=>{o(!r),h("filterSettingsClicked",{settingsVisible:!r,settings:d,pageSectionContext:"latestPosts",mobile:!0})}})})]})};function e$(){let{continueReading:e}=(0,D.r)();return(0,i.jsx)(ew.A,{continueReading:e,limit:6,shuffle:!0})}let eY=(0,g.N)("LWHomePosts",e=>{var t,n,a;let{children:c}=e,u=(0,eT.IS)(eO),{captureEvent:m}=(0,s.z1)(),p=(0,w.iZ)(),{query:g}=(0,C.zy)(),h=(0,I.Av)(),x=(e=>!e||e.hasContinueReading)(p),v=r.uyB.get(),y=v.filter(e=>(function(e,t,n,i){var o;if(e.disabled)return!1;let s=!!t,a=(0,_.X1)(t)||"true"===n.experimentalTabs,r=!e.adminOnly||a,l=!!e.showToLoggedOut,d=("ultrafeed"===e.name||"following"===e.name)&&!s,c=null!=(o=null==t?void 0:t.hasAnyBookmarks)&&o,u="forum-bookmarks"===e.name&&!c,m="forum-continue-reading"===e.name&&!i;return(s&&r||l)&&!d&&!u&&!m})(e,p,g,null!=x&&x)),[j,k]=eG(p,y),N=v.find(e=>e.name===j),{filterSettings:F,suggestedTagsQueryRef:P,setPersonalBlogFilter:D,setTagFilter:E,removeTagFilter:M}=(0,A.jW)(),{desktopSettingsVisible:W,toggleDesktopSettingsVisible:O}=eH(p,"desktop",j),{mobileSettingsVisible:H,toggleMobileSettingsVisible:q}=eH(p,"mobile",j),{scenarioConfig:V,updateScenarioConfig:Y}=function(e,t,n){var i,s;let[a,r]=(0,l.j)([d.cF]),c=null!=(i=a[d.cF])?i:[],[u,m]=null!=(s=c[0])?s:[],p={...null!=m?m:eV,filterSettings:n},[g,h]=(0,o.useState)(p),[x]=eG(e,t);return(0,o.useEffect)(()=>{0===c.length&&r(d.cF,JSON.stringify([[x,eV]]),{path:"/"})},[]),(0,o.useEffect)(()=>{G()(g.filterSettings,n)||h({...g,filterSettings:n})},[n]),{scenarioConfig:g,updateScenarioConfig:e=>{let t=[...c];t[0][1]=e,r(d.cF,JSON.stringify(t),{path:"/"}),h(e)}}}(p,y,F),{settings:J,updateSettings:Q,resetSettings:Z,truncationMaps:K}=(0,eN.V)(),X="forum-classic"===j||"ultrafeed"===j||"following"===j||"recombee-hybrid"===j||(0,_.X1)(p)&&j.includes("recombee"),ee=(0,i.jsx)(eU,{selectedTab:j,changeShowTagFilterSettingsDesktop:()=>{O(!W),m("filterSettingsClicked",{settings:F,filterSettingsVisible:W,pageSectionContext:"HomePosts"})},desktopSettingsVisible:W,mobileSettingsVisible:H,mobileSettingsButtonLabel:H?"Hide":"Customize",filterSettings:F,toggleMobileSettingsVisible:q}),et=W||H,ei=B()({[u.hideOnDesktop]:!W,[u.hideOnMobile]:!H}),eo=null==p?void 0:p.frontpageFilterSettings,ea=(0,i.jsx)(s.Ig,{pageSectionContext:"tagFilterSettings",children:et&&(0,i.jsxs)("div",{className:ei,children:[(0,i.jsx)($.A,{filterSettings:F,suggestedTagsQueryRef:P,setPersonalBlogFilter:D,setTagFilter:E,removeTagFilter:M,flexWrapEndGrow:!1}),"recombee-hybrid"===j&&void 0!==eo&&(0,i.jsx)("div",{className:u.enrichedTagFilterNotice,children:'In the Enriched tab, filters apply only to "Latest" posts, not "Recommended" posts.'})]})}),er=(0,i.jsx)(i.Fragment,{children:et&&(0,i.jsx)("div",{className:ei,children:(0,_.X1)(p)&&(0,i.jsx)(ej,{settings:V,updateSettings:Y})})}),el=(0,i.jsx)(i.Fragment,{children:et&&(0,i.jsx)("div",{className:B()(ei,u.ultraFeedSettingsContainer),children:(0,i.jsx)(eM.A,{settings:J,updateSettings:Q,resetSettingsToDefault:Z,onClose:()=>O(!1),truncationMaps:K})})}),ed=(0,i.jsx)(i.Fragment,{children:et&&(0,i.jsx)("div",{className:B()(ei,u.ultraFeedFollowingSettingsContainer),children:(0,i.jsx)(eW.A,{settings:J,updateSettings:Q,onClose:()=>O(!1)})})}),ec=null;"forum-classic"===j||"recombee-hybrid"===j?ec=ea:"ultrafeed"===j?ec=el:"following"===j?ec=ed:j.includes("recombee")&&(ec=er);let eu={filterSettings:F,after:(0,T.A)(h).subtract(24*r._Ob.get(),"hours").startOf("hour").toISOString(),view:"magic",forum:!0,limit:13};return(0,i.jsx)(f.A,{eventProps:{inViewType:"postsFeed"},observerProps:{threshold:[0,.5,1]},children:(0,i.jsx)(s.Ig,{pageSectionContext:"postsFeed",children:(0,i.jsxs)(b.A,{children:[(0,i.jsxs)("div",{className:u.settingsVisibilityControls,children:[(0,i.jsx)("div",{className:u.tabPicker,children:(0,i.jsx)(z,{sortedTabs:y,defaultTab:j,onTabSelectionUpdate:k,showDescriptionOnHover:!0})}),X&&ee]}),ec,(0,i.jsx)(es.S,{name:"LWHomePostsInner",children:(0,i.jsxs)(R.Fm.Provider,{value:!0,children:["forum-classic"===j&&(0,i.jsx)(s.Ig,{feedType:j,children:(0,i.jsx)(es.S,{name:"LWHomePosts-forum-classic",fallback:(0,i.jsx)(en.A,{placeholderCount:15,loadMore:!0}),children:(0,i.jsxs)(L.p,{children:[(0,i.jsx)(eA,{repeatedPostsPrecedence:1}),(0,i.jsx)(eg.A,{overrideLimit:2,repeatedPostsPrecedence:2}),(0,i.jsx)(U.A,{terms:eu,alwaysShowLoadMore:!0,hideHiddenFrontPagePosts:!0,repeatedPostsPrecedence:3,children:(0,i.jsx)(S.Link,{to:"/allPosts",children:ez})})]})})}),"recombee-hybrid"===j&&(0,i.jsx)(s.Ig,{feedType:j,children:(0,i.jsx)(ep,{algorithm:"recombee-hybrid",settings:{...V,hybridScenarios:{fixed:"forum-classic",configurable:"recombee-lesswrong-custom"}}})}),"recombee-lesswrong-custom"===j&&(0,i.jsx)(s.Ig,{feedType:j,children:(0,i.jsx)(ep,{algorithm:"recombee-lesswrong-custom",settings:V})}),"forum-bookmarks"===j&&(0,i.jsx)(s.Ig,{feedType:j,children:(0,i.jsx)(ek.A,{showMessageIfEmpty:!0,limit:13})}),"forum-continue-reading"===j&&x&&(0,i.jsx)(s.Ig,{feedType:j,children:(0,i.jsx)(e$,{})}),"ultrafeed"===j&&(0,i.jsx)(eE,{feedType:"ultraFeed",incognitoMode:J.resolverSettings.incognitoMode,children:(0,i.jsx)(eB.A,{settings:J,fetchPolicy:"cache-first",firstPageSize:15,pageSize:30})}),"following"===j&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:u.ultraFeedFollowingHeader,children:(0,i.jsx)(eF,{checked:null!=(a=null==J||null==(n=J.resolverSettings)||null==(t=n.subscriptionsFeedSettings)?void 0:t.hideRead)&&a,onChange:e=>Q({resolverSettings:{...J.resolverSettings,subscriptionsFeedSettings:{...J.resolverSettings.subscriptionsFeedSettings,hideRead:e}}})})}),(0,i.jsx)(eE,{feedType:"following",incognitoMode:J.resolverSettings.incognitoMode,children:(0,i.jsx)(eI.A,{embedded:!0,settings:J,showHideReadToggle:!1})})]}),"forum-chronological"===j&&(0,i.jsx)(s.Ig,{feedType:j,children:(0,i.jsx)(U.A,{terms:{...eu,view:"new"},alwaysShowLoadMore:!0,hideHiddenFrontPagePosts:!0,children:(0,i.jsx)(S.Link,{to:"/allPosts",children:ez})})})]})}),!N.isInfiniteScroll&&(0,i.jsx)(i.Fragment,{children:c})]})})})},{areEqual:"auto"});var eJ=n(21084),eQ=n(64656),eZ=n(41831);let eK=(0,n(67909).default)(()=>Promise.resolve().then(n.bind(n,98912)),{loadableGenerated:{webpack:()=>[98912]},ssr:!1});(0,eT.Il)("LWHome",e=>({hideOnDesktop:{"@media(min-width: 1200px)":{display:"none"}}}));let eX=()=>{let[e,t]=(0,l.j)([d.g8]);return(0,o.useEffect)(()=>{(0,m.x1)(null)&&t(d.g8,new Date().toISOString(),{path:"/",expires:u()().add(1,"year").toDate()})},[t]),(0,i.jsx)(i.Fragment,{})},e0=(0,g.N)("LWHome",()=>{let e=(0,h.H)(x.oO),[t]=(0,l.j)([d.fW]),n=t[d.fW],c=r.oax.get()&&("true"===n||"true"!==n&&"false"!==n&&"ultraFeed"===e);return(0,i.jsx)(s.Ig,{pageContext:"homePage",children:(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)(eQ.Y,{generate:()=>({"@context":"http://schema.org","@type":"WebSite",url:"".concat((0,p.R_)()),potentialAction:{"@type":"SearchAction",target:"".concat((0,p.yK)((0,p.R_)(),"/search"),"?query={search_term_string}"),"query-input":"required name=search_term_string"},mainEntityOfPage:{"@type":"WebPage","@id":"".concat((0,p.R_)())},...(0,r.E9m)()&&{description:"LessWrong is an online forum and community dedicated to improving human reasoning and decision-making. We seek to hold true beliefs and to be effective at accomplishing our goals. Each day, we aim to be less wrong about the world than the day before."},...(0,r.WVt)()&&{description:"The Alignment Forum is a single online hub for researchers to discuss all ideas related to ensuring that transformatively powerful AIs are aligned with human values. Discussion ranges from technical models of agency to the strategic landscape, and everything in between."}})}),(0,i.jsx)(eX,{}),(0,a.ru)()&&(0,i.jsx)(i.Fragment,{children:"RESULTS"!==(0,a.IY)()&&(0,i.jsx)(b.A,{children:(0,i.jsx)(es.S,{name:"FrontpageReviewWidget",children:(0,i.jsx)(v.Ay,{reviewYear:a.PI})})})}),(!(0,a.ru)()||"RESULTS"===(0,a.IY)()||!r.S1I.get())&&!r.fsP.get()&&(0,i.jsx)(b.A,{children:(0,i.jsx)(j.Ay,{loadingStyle:"placeholder"})}),(0,i.jsx)(es.S,{name:"LWHomePosts",fallback:(0,i.jsx)("div",{style:{height:800}}),children:(0,i.jsxs)(eY,{children:[(0,i.jsx)(k.A,{}),(0,i.jsx)(es.S,{name:"EAPopularCommentsSection",children:(0,i.jsx)(y.A,{})}),(0,i.jsx)(f.A,{eventProps:{inViewType:"feedSection"},observerProps:{threshold:[0,.5,1]},children:(0,i.jsxs)(es.S,{name:"UltraFeed",children:[c&&(0,i.jsx)(eJ.A,{}),!c&&(0,i.jsx)(eZ.A,{ssr:!1,children:(0,i.jsx)(eK,{af:!1,commentsLimit:4,maxAgeHours:18})})]})})]})})]})})},{areEqual:"auto"})},63861:(e,t,n)=>{"use strict";n.d(t,{A:()=>j});var i=n(95155),o=n(12115),s=n(88262),a=n(82325),r=n(12988),l=n(80693),d=n(43626),c=n(93664),u=n(90252),m=n(26206),p=n(96973),g=n(25583),h=n(52500),x=n(24982),f=n(79816),v=n(97885),b=n(36944);let y=(0,v.J)("\n  query multiPostRecentDiscussionThreadsListQuery($selector: PostSelector, $limit: Int, $enableTotal: Boolean, $commentsLimit: Int, $maxAgeHours: Int, $af: Boolean) {\n    posts(selector: $selector, limit: $limit, enableTotal: $enableTotal) {\n      results {\n        ...PostsRecentDiscussion\n      }\n      totalCount\n    }\n  }\n"),j=(0,s.N)("RecentDiscussionThreadsList",e=>{var t;let{terms:n,commentsLimit:s,maxAgeHours:v,af:j,title:k="Recent Discussion",shortformButton:w=!0}=e,[S,C]=(0,o.useState)(!1),[A,T]=(0,o.useState)(!1),I=(0,a.iZ)(),{view:N,limit:R,...L}=n,{data:F,loading:B,refetch:P,networkStatus:D,loadMoreProps:_}=(0,f.f)(y,{variables:{selector:{[N]:L},limit:null!=R?R:10,enableTotal:!1,commentsLimit:s,maxAgeHours:v,af:j},fetchPolicy:"cache-and-network"}),E=null==F||null==(t=F.posts)?void 0:t.results,{loadMore:M}=_,W=D===x.p.fetchMore;(0,l.u)(e=>{(e.metaKey||e.ctrlKey)&&70===e.keyCode&&C(!0)});let O=(0,o.useCallback)(()=>{T(!A)},[T,A]);if(!B&&E&&!E.length)return null;let z=(null==I?void 0:I.noCollapseCommentsFrontpage)||S;return(0,i.jsxs)(c.A,{children:[(0,i.jsx)(u.Ay,{title:k,children:(null==I?void 0:I.isReviewed)&&w&&!I.allCommentingDisabled&&(0,i.jsx)("div",{onClick:O,children:(0,i.jsxs)(m.A,{children:[(0,i.jsx)(r.A,{}),"New quick take"]})})}),(0,i.jsxs)("div",{children:[E&&(0,i.jsx)("div",{children:E.map((e,t)=>{var n;return(0,i.jsx)(b.Ig,{pageSubSectionContext:"recentDiscussionThread",feedCardIndex:t,children:(0,i.jsx)(d.A,{post:e,refetch:P,comments:null!=(n=e.recentComments)?n:void 0,expandAllThreads:z})},e._id)})}),(0,i.jsxs)(g.A,{eventProps:{inViewType:"loadMoreButton"},children:[M&&(0,i.jsx)(h.A,{loadMore:M}),(B||W)&&(0,i.jsx)(p.default,{})]})]})]})},{areEqual:{terms:"deep"}})},64656:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r});var i=n(95155);n(12115);var o=n(51537),s=n(41831);let a=e=>{let{generate:t}=e;return(0,i.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:(0,o.F)(t())}})},r=e=>{let{generate:t}=e;return(0,i.jsx)(s.A,{ssr:!1,children:(0,i.jsx)(a,{generate:t})})}},67385:(e,t,n)=>{"use strict";n.d(t,{A:()=>H});var i=n(95155),o=n(12115),s=n(88262),a=n(1149),r=n(32835),l=n(52370),d=n(77590),c=n(36944),u=n(52500),m=n(27360),p=n(66121),g=n(28203),h=n(77614),x=n(81143),f=n(11166),v=n(40702),b=n(22299),y=n.n(b),j=n(21001),k=n.n(j),w=n(37715),S=n(79675),C=n(63591),A=n(15365),T=n(908);let I=e=>{let{comment:t,post:n,classes:o}=e,{isRead:s}=(0,f.CX)(n);return(0,i.jsxs)("div",{className:o.row,children:[(0,i.jsx)(v.s,{className:o.postWrapper,children:(0,i.jsx)(w.A,{postId:n._id,children:(0,i.jsx)(p.Link,{to:(0,g.lz)(n),className:y()(o.post,{[o.postRead]:s}),eventProps:{intent:"expandPost"},children:n.title})})}),(0,i.jsx)(v.s,{children:(0,i.jsx)(p.Link,{to:(0,h.gi)(t),className:o.link,eventProps:{intent:"viewInThread"},children:"View in thread"})})]})},N=(0,s.N)("FriendlyPopularComment",e=>{var t,n,s,a;let{comment:r,classes:l}=e,{captureEvent:d}=(0,c.z1)(),[u,p]=(0,o.useState)(!1),g=(0,o.useCallback)(()=>{p(!u),d("popularCommentToggleExpanded",{expanded:!u})},[u,d]),{onClick:h}=(0,v.a)({onClick:g,ignoreLinks:!0});return(0,i.jsx)(c.Ig,{pageElementContext:"popularComment",commentId:r._id,postId:null==(t=r.post)?void 0:t._id,children:(0,i.jsxs)("div",{onClick:h,className:l.root,children:[r.post&&(0,i.jsx)(I,{post:r.post,comment:r,classes:l}),(0,i.jsxs)(v.s,{className:y()(l.row,l.wrap),children:[(0,i.jsx)(S.A,{user:r.user,className:l.username}),(0,i.jsx)("div",{className:l.date,children:(0,i.jsx)(C.default,{placement:"right",title:(0,i.jsx)(m.s,{date:r.postedAt}),children:k()(new Date(r.postedAt)).fromNow()})}),!r.debateResponse&&!r.rejected&&(0,i.jsx)(A.A,{document:r,collectionName:"Comments",hideKarma:null==(n=r.post)?void 0:n.hideCommentKarma})]}),u?(0,i.jsx)(T.A,{comment:r,className:l.body}):(0,i.jsx)("div",{className:y()(l.body,l.bodyCollapsed),children:(0,x.r)(null!=(a=null==(s=r.contents)?void 0:s.html)?a:void 0)})]})})},{styles:e=>({root:{display:"flex",flexDirection:"column",gap:"10px",color:e.palette.greyAlpha(.5),background:e.palette.grey[0],borderRadius:e.borderRadius.default,border:"1px solid ".concat(e.palette.grey[200]),padding:"8px 12px",cursor:"pointer"},row:{display:"flex",alignItems:"center"},wrap:{flexWrap:"wrap",rowGap:"6px"},postWrapper:{overflow:"hidden",textOverflow:"ellipsis",marginRight:8},post:{color:e.palette.grey[1e3],fontWeight:600,whiteSpace:"nowrap"},postRead:{color:e.palette.grey[600]},link:{color:e.palette.primary.main,fontWeight:600,whiteSpace:"nowrap","&:hover":{opacity:1,color:e.palette.primary.light}},username:{fontWeight:600,whiteSpace:"nowrap",color:e.palette.grey[1e3],marginRight:10},date:{color:e.palette.grey[600],marginRight:6},body:{lineHeight:"160%",letterSpacing:"-0.14px",color:e.palette.grey[1e3]},bodyCollapsed:{position:"relative",overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":2}})});var R=n(46107),L=n(53018),F=n(29576),B=n(48601),P=n(69004),D=n(35777),_=n(99851);let E=e=>{let{post:t,classes:n}=e,{isRead:o}=(0,f.CX)(t);return(0,i.jsx)("div",{className:n.postTitle,children:(0,i.jsx)(w.A,{postId:t._id,children:(0,i.jsx)(p.Link,{to:(0,g.lz)(t),className:y()(n.post,{[n.postRead]:o}),eventProps:{intent:"expandPost"},children:t.title})})})},M=(0,s.N)("LWPopularComment",e=>{var t,n,s,a;let{comment:r,classes:l}=e,{captureEvent:d}=(0,c.z1)(),[u,m]=(0,o.useState)(!1),g=(0,o.useCallback)(()=>{m(!u),d("popularCommentToggleExpanded",{expanded:!u})},[u,d]),f=(0,o.useCallback)(e=>{u||g()},[u,g]),{parentCommentLink:v,parentCommentTooltip:b}=(e=>{var t,n;let{comment:o,classes:s}=e,{eventHandlers:a,hover:r,anchorEl:l}=(0,L.M)({eventProps:{pageElementContext:"popularCommentParentTooltip",commentId:o._id}});if(!o.parentCommentId)return{};let d=r&&!(0,F.F)(),c=(0,i.jsx)(P.default,{open:d,anchorEl:l,placement:"bottom-start",clickable:!1,children:(0,i.jsx)("div",{className:s.hoverOver,children:(0,i.jsx)(D.w,{nestingLevel:1,commentId:o.parentCommentId,treeOptions:{post:null!=(n=o.post)?n:void 0,showCollapseButtons:!0,hideReply:!0,forceSingleLine:!1,forceNotSingleLine:!0},loadChildren:!0})})}),u=(0,h.aK)({postId:null==(t=o.post)?void 0:t._id,commentId:o.parentCommentId,permalink:!1});return{parentCommentTooltip:c,parentCommentLink:(0,i.jsx)("div",{className:s.showParentComment,...a,children:(0,i.jsx)(p.Link,{rel:"nofollow",to:u,children:(0,i.jsx)(B.A,{className:s.icon})})})}})({comment:r,classes:l}),j=(0,i.jsx)(S.A,{user:r.user,className:l.username}),k=(0,i.jsx)(_.A,{comment:r,post:r.post,preventDateFormatting:!0}),w=!r.debateResponse&&!r.rejected&&(0,i.jsx)(A.A,{document:r,collectionName:"Comments",hideKarma:null==(t=r.post)?void 0:t.hideCommentKarma}),C=r.post&&(0,i.jsx)(E,{post:r.post,classes:l}),I=(0,i.jsx)("div",{onClick:f,className:y()(l.bodyWrapper,{[l.bodyCursor]:!u}),children:u?(0,i.jsx)(T.A,{comment:r,className:l.body}):(0,i.jsx)("div",{className:y()(l.body,l.bodyCollapsed),children:(0,x.r)(null!=(a=null==(n=r.contents)?void 0:n.html)?a:void 0)})});return(0,i.jsx)(c.Ig,{pageElementContext:"popularComment",commentId:r._id,postId:null==(s=r.post)?void 0:s._id,children:(0,i.jsxs)("div",{className:l.root,children:[(0,i.jsxs)("div",{className:y()(l.row,l.wrap),children:[v,j,k,w,C]}),I,b]})})},{styles:e=>({root:{display:"flex",flexDirection:"column",color:e.palette.greyAlpha(.5),background:e.palette.panelBackground.bannerAdTranslucentMedium,backdropFilter:e.palette.filters.bannerAdBlurHeavy,borderRadius:e.borderRadius.small,border:"none",padding:"10px 14px"},row:{display:"flex",alignItems:"center",...e.typography.commentStyle},wrap:{[e.breakpoints.down("xs")]:{flexWrap:"wrap"},rowGap:"6px"},postTitle:{flexGrow:1,display:"inline-block",[e.breakpoints.up("sm")]:{textAlign:"right",marginLeft:8},"& a, & a:hover, & a:active":{color:e.palette.primary.main,"& u":{textDecoration:"none"}},fontSize:"15px",overflow:"hidden",textOverflow:"ellipsis",marginTop:0,marginBottom:0},post:{whiteSpace:"nowrap"},postRead:{color:e.palette.text.dim55},username:{fontWeight:600,color:e.palette.text.primary,whiteSpace:"nowrap",marginRight:10},bodyWrapper:{color:e.palette.text.bannerAdOverlay},bodyCursor:{cursor:"pointer",color:e.palette.text.bannerAdOverlay},body:{...(0,R.oP)(e),color:e.palette.text.bannerAdOverlay},bodyCollapsed:{position:"relative",overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":2,color:e.palette.text.bannerAdOverlay},hoverOver:{width:600},showParentComment:{paddingRight:e.spacing.unit,cursor:"pointer",color:e.palette.text.bannerAdOverlay},icon:{fontSize:12,transform:"rotate(90deg)"}})});var W=n(79816),O=n(97885);let z=(0,s.N)("PopularCommentsList",e=>{var t;let{classes:n}=e,{data:o,loadMoreProps:s}=(0,W.f)((0,O.J)("\n    query PopularComments($limit: Int) {\n      PopularComments(limit: $limit) {\n        results {\n          ...CommentsListWithParentMetadata\n        }\n      }\n    }\n  "),{variables:{limit:3},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",itemsPerPage:5}),a=null==o||null==(t=o.PopularComments)?void 0:t.results,r=(0,l.kL)()?N:M;return(0,i.jsx)(c.Ig,{pageSectionContext:"popularCommentsList",children:(0,i.jsxs)("div",{className:n.root,children:[null==a?void 0:a.map(e=>(0,i.jsx)(r,{comment:e},e._id)),(0,i.jsx)(u.A,{...s})]})})},{styles:e=>({root:{display:"flex",flexDirection:"column",gap:"4px",fontFamily:e.palette.fonts.sansSerifStack,fontSize:e.isFriendlyUI?14:"1.16rem",fontWeight:500,color:e.palette.grey[1e3]}})}),H=(0,s.N)("EAPopularCommentsSection",()=>{let{expanded:e,toggleExpanded:t}=(0,a.c)({section:"popularComments",defaultExpanded:"all",onExpandEvent:"popularCommentsSectionExpanded",onCollapseEvent:"popularCommentsSectionCollapsed",cookieName:r.U5});return(0,i.jsx)(d.A,{pageSectionContext:"popularCommentsSection",expanded:e,toggleExpanded:t,title:(0,l.Ok)("Popular Comments"),children:(0,i.jsx)(z,{})})})},67764:(e,t,n)=>{"use strict";n.d(t,{default:()=>A});var i=n(95155),o=n(88262);n(12115);var s=n(66121),a=n(48782),r=n(82325),l=n(78211),d=n(35521),c=n(83252),u=n(93664),m=n(90252),p=n(49360),g=n(78220),h=n(26206),x=n(63861),f=n(67385),v=n(36944),b=n(65180),y=n(97885),j=n(70391),k=n(39999);let w=(0,y.J)("\n  query RotatingReviewWinnerSpotlightDisplay($documentId: String) {\n    spotlight(input: { selector: { documentId: $documentId } }) {\n      result {\n        ...SpotlightDisplay\n      }\n    }\n  }\n"),S=(0,y.J)("\n  query RotatingReviewWinnerSpotlight {\n    GetAllReviewWinners {\n      reviewWinner {\n        _id\n        category\n      }\n      spotlight {\n        _id\n      }\n    }\n  }\n"),C=(0,o.N)("RotatingReviewWinnerSpotlight",()=>{var e,t,n,o;let{data:s}=(0,b.IT)(S),a=((e,t)=>{let n=e.filter(e=>{var n;return(null==(n=e.reviewWinner)?void 0:n.category)===t}),i=n.length,o=(0,k.Av)();if(0===i)return null;let s=new Date("2024-01-03T00:00:00Z");return n[(Math.floor((o.getTime()-s.getTime())/864e5)%i+i)%i]})([...null!=(o=null==s?void 0:s.GetAllReviewWinners)?o:[]],"ai safety"),{data:r}=(0,b.IT)(w,{variables:{documentId:null==a||null==(e=a.spotlight)?void 0:e._id},skip:!(null==a||null==(t=a.spotlight)?void 0:t._id),ssr:!0}),l=null==r||null==(n=r.spotlight)?void 0:n.result;return l?(0,i.jsx)(v.Ig,{pageSectionContext:"reviewWinnerItem",children:(0,i.jsx)(j.EB,{spotlight:l})}):null}),A=(0,o.N)("AlignmentForumHome",e=>{let{classes:t}=e,n=(0,r.iZ)();return(0,i.jsxs)("div",{className:"alignment-forum-home",children:[(0,i.jsx)(u.A,{children:(0,i.jsx)(C,{})}),(0,c.ru)()&&(0,i.jsx)(u.A,{children:(0,i.jsx)(p.Ay,{reviewYear:c.PI})}),(0,i.jsxs)(u.A,{children:[(0,i.jsx)(m.Ay,{title:"AI Alignment Posts",children:n&&(0,a.Xl)(n,"posts.alignment.new")&&(0,i.jsx)(s.Link,{to:"/newPost?af=true",children:(0,i.jsxs)(h.A,{children:[(0,i.jsx)(d.A,{}),"New Post"]})})}),(0,i.jsx)(g.A,{terms:{view:"new",limit:10,forum:!0,af:!0}})]}),(0,i.jsx)(f.A,{}),(0,i.jsx)(u.A,{children:(0,i.jsx)(x.A,{terms:{view:"afRecentDiscussionThreadsList",limit:6},maxAgeHours:168,commentsLimit:4,af:!0})})]})},{styles:e=>({frontpageSequencesGridList:{[l.c.maxSmall]:{marginTop:40}}})})},73417:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(95155),o=n(12115);let s=(0,n(59507).A)((0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,i.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"})]}),"MailOutline")},75848:(e,t,n)=>{"use strict";function i(e){if(e){if(e.id)return e.id;else if(e.message)try{let t=JSON.parse(e.message);return i(t)}catch(e){}}return null}function o(e){return i(e)||"Error"}function s(e){return e&&"app.missing_document"===e.message}function a(e){return e&&"app.operation_not_allowed"===e.message}n.d(t,{Ci:()=>s,Z4:()=>a,bn:()=>o,tL:()=>i})},77590:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var i=n(95155);n(12115);var o=n(88262),s=n(90252),a=n(36944),r=n(66121),l=n(22299),d=n.n(l),c=n(93664),u=n(63591),m=n(72561);let p=(0,o.N)("ExpandableSection",e=>{let{pageSectionContext:t,expanded:n,toggleExpanded:o,title:l,afterTitleText:p="View more",afterTitleTo:g,AfterTitleComponent:h,children:x,classes:f,...v}=e;return(0,i.jsx)(a.Ig,{pageSectionContext:t,children:(0,i.jsxs)(c.A,{children:[(0,i.jsx)(s.Ay,{...v,title:(0,i.jsxs)("div",{className:f.title,children:[l,(0,i.jsx)(u.default,{title:n?"Collapse":"Expand",hideOnTouchScreens:!0,children:(0,i.jsx)(m.A,{icon:"ThickChevronRight",onClick:o,className:d()(f.expandIcon,{[f.chevronExpanded]:n})})})]}),children:n&&(h||g)&&(0,i.jsxs)("div",{className:f.afterContainer,children:[h&&(0,i.jsx)(h,{}),g&&(0,i.jsx)(r.Link,{to:g,children:p})]})}),n&&(0,i.jsx)(i.Fragment,{children:x})]})})},{styles:e=>({title:{display:"flex",columnGap:10,...e.isBookUI&&{color:e.palette.text.bannerAdOverlay}},afterContainer:{display:"flex",alignItems:"center",gap:"14px",fontSize:14,color:e.palette.grey[600],fontWeight:600,"& a:hover":{color:e.palette.grey[1e3],opacity:1},"@media (max-width: 350px)":{display:"none"}},expandIcon:{verticalAlign:"middle",transform:"translateY(-1px)",fontSize:16,cursor:"pointer",transition:"transform 0.2s ease-in-out","&:hover":{color:e.palette.grey[800]}},chevronExpanded:{transform:"rotate(90deg)"}})})},78883:(e,t,n)=>{"use strict";n.d(t,{A:()=>x});var i=n(95155),o=n(12115),s=n(88262),a=n(88381),r=n(97885),l=n(36944),d=n(61927),c=n.n(d),u=n(99301),m=n.n(u),p=n(89739),g=n(45850),h=n(52495);let x=(0,s.N)("ContinueReadingList",e=>{let{continueReading:t,continueReadingLoading:n,limit:s=3,shuffle:d}=e,u=(()=>{let[e]=(0,a.n)((0,r.J)("\n    mutation dismissRecommendation($postId: String) {\n      dismissRecommendation(postId: $postId)\n    }\n  "));return(0,o.useCallback)(async t=>{await e({variables:{postId:t}})},[e])})(),[x,f]=(0,o.useState)({}),[v,b]=(0,o.useState)(!1),{captureEvent:y}=(0,l.z1)();if(n||!t)return(0,i.jsx)(g.A,{});let{entries:j,showAllLink:k}=(e=>{let t=e.filter(e=>!x[e.nextPost._id]),n=c()(t,e=>e.lastReadTime);if(n.reverse(),v||n.length<=s)return{entries:n,showAllLink:!1};if(!d)return{entries:n.slice(0,s),showAllLink:!0};{let e=m()(n,s);return(n=c()(e,e=>e.lastReadTime)).reverse(),{entries:n,showAllLink:!0}}})(t);return(0,i.jsx)("div",{children:(0,i.jsxs)(l.Ig,{pageSubSectionContext:"continueReadingList",capturePostItemOnMount:!0,children:[j.map(e=>{let{nextPost:t,sequence:n,collection:o}=e;return(0,i.jsx)(p.A,{post:t,sequenceId:null==n?void 0:n._id,resumeReading:e,dismissRecommendation:()=>(e=>{u(e),f({...x,[e]:!0}),y("continueReadingDismissed",{postId:e})})(t._id)},(null==n?void 0:n._id)||(null==o?void 0:o._id))}),k&&(0,i.jsx)(h.A,{children:(0,i.jsx)("a",{onClick:()=>b(!0),children:"Show All"})})]})})})},89062:(e,t,n)=>{"use strict";n.d(t,{A:()=>p,y:()=>m});var i=n(95155),o=n(12115),s=n(88262),a=n(40329),r=n(2979),l=n(25655),d=n(2756);let c=(0,a.Il)("FormUserSelect",e=>({root:{display:"flex",alignItems:"center"},item:{listStyle:"none",fontFamily:e.typography.fontFamily}})),u=e=>{let{value:t,setValue:n,label:o}=e,s=(0,a.IS)(c);return(0,i.jsxs)("div",{className:s.root,children:[(0,i.jsx)(r.A,{children:(0,i.jsx)(l.A,{clickAction:(e,t)=>n(e,t),label:o})}),t&&(0,i.jsx)("div",{className:s.item,children:(0,i.jsx)(d.A,{userId:t,removeItem:()=>n(null,null)})})]})},m=e=>{var t;let{field:n,label:s}=e,a=null!=(t=n.state.value)?t:null,r=(0,o.useCallback)(e=>{n.handleChange(e)},[n]);return(0,i.jsx)(u,{value:a,setValue:r,label:s})},p=(0,s.N)("UserSelect",u)},92508:(e,t,n)=>{"use strict";n.d(t,{A:()=>A,f:()=>C});var i=n(95155),o=n(12115),s=n(88262),a=n(82325),r=n(16604),l=n(53768),d=n(42877),c=n(75848),u=n(55643),m=n(93547),p=n(84300),g=n(61055),h=n(73417);let x=(0,n(59507).A)((0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),(0,i.jsx)("path",{d:"M9 16.17L5.53 12.7a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71c.39-.39.39-1.02 0-1.41a.9959.9959 0 0 0-1.41 0L9 16.17z"})]}),"CheckRounded");var f=n(11559),v=n(36944),b=n(70704),y=n(19957),j=n(74100),k=n(18949),w=n(96973),S=n(25583);let C="https://effectivealtruism.us8.list-manage.com/subscribe/post?u=52b028e7f799cca137ef74763&amp;id=7457c7ff3e&amp;f_id=0086c5e1f0",A=(0,s.N)("RecentDiscussionSubscribeReminder",e=>{let t,{classes:n}=e,s=(0,a.iZ)(),f=(0,r.H)(),[A,T]=(0,o.useState)(!1),[I,N]=(0,o.useState)(!0),[R,L]=(0,o.useState)(!1),[F,B]=(0,o.useState)(!1),P=(0,o.useRef)(null),[D,_]=(0,o.useState)(!1),{flash:E}=(0,d.o)(),M="(2-3 posts per week, selected by the LessWrong moderation team.)",{captureEvent:W}=(0,v.z1)({eventProps:{pageElementContext:"subscribeReminder"}}),[O,z]=(0,o.useState)(-1),H=(null==s?void 0:s.isAdmin)?(0,i.jsx)("div",{className:n.adminNotice,children:"You are seeing this UI element because you're an admin. Admins are shown a random version of the subscribe-reminder even if they're already subscribed, to make sure it still works and isn't annoying."}):null;if((0,o.useEffect)(()=>{-1===O&&(null==s?void 0:s.isAdmin)&&z((0,u.XU)((0,b.OPm)()?5:4))},[O,null==s?void 0:s.isAdmin]),(0,b.WVt)())return null;if(-1===O&&(null==s?void 0:s.isAdmin))return(0,i.jsx)("div",{});t=(0,b.E9m)()?null==s?void 0:s.emailSubscribedToCurated:null==s?void 0:s.subscribedToDigest;let q=(0,i.jsx)(p.A,{className:n.maybeLaterButton,onClick:()=>{T(!0),W("subscribeReminderButtonClicked",{buttonType:"maybeLaterButton"})},children:"Maybe Later"}),G=(0,i.jsx)("span",{children:s&&(0,i.jsx)(p.A,{className:n.dontAskAgainButton,onClick:()=>{f({hideSubscribePoke:!0}),T(!0),W("subscribeReminderButtonClicked",{buttonType:"dontAskAgainButton"})},children:"Don't Ask Again"})});if(A||(null==s?void 0:s.hideSubscribePoke))return null;let V=async()=>{_(!0);let e=(0,b.E9m)()?{emailSubscribedToCurated:!0}:{subscribedToDigest:!0};e.unsubscribeFromAll=!1,(0,l.yn)(s)||(e.whenConfirmationEmailSent=new Date);try{await f(e),B(!0)}catch(e){E((0,c.bn)(e))}_(!1)},U=e=>{let{children:t,branch:o}=e;return(0,i.jsx)(v.Ig,{pageElementContext:"subscribeReminder",branch:o,children:(0,i.jsx)(S.A,{eventProps:{inViewType:"subscribeReminder"},children:(0,i.jsx)("div",{className:n.root,children:t})})})},$=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:n.message,children:[(0,i.jsx)(h.A,{className:n.mailIcon}),"Sign up for the Forum's email digest"]}),(0,i.jsx)("div",{className:n.messageDescription,children:"You'll get a weekly email with the best posts from the past week. The Forum team selects the posts to feature based on personal preference and Forum popularity, and also adds some announcements and a classic post."})]});if(D)return(0,i.jsx)("div",{className:n.root,children:(0,i.jsx)(w.default,{})});if(F){let e;return e=(0,b.E9m)()?"You are subscribed to the best posts of LessWrong!":"You are subscribed to the ".concat(b.Ahu," Digest"),(0,i.jsx)(U,{branch:"already-subscribed",children:(0,i.jsxs)("div",{className:n.message,children:[(0,i.jsx)(x,{className:n.checkIcon}),e]})})}if(R){let e=s&&(0,l.qo)(s);return(0,i.jsx)(U,{branch:"needs-email-verification-subscribed-in-other-branch",children:(0,i.jsxs)("div",{className:n.message,children:["We sent an email to ",e,". Follow the link in the email to complete your subscription."]})})}if(s&&0!==O)if((0,l.Mw)(s)&&1!==O)if(s.unsubscribeFromAll||2===O){let e=(0,b.m8j)()?$:(0,i.jsxs)("div",{className:n.message,children:["You previously unsubscribed from all emails from LessWrong. Re-subscribe to get the best posts emailed to you! ",M]});return(0,i.jsxs)(U,{branch:"previously-unsubscribed",children:[e,(0,i.jsx)(p.A,{className:n.subscribeButton,onClick:async e=>{await V(),W("subscribeReminderButtonClicked",{buttonType:"subscribeButton"})},children:"Subscribe"}),H,(0,i.jsxs)("div",{className:n.buttons,children:[q,G]})]})}else if(t&&3!==O)if(!(0,l.yn)(s)||4===O)return(0,i.jsx)(U,{branch:"needs-email-verification",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:n.message,children:"Please verify your email address to activate your subscription to curated posts."}),(0,i.jsxs)("div",{className:n.buttons,children:[(0,i.jsx)(p.A,{className:n.subscribeButton,onClick:async e=>{_(!0);try{await f({whenConfirmationEmailSent:new Date})}catch(e){E((0,c.bn)(e))}_(!1),L(!0),W("subscribeReminderButtonClicked",{buttonType:"resendVerificationEmailButton"})},children:"Resend Verification Email"}),H,(0,i.jsxs)("div",{className:n.buttons,children:[q,G]})]})]})});else return null;else{let e=(0,b.m8j)()?$:(0,i.jsxs)("div",{className:n.message,children:["Subscribe to get the best of LessWrong emailed to you. ",M]});return(0,i.jsxs)(U,{branch:"logged-in-not-subscribed",children:[e,(0,i.jsx)(p.A,{className:n.subscribeButton,onClick:async e=>{await V(),W("subscribeReminderButtonClicked",{buttonType:"subscribeButton"})},children:"Subscribe"}),H,(0,i.jsxs)("div",{className:n.buttons,children:[q,G]})]})}else{let e=(0,b.m8j)()?"our weekly digest email":"curated posts";return(0,i.jsxs)(U,{branch:"missing-email",children:[(0,i.jsxs)("div",{className:n.message,children:["Your account does not have an email address associated. Add an email address to subscribe to ",e," and enable notifications."]}),(0,i.jsx)(g.A,{placeholder:"Email address",inputRef:P,className:n.emailInput}),(0,i.jsx)(k.A,{defaultValue:!0,onChange:e=>N(!0)}),(0,i.jsxs)("div",{className:n.buttons,children:[(0,i.jsx)(p.A,{className:n.subscribeButton,onClick:async e=>{let t=P.current;if(t&&m.A.RegEx.Email.test(null==t?void 0:t.value)){_(!0);try{let e=(0,b.m8j)()?{subscribedToDigest:I}:{emailSubscribedToCurated:I};e.email=null==t?void 0:t.value,e.unsubscribeFromAll=!1,await f(e),(0,l.yn)(s)||await f({whenConfirmationEmailSent:new Date}),B(!0)}catch(e){"users.email_already_taken"===(0,c.tL)(e)?E("That email address is already taken by a different account."):E(e.message||e.id)}_(!1)}else E("Please enter a valid email address.");W("subscribeReminderButtonClicked",{buttonType:"subscribeButton"})},children:"Submit"}),H,(0,i.jsxs)("div",{className:n.buttons,children:[q,G]})]})]})}{let e=(0,b.m8j)()?$:(0,i.jsxs)("div",{className:n.message,children:["To get the best posts emailed to you, create an account! ",M]});return(0,i.jsxs)(U,{branch:"logged-out",children:[e,(0,b.m8j)()?(0,i.jsxs)("form",{action:C,method:"post",className:n.digestForm,children:[(0,i.jsx)(y.A,{label:"Email address",name:"EMAIL",required:!0,className:n.digestFormInput}),(0,i.jsx)(p.A,{variant:"contained",type:"submit",color:"primary",className:n.digestFormSubmitBtn,children:"Sign up"})]}):(0,i.jsx)("div",{className:n.loginForm,children:(0,i.jsx)(j.A,{startingState:"signup"})}),H]})}},{styles:e=>({root:{marginBottom:4*e.spacing.unit,position:"relative",backgroundColor:e.isFriendlyUI?e.palette.grey[0]:e.palette.panelBackground.recentDiscussionThread,border:e.isFriendlyUI?"1px solid ".concat(e.palette.grey[200]):void 0,padding:16,...e.typography.body2,boxShadow:e.palette.boxShadow.default,borderRadius:e.borderRadius.default,marginLeft:"auto",marginRight:"auto",maxWidth:500},adminNotice:{textAlign:"left",marginTop:22,fontSize:12,lineHeight:1.3,fontStyle:"italic"},loginForm:{margin:"0 auto -4px",maxWidth:252},digestForm:{display:"flex",flexWrap:"wrap",alignItems:"baseline",columnGap:30,rowGap:"14px",padding:"20px 50px 20px 20px",[e.breakpoints.down("xs")]:{padding:10}},digestFormInput:{flexGrow:1},digestFormSubmitBtn:{minHeight:0,boxShadow:"none"},message:{display:"flex",alignItems:"flex-start",fontSize:18,lineHeight:1.75},messageDescription:{fontSize:12,marginTop:8},mailIcon:{color:e.palette.primary.main,marginTop:4,marginRight:12},checkIcon:{color:e.palette.icon.greenCheckmark,marginTop:4,marginRight:12},emailInput:{marginTop:18},subscribeButton:{margin:"18px auto 0",display:"block",background:e.palette.primary.main,color:e.palette.buttons.recentDiscussionSubscribeButtonText,fontSize:15},buttons:{marginTop:16,textAlign:"right"},maybeLaterButton:{},dontAskAgainButton:{}}),hocs:[f.A]})},93547:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(94514),o=n.n(i);o().extendOptions(["typescriptType"]),o().extendOptions(["needsUpdate"]),o().extendOptions(["getValue"]),o().extendOptions(["canAutoDenormalize"]),o().extendOptions(["logChanges"]),o().extendOptions(["countOfReferences"]),o().extendOptions(["editableFieldOptions"]),o().extendOptions(["slugCallbackOptions"]),o().extendOptions(["hidden","form","input","control","order","group","onCreate","onUpdate","onDelete","canRead","canCreate","canUpdate","resolveAs","description","beforeComponent","afterComponent","placeholder","options","query","unique","tooltip","canAutofillDefault","denormalized","foreignKey","nullable","vectorSize"]);let s=o()},94719:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var i=n(65180),o=n(97885);let s=()=>{var e;let t=(0,o.J)("\n    query ContinueReadingQuery {\n      ContinueReading {\n        sequence {\n          ...SequenceContinueReadingFragment\n        }\n        collection {\n          ...CollectionContinueReadingFragment\n        }\n        nextPost {\n          ...PostsListWithVotes\n        }\n        numRead\n        numTotal\n        lastReadTime\n      }\n    }\n  "),{data:n,loading:s,error:a}=(0,i.IT)(t,{ssr:!0});return{continueReading:null!=(e=null==n?void 0:n.ContinueReading)?e:[],loading:s,error:a}}},95395:(e,t,n)=>{"use strict";n.d(t,{A:()=>T});var i=n(95155);n(12115);var o=n(49831),s=n(88262),a=n(82325),r=n(1149),l=n(48782),d=n(32835),c=n(70704),u=n(52370),m=n(66121),p=n(77590),g=n(63591),h=n(45662),x=n(15401),f=n(96973),v=n(52495),b=n(52500),y=n(79816),j=n(97885),k=n(40329),w=n(43618);let S=(0,j.J)("\n  query multiCommentQuickTakesSectionQuery($selector: CommentSelector, $limit: Int, $enableTotal: Boolean) {\n    comments(selector: $selector, limit: $limit, enableTotal: $enableTotal) {\n      results {\n        ...ShortformComments\n      }\n      totalCount\n    }\n  }\n"),C=(0,k.Il)("QuickTakesSection",e=>({communityToggle:{userSelect:"none",cursor:"pointer","& .MuiIconButton-root":{height:0,padding:0,color:e.palette.grey[600],transform:"scale(0.7) translate(-2px, -1px)"},"& .MuiIconButton-root.MuiCheckbox-checked":{color:e.palette.primary.main},[e.breakpoints.down("xs")]:{display:"none"}},list:{marginTop:4,...e.isFriendlyUI?{}:{display:"flex",flexDirection:"column",gap:"4px",fontFamily:e.palette.fonts.sansSerifStack,fontSize:"1.16rem"}}})),A=e=>{var t;let{showCommunity:n}=e,o=(0,k.IS)(C),s=(0,a.iZ)(),r=c.I0O.get(),{data:d,loading:u,refetch:m,loadMoreProps:p}=(0,y.f)(S,{variables:{selector:{shortformFrontpage:{showCommunity:n,maxAgeDays:r}},limit:5,enableTotal:!0}}),g=null==d||null==(t=d.comments)?void 0:t.results,j=!p.hidden;return(0,i.jsxs)(i.Fragment,{children:[((0,l.Yl)(s)||!s)&&(0,i.jsx)(h.A,{currentUser:s,successCallback:m}),(0,i.jsxs)("div",{className:o.list,children:[null==g?void 0:g.map(e=>(0,i.jsx)(x.A,{quickTake:e},e._id)),u&&(0,i.jsx)(f.default,{}),j&&(0,i.jsx)(v.A,{children:(0,i.jsx)(b.A,{...p,sectionFooterStyles:!0})})]})]})},T=(0,s.N)("QuickTakesSection",()=>{let e=(0,k.IS)(C),{expanded:t,toggleExpanded:n}=(0,r.c)({section:"quickTakes",defaultExpanded:"all",onExpandEvent:"quickTakesSectionExpanded",onCollapseEvent:"quickTakesSectionCollapsed",cookieName:d.un}),{expanded:s,toggleExpanded:a}=(0,r.c)({section:"quickTakesCommunity",defaultExpanded:e=>{var t;return(null==e||!e.hideCommunitySection)&&!!(null==e||null==(t=e.expandedFrontpageSections)?void 0:t.community)},onExpandEvent:"quickTakesSectionShowCommunity",onCollapseEvent:"quickTakesSectionHideCommunity",cookieName:d.wz,forceSetCookieIfUndefined:!0}),l=(0,u.Ok)("Quick Takes"),h=(0,i.jsx)("div",{children:"A feed of quick takes by other users, sorted by recency and karma."}),x=(0,u.kL)()?l:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(g.default,{title:h,placement:"left",children:(0,i.jsx)(m.Link,{to:"/quicktakes",children:l})})}),f=(0,u.kL)()?"/quicktakes":void 0,v=(0,c.m8j)()?()=>(0,i.jsx)(g.default,{title:'Show quick takes tagged "Community"',placement:"left",hideOnTouchScreens:!0,children:(0,i.jsxs)("div",{className:e.communityToggle,onClick:a,children:[(0,i.jsx)(o.A,{checked:s}),(0,i.jsx)("span",{children:"Show community"})]})}):void 0;return(0,i.jsx)(p.A,{pageSectionContext:"quickTakesSection",expanded:t,toggleExpanded:n,title:x,afterTitleTo:f,AfterTitleComponent:v,children:(0,i.jsx)(w.S,{name:"QuickTakesSection",children:(0,i.jsx)(A,{showCommunity:s})})})},{areEqual:"auto"})},98912:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ev});var i=n(95155),o=n(12115),s=n(88262),a=n(82325),r=n(80693),l=n(88974),d=n(36944),c=n(70704),u=n(43626),m=n(85197),p=n(11559),g=n(62813),h=n(66121),x=n(33193),f=n(43819),v=n(52370),b=n(29673),y=n(6421),j=n(2428),k=n(79850),w=n(73987);let S=(0,s.N)("RecentDiscussionTag",e=>{var t,n,s;let{tag:a,refetch:r=()=>{},comments:l,expandAllThreads:u,tagCommentType:p="DISCUSSION",classes:S}=e,[C,A]=(0,o.useState)(!0),[T,I]=(0,o.useState)(!1),{captureEvent:N}=(0,d.z1)(),R=(0,b.z)({documentId:a._id,documentType:"tag"}),L=l&&(null==(t=l[0])?void 0:t._id),F=(0,f.o)((0,m.aF)(l),e=>e.item._id),B=(0,o.useCallback)(()=>{A(!1),I(!0),N("readMoreClicked",{tagId:a._id,tagName:a.name,pageSectionContext:"recentDiscussion"})},[a._id,a.name,N]),P=null==(n=a.description)?void 0:n.html,D="<a>(".concat((0,v.Ok)("Read More"),")</a>"),_=C?(0,x.xv)(P,a.descriptionTruncationCount||2,"paragraphs",D):P,E={refetch:r,scrollOnExpand:!1,lastCommentId:L,highlightDate:(0,w.p)(null!=(s=a.lastVisitedAt)?s:void 0),tag:a,condensed:!0},M=a.wikiOnly?"Wiki page":"".concat(c.fgA.get()," page - ").concat(a.postCount," posts");return(0,i.jsxs)("div",{ref:R,className:S.root,children:[(0,i.jsxs)("div",{className:S.tag,children:[(0,i.jsx)(h.Link,{to:(0,g.Ag)(a),className:S.title,children:a.name}),(0,i.jsx)("div",{className:S.metadata,children:(0,i.jsx)("span",{children:M})}),(0,i.jsx)("div",{onClick:B,children:(0,i.jsx)(k.A,{contentType:"comment",children:(0,i.jsx)(j.H,{dangerouslySetInnerHTML:{__html:_||""},description:"tag ".concat(a.name)})})})]}),F.length?(0,i.jsx)("div",{className:S.content,children:(0,i.jsx)("div",{className:S.commentsList,children:F.map(e=>(0,i.jsx)("div",{children:(0,i.jsx)(y.A,{treeOptions:E,startThreadTruncated:!0,expandAllThreads:u||T,nestingLevel:1,comment:e.item,childComments:e.children},e.item._id)},e.item._id))})}):null]})},{styles:e=>({root:{marginBottom:4*e.spacing.unit,position:"relative",minHeight:58,boxShadow:e.palette.boxShadow.default,borderRadius:3,backgroundColor:e.palette.panelBackground.recentDiscussionThread},title:{...e.typography.display2,...e.typography.commentStyle,...e.typography.smallCaps,marginTop:0,marginBottom:8,display:"block",fontSize:"1.75rem"},tag:{paddingTop:18,paddingLeft:16,paddingRight:16,paddingBottom:12,background:e.palette.panelBackground.default,borderRadius:3,marginBottom:4,[e.breakpoints.down("xs")]:{paddingTop:16,paddingLeft:14,paddingRight:14}},content:{marginLeft:4,marginRight:4,paddingBottom:1},commentsList:{marginTop:12,marginLeft:12,marginBottom:8,[e.breakpoints.down("sm")]:{marginLeft:0,marginRight:0,marginBottom:0}},metadata:{fontSize:"1.1rem",color:e.palette.text.dim3,...e.typography.commentStyle}}),hocs:[p.A]});var C=n(40329),A=n(21685);let T=(0,C.Il)("RecentDiscussionTagRevisionItem",e=>({root:{backgroundColor:e.palette.panelBackground.recentDiscussionThread,marginBottom:e.isFriendlyUI?2*e.spacing.unit:4*e.spacing.unit,position:"relative",boxShadow:e.palette.boxShadow.default,borderRadius:e.borderRadius[e.isFriendlyUI?"default":"small"],paddingLeft:16,paddingRight:16,paddingTop:18,paddingBottom:12,[e.breakpoints.down("xs")]:{paddingTop:16,paddingLeft:14,paddingRight:14}}})),I=["BkbwT5TzSj4aRxJMN","pkJTc4xXhsCbNqkZM","SuPnfB9qqKWsucNzm"],N=["pkJTc4xXhsCbNqkZM"],R=(0,s.N)("RecentDiscussionTagRevisionItem",function(e){var t,n;let{tag:o,collapsed:s=!1,headingStyle:a,revision:r,documentId:l}=e,d=(0,C.IS)(T);return o.adminOnly||(0,c.m8j)()&&I.includes(null!=(t=r.userId)?t:"")&&(N.includes(null!=(n=r.userId)?n:"")||r.changeMetrics.added<600)?null:(0,i.jsx)("div",{className:d.root,children:(0,i.jsx)(A.A,{noContainer:!0,tag:o,collapsed:s,headingStyle:a,revision:r,documentId:l})})});var L=n(92508),F=n(42877),B=n(83941),P=n(16604),D=n(84300),_=n(49831),E=n(61055),M=n(44597),W=n(21363),O=n(96973);let z=(0,s.N)("RecentDiscussionMeetupsPoke",e=>{let{classes:t}=e,[n,s]=(0,B._Y)(),[a,r]=(0,o.useState)(!1),[l,d]=(0,o.useState)(null),[c,u]=(0,o.useState)(null),{flash:m}=(0,F.o)(),[p,g]=(0,o.useState)(!1),[h,x]=(0,o.useState)(30),f=(0,P.H)(),v=(0,o.useRef)(null),[b,y]=(0,o.useState)(!0),[j,k]=(0,o.useState)(!1),w=e=>{u(e),S(b),C(j)},S=e=>{y(e),e?f({nearbyEventsNotifications:!0,nearbyEventsNotificationsLocation:c,nearbyEventsNotificationsRadius:h}):f({nearbyEventsNotifications:!1,nearbyEventsNotificationsLocation:null,nearbyEventsNotificationsRadius:null})},C=e=>{k(e),e?(e=>{f({location:null==e?void 0:e.formatted_address})})(c):f({location:""})};return p?null:(0,i.jsxs)("div",{className:t.root,children:[(0,i.jsx)("div",{children:"Did you know that there are LessWrong meetups? To get email notification of meetups near you, enter your location:"}),(0,i.jsxs)("div",{className:t.locationInputWrapper,children:[n?(0,i.jsx)(M.A,{ref:v,placeholder:"My Location",className:t.locationInput,onSuggestSelect:e=>{w(null==e?void 0:e.gmaps),d(null==e?void 0:e.label)},initialValue:l}):(0,i.jsx)(O.default,{}),a?(0,i.jsx)(O.default,{}):(0,i.jsx)(D.A,{className:t.geolocateButton,onClick:()=>{r(!0),navigator.geolocation.getCurrentPosition(async e=>{try{if(null==e?void 0:e.coords){let t=new s.Geocoder,n=await t.geocode({location:{lat:e.coords.latitude,lng:e.coords.longitude}}),i=null==n?void 0:n.results;if((null==i?void 0:i.length)>0){let e=(0,W.ok)(i);v.current&&v.current.update(e.formatted_address),w(e)}}}finally{r(!1)}},e=>{r(!1)})},children:"Geolocate"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(_.A,{className:t.checkbox,checked:b,onChange:e=>S(e.target.checked)}),"Notify me of events within"," ",(0,i.jsx)(E.A,{type:"number",className:t.radiusInput,value:h,onChange:e=>(e=>{let t=parseFloat(e);isNaN(t)||(x(t),f({nearbyEventsNotificationsRadius:t}))})(e.target.value)})," ","miles"]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(_.A,{className:t.checkbox,checked:j,onChange:e=>C(e.target.checked)}),"Show this location on my public profile"]}),(0,i.jsxs)("div",{className:t.buttons,children:[(0,i.jsx)(D.A,{onClick:()=>g(!0),children:"Maybe Later"}),(0,i.jsx)(D.A,{onClick:()=>void(g(!0),f({hideMeetupsPoke:!0})),children:"Don't Ask Again"})]})]})},{styles:e=>({root:{marginBottom:4*e.spacing.unit,position:"relative",minHeight:58,backgroundColor:e.palette.panelBackground.recentDiscussionThread,padding:16,...e.typography.body2,border:"1px solid ".concat(e.palette.grey.A200),borderRadius:10,boxShadow:e.palette.boxShadow.recentDiscussionMeetupsPoke,marginLeft:"auto",marginRight:"auto",maxWidth:500},locationInputWrapper:{display:"flex"},locationInput:{display:"inline-block",borderBottom:"1px solid ".concat(e.palette.text.normal),flexGrow:1,marginTop:40,marginBottom:40,position:"relative",...(0,B.i5)(e)},geolocateButton:{},checkbox:{padding:4},radiusInput:{maxWidth:35},buttons:{marginTop:16,textAlign:"right"}}),hocs:[p.A]});var H=n(13369),q=n(28203),G=n(72561),V=n(22299),U=n.n(V),$=n(23211),Y=n(27360),J=n(5988);let Q=(0,s.N)("EARecentDiscussionItem",e=>{let{icon:t,iconVariant:n,user:o,action:s,postTitleOverride:a,postUrlOverride:r,post:l,tag:c,timestamp:u,anonymous:m,pageSubSectionContext:p="recentDiscussionThread",children:x,classes:f}=e;return(0,i.jsx)(d.Ig,{pageSubSectionContext:p,children:(0,i.jsxs)("div",{className:f.root,children:[(0,i.jsxs)("div",{className:f.container,children:[(0,i.jsx)("div",{className:U()(f.iconContainer,{[f.iconPrimary]:"primary"===n,[f.iconGrey]:"grey"===n,[f.iconGreen]:"green"===n}),children:(0,i.jsx)(G.A,{icon:t})}),(0,i.jsxs)("div",{className:f.meta,children:[m?"Somebody":(0,i.jsx)($.A,{user:o,className:f.primaryText})," ",s," ",l&&(0,i.jsx)(h.Link,{to:null!=r?r:(0,q.lz)(l),className:f.primaryText,eventProps:r?void 0:{intent:"expandPost"},children:null!=a?a:l.title}),c&&(0,i.jsx)(J.A,{tag:c,As:"span",children:(0,i.jsx)(h.Link,{to:(0,g.Yq)(c),className:f.primaryText,children:c.name})})," ",(0,i.jsx)(Y.A,{date:u,includeAgo:!0})]})]}),x&&(0,i.jsxs)("div",{className:f.container,children:[(0,i.jsx)("div",{className:U()(f.iconContainer,f.hideOnMobile)}),(0,i.jsx)("div",{className:f.content,children:x})]})]})})},{styles:e=>({root:{display:"flex",flexDirection:"column",fontFamily:e.palette.fonts.sansSerifStack,fontSize:14,fontWeight:500,color:e.palette.grey[600],margin:"28px 0","&:first-child":{marginTop:8}},primaryText:{color:e.palette.grey[1e3]},iconContainer:{display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.text.alwaysWhite,borderRadius:"50%",minWidth:24,width:24,height:24,"& svg":{width:14,height:14}},iconPrimary:{backgroundColor:e.palette.primary.main},iconGrey:{backgroundColor:e.palette.icon.recentDiscussionGrey},iconGreen:{backgroundColor:e.palette.icon.recentDiscussionGreen},container:{display:"flex",gap:"8px"},meta:{marginBottom:12,lineHeight:"1.5em",fontWeight:500},content:{flexGrow:1,minWidth:0,background:e.palette.grey[0],border:"1px solid ".concat(e.palette.grey[200]),borderRadius:e.borderRadius.default,color:e.palette.grey[1e3],padding:12},hideOnMobile:{[e.breakpoints.down("xs")]:{display:"none"}}})});var Z=n(14733),K=n(58151),X=n(76092),ee=n(9485),et=n(32051);let en=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(null==t?void 0:t.length)?{icon:"CommentFilled",iconVariant:"primary",user:t[0].user,action:"commented on",post:e,timestamp:(0,w.p)(t[0].postedAt)}:e.isEvent?{icon:"Calendar",iconVariant:"grey",user:e.user,action:"scheduled",post:e,timestamp:(0,w.p)(e.postedAt)}:{icon:e.question?"Q":"DocumentFilled",iconVariant:"grey",user:e.user,action:"posted",post:e,timestamp:(0,w.p)(e.postedAt)}},ei=(0,s.N)("EARecentDiscussionThread",e=>{var t,n;let{post:o,comments:s,refetch:a,expandAllThreads:r,classes:l}=e,{isSkippable:d,expandAllThreads:c,nestedComments:u,treeOptions:m}=(0,H.F)({post:o,comments:s,refetch:a,initialExpandAllThreads:r}),p=(0,b.z)({documentId:o._id,documentType:"post"});return d?null:(0,i.jsxs)(Q,{...en(o,s),children:[(0,i.jsxs)("div",{ref:p,className:l.header,children:[!o.isEvent&&(0,i.jsx)(ee.A,{post:o,className:l.karmaDisplay}),(0,i.jsxs)("div",{className:l.postInfo,children:[(0,i.jsx)(et.A,{post:o,read:null!=(t=o.isRead)?t:void 0,className:l.postTitle,linkEventProps:{intent:"expandPost"}}),(0,i.jsx)(Z.A,{post:o,useEventStyles:!0})]}),!o.isEvent&&(0,i.jsxs)(h.Link,{to:(0,q.i_)(o),className:l.commentCount,children:[(0,i.jsx)(G.A,{icon:"Comment"}),null!=(n=o.commentCount)?n:0]})]}),o.url&&(0,i.jsx)(X.A,{post:o}),(0,i.jsx)(K.A,{post:o,lines:(null==s?void 0:s.length)?3:10,useCustomHighlight:!1,className:U()({[l.excerptBottomMargin]:u.length})}),u.map(e=>(0,i.jsx)("div",{children:(0,i.jsx)(y.A,{treeOptions:m,startThreadTruncated:!0,expandAllThreads:c,expandNewComments:!1,nestingLevel:1,comment:e.item,childComments:e.children})},e.item._id))]})},{styles:e=>({header:{display:"flex",alignItems:"center",gap:"8px",marginBottom:15},postInfo:{flexGrow:1,minWidth:0},karmaDisplay:{marginLeft:6,marginRight:8},postTitle:{marginBottom:4,fontSize:16,fontWeight:600,display:"block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},commentCount:{alignSelf:"flex-start",color:e.palette.grey[600],display:"flex",gap:"4px","& svg":{fontSize:18}},excerptBottomMargin:{marginBottom:16}})});var eo=n(77614),es=n(41189);let ea=(0,s.N)("EARecentDiscussionQuickTake",e=>{let{post:t,comments:n,refetch:o,expandAllThreads:s,index:a,classes:r}=e,{isSkippable:l,expandAllThreads:c,nestedComments:u,treeOptions:m}=(0,H.F)({post:t,comments:n,refetch:o,initialExpandAllThreads:s});if(l)return null;let p=(e=>{let t={};for(let n of e)n.item.topLevelCommentId&&(t[n.item.topLevelCommentId]?t[n.item.topLevelCommentId].push(n):t[n.item.topLevelCommentId]=[n]);return Object.values(t)})(u);return(0,i.jsx)(i.Fragment,{children:p.map((e,n)=>{var o;if(!e.length)return null;let s=!!e[0].item.parentCommentId,l=s?e[0].item.topLevelComment:e[0].item;return l?(0,i.jsx)(d.Ig,{feedCardIndex:a,children:(0,i.jsxs)(Q,{...((e,t)=>{var n,i;let{item:o}=t;return o.parentCommentId?{icon:"CommentFilled",iconVariant:"primary",user:o.user,action:"commented on",postTitleOverride:"".concat(null==(n=e.user)?void 0:n.displayName,"'s quick take"),postUrlOverride:(0,eo.aK)({commentId:null!=(i=o.topLevelCommentId)?i:o._id,postId:e._id,postSlug:e.slug}),post:e,timestamp:(0,w.p)(o.postedAt)}:{icon:"CommentFilled",iconVariant:"grey",user:e.user,action:"posted a",postTitleOverride:"Quick Take",postUrlOverride:(0,eo.aK)({commentId:o._id,postId:e._id,postSlug:e.slug}),post:e,timestamp:(0,w.p)(o.postedAt)}})(t,e[0]),children:[(0,i.jsx)(es.A,{treeOptions:m,comment:l,nestingLevel:1,truncated:!1,excerptLines:(null!=(o=l.descendentCount)?o:0)>1?3:20,className:U()(r.quickTakeBody,{[r.noBottomPadding]:!s})}),s&&e.map(e=>(0,i.jsx)(y.A,{treeOptions:{...m,hideParentCommentToggleForTopLevel:!0},truncated:!1,expandAllThreads:c,expandNewComments:!1,nestingLevel:1,comment:e.item,childComments:e.children},e.item._id))]})},l._id):null})})},{styles:e=>({quickTakeBody:{padding:0,"& .CommentsItemMeta-root":{paddingTop:0,"& .CommentsItemMeta-rightSection":{top:0}}},noBottomPadding:{"& .CommentsItem-bottom":{paddingBottom:0}}})});var er=n(68837);let el=(0,s.N)("EARecentDiscussionTagCommented",e=>{var t;let{tag:n,comments:o,refetch:s,expandAllThreads:a,classes:r}=e;if(!o.length)return null;let l=o[0]._id,d=(0,m.aF)(o),u={scrollOnExpand:!0,lastCommentId:l,highlightDate:(0,w.p)(null!=(t=n.lastVisitedAt)?t:void 0),refetch:s,condensed:!0,tag:n},p=n.wikiOnly?"Wiki page":"".concat(c.fgA.get()," page - ").concat(n.postCount," posts");return(0,i.jsxs)(Q,{icon:"CommentFilled",iconVariant:"primary",user:o[0].user,action:"commented on tag",tag:n,timestamp:(0,w.p)(o[0].postedAt),children:[(0,i.jsxs)("div",{className:r.heading,children:[(0,i.jsx)(h.Link,{to:(0,g.Yq)(n),className:r.tagName,children:n.name}),(0,i.jsx)("div",{className:r.metadata,children:p})]}),(0,i.jsx)(er.A,{tag:n,className:r.excerpt}),d.map(e=>(0,i.jsx)("div",{children:(0,i.jsx)(y.A,{treeOptions:u,startThreadTruncated:!0,expandAllThreads:a,expandNewComments:!1,nestingLevel:1,comment:e.item,childComments:e.children})},e.item._id))]})},{styles:e=>({heading:{marginBottom:12},tagName:{fontSize:16,fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},metadata:{marginTop:8,color:e.palette.grey[600]},excerpt:{marginBottom:16}})}),ed=(0,s.N)("EARecentDiscussionTagRevision",e=>{let{tag:t,revision:n,collapsed:o,headingStyle:s,documentId:a}=e;return(0,i.jsx)(Q,{icon:"TagFilled",iconVariant:"green",user:n.user,action:"edited ".concat(c.LBN.get()),tag:t,timestamp:(0,w.p)(n.editedAt),children:(0,i.jsx)(A.A,{tag:t,revision:n,collapsed:o,headingStyle:s,documentId:a,showDiscussionLink:!1,noContainer:!0})})});var ec=n(93664),eu=n(90252),em=n(60442),ep=n(25583),eg=n(88337),eh=n(19713),ex=n(55643);let ef=(0,C.Il)("RecentDiscussionFeed",e=>({titleRow:{display:"flex",columnGap:10,alignItems:"center",width:"100%",...e.isBookUI&&{color:e.palette.text.bannerAdOverlay}},titleText:{}})),ev=(0,s.N)("RecentDiscussionFeed",e=>{let{commentsLimit:t,maxAgeHours:n,af:s,title:m="Recent Discussion",shortformButton:p=!0}=e,g=(0,C.IS)(ef),[h,x]=(0,o.useState)(!1),[f,v]=(0,o.useState)(!1),b=(0,o.useRef)(null),y=(0,a.iZ)(),j=(null==y?void 0:y.noCollapseCommentsFrontpage)||h,k=(0,o.useMemo)(()=>{var e;let t=window.sessionStorage,n=t&&null!=(e=t.getItem("recentDiscussionSessionId"))?e:(0,ex.zE)();return t.setItem("recentDiscussionSessionId",n),n},[]);(0,r.u)(e=>{(e.metaKey||e.ctrlKey)&&70===e.keyCode&&x(!0)}),(0,o.useCallback)(()=>{v(!f)},[v,f]);let w=(0,o.useCallback)(()=>{b.current&&b.current()},[b]),{ThreadComponent:A,ShortformComponent:T,TagCommentedComponent:I,TagRevisionComponent:N,SubscribeReminderComponent:F,MeetupsPokeComponent:B}=(0,l.gE)({LWAF:{ThreadComponent:u.A,ShortformComponent:u.A,TagCommentedComponent:S,TagRevisionComponent:R,SubscribeReminderComponent:L.A,MeetupsPokeComponent:z},default:{ThreadComponent:ei,ShortformComponent:ea,TagCommentedComponent:el,TagRevisionComponent:ed,SubscribeReminderComponent:L.A,MeetupsPokeComponent:()=>null}}),P=c.R_B.get()?{render:()=>(0,i.jsx)(F,{})}:void 0;return(0,i.jsx)(d.Ig,{pageSectionContext:"recentDiscussion",recentDiscussionContext:{feedSessionId:k},children:(0,i.jsx)(ep.A,{eventProps:{inViewType:"recentDiscussion"},children:(0,i.jsxs)(ec.A,{children:[(0,i.jsx)(eu.Ay,{title:m,titleClassName:g.titleText,children:(0,i.jsx)(eh.A,{currentFeedType:"classic"})}),(0,i.jsx)(em.A,{query:eg.KR,variables:{commentsLimit:t,maxAgeHours:n,tagCommentsLimit:t,af:s},firstPageSize:10,pageSize:20,refetchRef:b,renderers:{postCommented:{render:(e,t)=>{var n;return(0,i.jsx)(d.Ig,{pageSubSectionContext:"recentDiscussionThread",feedCardIndex:t,children:(0,i.jsx)(A,{post:e,refetch:w,comments:null!=(n=e.recentComments)?n:void 0,expandAllThreads:j})})}},shortformCommented:{render:(e,t)=>{var n;return(0,i.jsx)(d.Ig,{pageSubSectionContext:"recentDiscussionShortform",feedCardIndex:t,children:(0,i.jsx)(T,{post:e,refetch:w,comments:null!=(n=e.recentComments)?n:void 0,expandAllThreads:j})})}},tagDiscussed:{render:(e,t)=>(0,i.jsx)(d.Ig,{pageSubSectionContext:"recentDiscussionTag",feedCardIndex:t,children:(0,i.jsx)(I,{tag:e,refetch:w,comments:e.recentComments,expandAllThreads:j})})},tagRevised:{render:(e,t)=>(0,i.jsx)("div",{children:e.tag&&e.documentId&&(0,i.jsx)(d.Ig,{feedCardIndex:t,children:(0,i.jsx)(N,{tag:e.tag,revision:e,headingStyle:"full",documentId:e.documentId})})})},subscribeReminder:P,meetupsPoke:{render:()=>(0,i.jsx)(B,{})}}})]})})})},{areEqual:"auto"})}},e=>{e.O(0,[586,7596,5579,2545,8783,240,4609,2433,6394,375,6908,4321,2378,6949,1460,6201,2107,6374,7295,4758,9334,2664,7289,1767,9866,5604,4278,4514,2824,329,7475,5521,2217,9063,5954,4100,9385,3377,1444,2428,4782,7759,7962,3282,1084,4850,8441,1338,7358],()=>e(e.s=58149)),_N_E=e.O()}]);
//# sourceMappingURL=page-d4ff9d054afc5c51.js.map